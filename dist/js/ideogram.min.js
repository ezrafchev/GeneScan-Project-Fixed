/*! For license information please see ideogram.min.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(self,(()=>(()=>{"use strict";var t={136:()=>{try{self["workbox:core:7.0.0"]&&_()}catch(t){}},331:()=>{try{self["workbox:range-requests:7.0.0"]&&_()}catch(t){}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{default:()=>Ny});var o={};n.r(o),n.d(o,{blob:()=>St,buffer:()=>Lt,csv:()=>Ut,dsv:()=>zt,html:()=>Jt,image:()=>Yt,json:()=>Xt,svg:()=>Zt,text:()=>Wt,tsv:()=>$t,xml:()=>Qt});var i={};n.r(i),n.d(i,{brush:()=>Fr,brushSelection:()=>Ir,brushX:()=>Nr,brushY:()=>Dr});var a={};n.r(a),n.d(a,{dispatch:()=>ie});var s={};n.r(s),n.d(s,{FormatSpecifier:()=>zr,format:()=>Xr,formatDefaultLocale:()=>to,formatLocale:()=>Zr,formatPrefix:()=>Kr,formatSpecifier:()=>qr,precisionFixed:()=>eo,precisionPrefix:()=>no,precisionRound:()=>ro});const c="1.47.0";function l(){}function u(t){return null==t?l:function(){return this.querySelector(t)}}function f(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function h(){return[]}function d(t){return null==t?h:function(){return this.querySelectorAll(t)}}function p(t){return function(){return this.matches(t)}}function m(t){return function(e){return e.matches(t)}}var g=Array.prototype.find;function y(){return this.firstElementChild}var v=Array.prototype.filter;function b(){return Array.from(this.children)}function w(t){return new Array(t.length)}function x(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function A(t,e,n,r,o,i){for(var a,s=0,c=e.length,l=i.length;s<l;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new x(t,i[s]);for(;s<c;++s)(a=e[s])&&(o[s]=a)}function C(t,e,n,r,o,i,a){var s,c,l,u=new Map,f=e.length,h=i.length,d=new Array(f);for(s=0;s<f;++s)(c=e[s])&&(d[s]=l=a.call(c,c.__data__,s,e)+"",u.has(l)?o[s]=c:u.set(l,c));for(s=0;s<h;++s)l=a.call(t,i[s],s,i)+"",(c=u.get(l))?(r[s]=c,c.__data__=i[s],u.delete(l)):n[s]=new x(t,i[s]);for(s=0;s<f;++s)(c=e[s])&&u.get(d[s])===c&&(o[s]=c)}function S(t){return t.__data__}function k(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function L(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}x.prototype={constructor:x,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var T="http://www.w3.org/1999/xhtml";const E={svg:"http://www.w3.org/2000/svg",xhtml:T,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function O(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),E.hasOwnProperty(e)?{space:E[e],local:t}:t}function P(t){return function(){this.removeAttribute(t)}}function j(t){return function(){this.removeAttributeNS(t.space,t.local)}}function M(t,e){return function(){this.setAttribute(t,e)}}function I(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function N(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function D(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function F(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function B(t){return function(){this.style.removeProperty(t)}}function R(t,e,n){return function(){this.style.setProperty(t,e,n)}}function G(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H(t,e){return t.style.getPropertyValue(e)||F(t).getComputedStyle(t,null).getPropertyValue(e)}function W(t){return function(){delete this[t]}}function q(t,e){return function(){this[t]=e}}function z(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function U(t){return t.trim().split(/^|\s+/)}function $(t){return t.classList||new Y(t)}function Y(t){this._node=t,this._names=U(t.getAttribute("class")||"")}function V(t,e){for(var n=$(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function X(t,e){for(var n=$(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function K(t){return function(){V(this,t)}}function Q(t){return function(){X(this,t)}}function J(t,e){return function(){(e.apply(this,arguments)?V:X)(this,t)}}function Z(){this.textContent=""}function tt(t){return function(){this.textContent=t}}function et(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function nt(){this.innerHTML=""}function rt(t){return function(){this.innerHTML=t}}function ot(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function it(){this.nextSibling&&this.parentNode.appendChild(this)}function at(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function st(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===T&&e.documentElement.namespaceURI===T?e.createElement(t):e.createElementNS(n,t)}}function ct(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function lt(t){var e=O(t);return(e.local?ct:st)(e)}function ut(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function ht(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function pt(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function mt(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function gt(t,e,n){var r=F(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function yt(t,e){return function(){return gt(this,t,e)}}function vt(t,e){return function(){return gt(this,t,e.apply(this,arguments))}}Y.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var bt=[null];function wt(t,e){this._groups=t,this._parents=e}function xt(){return new wt([[document.documentElement]],bt)}wt.prototype=xt.prototype={constructor:wt,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],c=s.length,l=r[o]=new Array(c),f=0;f<c;++f)(i=s[f])&&(a=t.call(i,i.__data__,f,s))&&("__data__"in i&&(a.__data__=i.__data__),l[f]=a);return new wt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return f(t.apply(this,arguments))}}(t):d(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),o.push(a));return new wt(r,o)},selectChild:function(t){return this.select(null==t?y:function(t){return function(){return g.call(this.children,t)}}("function"==typeof t?t:m(t)))},selectChildren:function(t){return this.selectAll(null==t?b:function(t){return function(){return v.call(this.children,t)}}("function"==typeof t?t:m(t)))},filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new wt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,S);var n=e?C:A,r=this._parents,o=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=o.length,a=new Array(i),s=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],f=o[l],h=f.length,d=k(t.call(u,u&&u.__data__,l,r)),p=d.length,m=s[l]=new Array(p),g=a[l]=new Array(p);n(u,f,m,g,c[l]=new Array(h),d,e);for(var y,v,b=0,w=0;b<p;++b)if(y=m[b]){for(b>=w&&(w=b+1);!(v=g[w])&&++w<p;);y._next=v||null}}return(a=new wt(a,r))._enter=s,a._exit=c,a},enter:function(){return new wt(this._enter||this._groups.map(w),this._parents)},exit:function(){return new wt(this._exit||this._groups.map(w),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),c=0;c<a;++c)for(var l,u=n[c],f=r[c],h=u.length,d=s[c]=new Array(h),p=0;p<h;++p)(l=u[p]||f[p])&&(d[p]=l);for(;c<o;++c)s[c]=n[c];return new wt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=L);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,l=o[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new wt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=O(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?j:P:"function"==typeof e?n.local?D:N:n.local?I:M)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?B:"function"==typeof e?G:R)(t,e,null==n?"":n)):H(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?W:"function"==typeof e?z:q)(t,e)):this.node()[t]},classed:function(t,e){var n=U(t+"");if(arguments.length<2){for(var r=$(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?J:e?K:Q)(n,e))},text:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?et:tt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?nt:("function"==typeof t?ot:rt)(t)):this.node().innerHTML},raise:function(){return this.each(it)},lower:function(){return this.each(at)},append:function(t){var e="function"==typeof t?t:lt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:lt(t),r=null==e?ut:"function"==typeof e?e:u(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ft)},clone:function(t){return this.select(t?dt:ht)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?mt:pt,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?vt:yt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};const At=xt;function _t(t){return"string"==typeof t?new wt([[document.querySelector(t)]],[document.documentElement]):new wt([[t]],bt)}function Ct(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function St(t,e){return fetch(t,e).then(Ct)}function kt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Lt(t,e){return fetch(t,e).then(kt)}var Tt={},Et={},Ot=34,Pt=10,jt=13;function Mt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function It(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Nt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Dt(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,o=[],i=t.length,a=0,s=0,c=i<=0,l=!1;function u(){if(c)return Et;if(l)return l=!1,Tt;var e,r,o=a;if(t.charCodeAt(o)===Ot){for(;a++<i&&t.charCodeAt(a)!==Ot||t.charCodeAt(++a)===Ot;);return(e=a)>=i?c=!0:(r=t.charCodeAt(a++))===Pt?l=!0:r===jt&&(l=!0,t.charCodeAt(a)===Pt&&++a),t.slice(o+1,e-1).replace(/""/g,'"')}for(;a<i;){if((r=t.charCodeAt(e=a++))===Pt)l=!0;else if(r===jt)l=!0,t.charCodeAt(a)===Pt&&++a;else if(r!==n)continue;return t.slice(o,e)}return c=!0,t.slice(o,i)}for(t.charCodeAt(i-1)===Pt&&--i,t.charCodeAt(i-1)===jt&&--i;(r=u())!==Et;){for(var f=[];r!==Tt&&r!==Et;)f.push(r),r=u();e&&null==(f=e(f,s++))||o.push(f)}return o}function o(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function i(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?function(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Nt(-e,6):e>9999?"+"+Nt(e,6):Nt(e,4))+"-"+Nt(t.getUTCMonth()+1,2)+"-"+Nt(t.getUTCDate(),2)+(i?"T"+Nt(n,2)+":"+Nt(r,2)+":"+Nt(o,2)+"."+Nt(i,3)+"Z":o?"T"+Nt(n,2)+":"+Nt(r,2)+":"+Nt(o,2)+"Z":r||n?"T"+Nt(n,2)+":"+Nt(r,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,o,i=r(t,(function(t,r){if(n)return n(t,r-1);o=t,n=e?function(t,e){var n=Mt(t);return function(r,o){return e(n(r),o,t)}}(t,e):Mt(t)}));return i.columns=o||[],i},parseRows:r,format:function(e,n){return null==n&&(n=It(e)),[n.map(a).join(t)].concat(o(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=It(t)),o(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:a}}var Ft=Dt(","),Bt=Ft.parse,Rt=(Ft.parseRows,Ft.format,Ft.formatBody,Ft.formatRows,Ft.formatRow,Ft.formatValue,Dt("\t")),Gt=Rt.parse;function Ht(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Wt(t,e){return fetch(t,e).then(Ht)}function qt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Wt(e,n).then((function(e){return t(e,r)}))}}function zt(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var o=Dt(t);return Wt(e,n).then((function(t){return o.parse(t,r)}))}Rt.parseRows,Rt.format,Rt.formatBody,Rt.formatRows,Rt.formatRow,Rt.formatValue;var Ut=qt(Bt),$t=qt(Gt);function Yt(t,e){return new Promise((function(n,r){var o=new Image;for(var i in e)o[i]=e[i];o.onerror=r,o.onload=function(){n(o)},o.src=t}))}function Vt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Xt(t,e){return fetch(t,e).then(Vt)}function Kt(t){return(e,n)=>Wt(e,n).then((e=>(new DOMParser).parseFromString(e,t)))}const Qt=Kt("application/xml");var Jt=Kt("text/html"),Zt=Kt("image/svg+xml"),te={value:()=>{}};function ee(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ne(r)}function ne(t){this._=t}function re(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function oe(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=te,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ne.prototype=ee.prototype={constructor:ne,on:function(t,e){var n,r,o=this._,i=(r=o,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=i[a]).type)o[n]=oe(o[n],t.name,e);else if(null==e)for(n in o)o[n]=oe(o[n],t.name,null);return this}for(;++a<s;)if((n=(t=i[a]).type)&&(n=re(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ne(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};const ie=ee,ae={capture:!0,passive:!1};function se(t){t.preventDefault(),t.stopImmediatePropagation()}function ce(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function le(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ue(){}var fe=.7,he=1/fe,de="\\s*([+-]?\\d+)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",me="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ge=/^#([0-9a-f]{3,8})$/,ye=new RegExp(`^rgb\\(${de},${de},${de}\\)$`),ve=new RegExp(`^rgb\\(${me},${me},${me}\\)$`),be=new RegExp(`^rgba\\(${de},${de},${de},${pe}\\)$`),we=new RegExp(`^rgba\\(${me},${me},${me},${pe}\\)$`),xe=new RegExp(`^hsl\\(${pe},${me},${me}\\)$`),Ae=new RegExp(`^hsla\\(${pe},${me},${me},${pe}\\)$`),_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ce(){return this.rgb().formatHex()}function Se(){return this.rgb().formatRgb()}function ke(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ge.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Le(e):3===n?new Oe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Te(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Te(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ye.exec(t))?new Oe(e[1],e[2],e[3],1):(e=ve.exec(t))?new Oe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=be.exec(t))?Te(e[1],e[2],e[3],e[4]):(e=we.exec(t))?Te(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=xe.exec(t))?De(e[1],e[2]/100,e[3]/100,1):(e=Ae.exec(t))?De(e[1],e[2]/100,e[3]/100,e[4]):_e.hasOwnProperty(t)?Le(_e[t]):"transparent"===t?new Oe(NaN,NaN,NaN,0):null}function Le(t){return new Oe(t>>16&255,t>>8&255,255&t,1)}function Te(t,e,n,r){return r<=0&&(t=e=n=NaN),new Oe(t,e,n,r)}function Ee(t,e,n,r){return 1===arguments.length?((o=t)instanceof ue||(o=ke(o)),o?new Oe((o=o.rgb()).r,o.g,o.b,o.opacity):new Oe):new Oe(t,e,n,null==r?1:r);var o}function Oe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Pe(){return`#${Ne(this.r)}${Ne(this.g)}${Ne(this.b)}`}function je(){const t=Me(this.opacity);return`${1===t?"rgb(":"rgba("}${Ie(this.r)}, ${Ie(this.g)}, ${Ie(this.b)}${1===t?")":`, ${t})`}`}function Me(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ie(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ne(t){return((t=Ie(t))<16?"0":"")+t.toString(16)}function De(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Be(t,e,n,r)}function Fe(t){if(t instanceof Be)return new Be(t.h,t.s,t.l,t.opacity);if(t instanceof ue||(t=ke(t)),!t)return new Be;if(t instanceof Be)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new Be(a,s,c,t.opacity)}function Be(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Re(t){return(t=(t||0)%360)<0?t+360:t}function Ge(t){return Math.max(0,Math.min(1,t||0))}function He(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function We(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}ce(ue,ke,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ce,formatHex:Ce,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Fe(this).formatHsl()},formatRgb:Se,toString:Se}),ce(Oe,Ee,le(ue,{brighter(t){return t=null==t?he:Math.pow(he,t),new Oe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?fe:Math.pow(fe,t),new Oe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Oe(Ie(this.r),Ie(this.g),Ie(this.b),Me(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pe,formatHex:Pe,formatHex8:function(){return`#${Ne(this.r)}${Ne(this.g)}${Ne(this.b)}${Ne(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:je,toString:je})),ce(Be,(function(t,e,n,r){return 1===arguments.length?Fe(t):new Be(t,e,n,null==r?1:r)}),le(ue,{brighter(t){return t=null==t?he:Math.pow(he,t),new Be(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?fe:Math.pow(fe,t),new Be(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Oe(He(t>=240?t-240:t+120,o,r),He(t,o,r),He(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Be(Re(this.h),Ge(this.s),Ge(this.l),Me(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Me(this.opacity);return`${1===t?"hsl(":"hsla("}${Re(this.h)}, ${100*Ge(this.s)}%, ${100*Ge(this.l)}%${1===t?")":`, ${t})`}`}}));const qe=t=>()=>t;function ze(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):qe(isNaN(t)?e:t)}const Ue=function t(e){var n=function(t){return 1==(t=+t)?ze:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):qe(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ee(t)).r,(e=Ee(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=ze(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function $e(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Ee(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}function Ye(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=en(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function Ve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ke(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=en(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}$e((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return We((n-r/e)*e,a,o,i,s)}})),$e((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return We((n-r/e)*e,o,i,a,s)}}));var Qe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Je=new RegExp(Qe.source,"g");function Ze(t,e){var n,r,o,i=Qe.lastIndex=Je.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=Qe.exec(t))&&(r=Je.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Xe(n,r)})),i=Je.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function tn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function en(t,e){var n,r=typeof e;return null==e||"boolean"===r?qe(e):("number"===r?Xe:"string"===r?(n=ke(e))?(e=n,Ue):Ze:e instanceof ke?Ue:e instanceof Date?Ve:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?tn:Array.isArray(e)?Ye:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ke:Xe)(t,e)}function nn(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var rn,on,an=0,sn=0,cn=0,ln=0,un=0,fn=0,hn="object"==typeof performance&&performance.now?performance:Date,dn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pn(){return un||(dn(mn),un=hn.now()+fn)}function mn(){un=0}function gn(){this._call=this._time=this._next=null}function yn(t,e,n){var r=new gn;return r.restart(t,e,n),r}function vn(){un=(ln=hn.now())+fn,an=sn=0;try{!function(){pn(),++an;for(var t,e=rn;e;)(t=un-e._time)>=0&&e._call.call(void 0,t),e=e._next;--an}()}finally{an=0,function(){for(var t,e,n=rn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:rn=e);on=t,wn(r)}(),un=0}}function bn(){var t=hn.now(),e=t-ln;e>1e3&&(fn-=e,ln=t)}function wn(t){an||(sn&&(sn=clearTimeout(sn)),t-un>24?(t<1/0&&(sn=setTimeout(vn,t-hn.now()-fn)),cn&&(cn=clearInterval(cn))):(cn||(ln=hn.now(),cn=setInterval(bn,1e3)),an=1,dn(vn)))}function xn(t,e,n){var r=new gn;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}gn.prototype=yn.prototype={constructor:gn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?pn():+n)+(null==e?0:+e),this._next||on===this||(on?on._next=this:rn=this,on=this),this._call=t,this._time=n,wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,wn())}};var An=ie("start","end","cancel","interrupt"),_n=[],Cn=2,Sn=5,kn=6;function Ln(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(c){var l,u,f,h;if(1!==n.state)return s();for(l in o)if((h=o[l]).name===n.name){if(3===h.state)return xn(i);4===h.state?(h.state=kn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[l]):+l<e&&(h.state=kn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[l])}if(xn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=Cn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Cn){for(n.state=3,r=new Array(f=n.tween.length),l=0,u=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function a(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Sn,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);n.state===Sn&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=kn,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=yn((function(t){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:o,on:An,tween:_n,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function Tn(t,e){var n=On(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function En(t,e){var n=On(t,e);if(n.state>3)throw new Error("too late; already running");return n}function On(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pn(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>Cn&&n.state<Sn,n.state=kn,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}var jn,Mn=180/Math.PI,In={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nn(t,e,n,r,o,i){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Mn,skewX:Math.atan(c)*Mn,scaleX:a,scaleY:s}}function Dn(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],c=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:Xe(t,o)},{i:c-2,x:Xe(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Xe(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,c),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Xe(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,c),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Xe(t,n)},{i:s-2,x:Xe(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var Fn=Dn((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?In:Nn(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Bn=Dn((function(t){return null==t?In:(jn||(jn=document.createElementNS("http://www.w3.org/2000/svg","g")),jn.setAttribute("transform",t),(t=jn.transform.baseVal.consolidate())?Nn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):In)}),", ",")",")");function Rn(t,e){var n,r;return function(){var o=En(this,t),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function Gn(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=En(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=s;break}c===l&&o.push(s)}i.tween=o}}function Hn(t,e,n){var r=t._id;return t.each((function(){var t=En(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return On(t,r).value[e]}}function Wn(t,e){var n;return("number"==typeof e?Xe:e instanceof ke?Ue:(n=ke(e))?(e=n,Ue):Ze)(t,e)}function qn(t){return function(){this.removeAttribute(t)}}function zn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Un(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function $n(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Yn(t,e,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,c));this.removeAttribute(t)}}function Vn(t,e,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Xn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,o)),n}return o._value=e,o}function Kn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,o)),n}return o._value=e,o}function Qn(t,e){return function(){Tn(this,t).delay=+e.apply(this,arguments)}}function Jn(t,e){return e=+e,function(){Tn(this,t).delay=e}}function Zn(t,e){return function(){En(this,t).duration=+e.apply(this,arguments)}}function tr(t,e){return e=+e,function(){En(this,t).duration=e}}var er=At.prototype.constructor;function nr(t){return function(){this.style.removeProperty(t)}}var rr=0;function or(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ir(){return++rr}var ar=At.prototype;or.prototype=function(t){return At().transition(t)}.prototype={constructor:or,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,c,l=r[a],f=l.length,h=i[a]=new Array(f),d=0;d<f;++d)(s=l[d])&&(c=t.call(s,s.__data__,d,l))&&("__data__"in s&&(c.__data__=s.__data__),h[d]=c,Ln(h[d],e,n,d,h,On(s,n)));return new or(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=d(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var c,l=r[s],u=l.length,f=0;f<u;++f)if(c=l[f]){for(var h,p=t.call(c,c.__data__,f,l),m=On(c,n),g=0,y=p.length;g<y;++g)(h=p[g])&&Ln(h,e,n,g,p,m);i.push(p),a.push(c)}return new or(i,a,e,n)},selectChild:ar.selectChild,selectChildren:ar.selectChildren,filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new or(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=e[s],u=n[s],f=l.length,h=a[s]=new Array(f),d=0;d<f;++d)(c=l[d]||u[d])&&(h[d]=c);for(;s<r;++s)a[s]=e[s];return new or(a,this._parents,this._name,this._id)},selection:function(){return new er(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ir(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=On(a,e);Ln(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new or(r,this._parents,t,n)},call:ar.call,nodes:ar.nodes,node:ar.node,size:ar.size,empty:ar.empty,each:ar.each,on:function(t,e){var n=this._id;return arguments.length<2?On(this.node(),n).on.on(t):this.each(function(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Tn:En;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}(n,t,e))},attr:function(t,e){var n=O(t),r="transform"===n?Bn:Wn;return this.attrTween(t,"function"==typeof e?(n.local?Vn:Yn)(n,r,Hn(this,"attr."+t,e)):null==e?(n.local?zn:qn)(n):(n.local?$n:Un)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=O(t);return this.tween(n,(r.local?Xn:Kn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Fn:Wn;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=H(this,t),a=(this.style.removeProperty(t),H(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,nr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=H(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=H(this,t)),a===c?null:a===r&&c===o?i:(o=c,i=e(r=a,s))}}(t,r,Hn(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,s="end."+a;return function(){var c=En(this,t),l=c.on,u=null==c.value[a]?i||(i=nr(e)):void 0;l===n&&o===u||(r=(n=l).copy()).on(s,o=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=H(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,i,n)),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Hn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=On(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?Rn:Gn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Qn:Jn)(e,t)):On(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zn:tr)(e,t)):On(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){En(this,t).ease=e}}(e,t)):On(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;En(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0==--o&&i()}};n.each((function(){var n=En(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e})),0===o&&i()}))},[Symbol.iterator]:ar[Symbol.iterator]};var sr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function cr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}At.prototype.interrupt=function(t){return this.each((function(){Pn(this,t)}))},At.prototype.transition=function(t){var e,n;t instanceof or?(e=t._id,t=t._name):(e=ir(),(n=sr).time=pn(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)(a=s[l])&&Ln(a,t,e,l,s,n||cr(a,e));return new or(r,this._parents,t,e)};const lr=t=>()=>t;function ur(t,{sourceEvent:e,target:n,selection:r,mode:o,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function fr(t){t.preventDefault(),t.stopImmediatePropagation()}var hr={name:"drag"},dr={name:"space"},pr={name:"handle"},mr={name:"center"};const{abs:gr,max:yr,min:vr}=Math;function br(t){return[+t[0],+t[1]]}function wr(t){return[br(t[0]),br(t[1])]}var xr={name:"x",handles:["w","e"].map(Er),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ar={name:"y",handles:["n","s"].map(Er),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_r={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Er),input:function(t){return null==t?null:wr(t)},output:function(t){return t}},Cr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Sr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Lr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Tr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Er(t){return{type:t}}function Or(t){return!t.ctrlKey&&!t.button}function Pr(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function jr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ir(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Nr(){return Br(xr)}function Dr(){return Br(Ar)}function Fr(){return Br(_r)}function Br(t){var e,n=Pr,r=Or,o=jr,i=!0,a=ie("start","brush","end"),s=6;function c(e){var n=e.property("__brush",m).selectAll(".overlay").data([Er("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Cr.overlay).merge(n).each((function(){var t=Mr(this).extent;_t(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Er("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Cr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Cr[t.type]})),e.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(o).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=_t(this),e=Mr(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new f(t,e,n):r}function f(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function h(n){if((!e||n.touches)&&r.apply(this,arguments)){var o,a,s,c,f,h,d,p,m,g,y,v=this,b=n.target.__data__.type,w="selection"===(i&&n.metaKey?b="overlay":b)?hr:i&&n.altKey?mr:pr,x=t===Ar?null:Lr[b],A=t===xr?null:Tr[b],_=Mr(v),C=_.extent,S=_.selection,k=C[0][0],L=C[0][1],T=C[1][0],E=C[1][1],O=0,P=0,j=x&&A&&i&&n.shiftKey,M=Array.from(n.touches||[n],(t=>{const e=t.identifier;return(t=nn(t,v)).point0=t.slice(),t.identifier=e,t}));Pn(v);var I=u(v,arguments,!0).beforestart();if("overlay"===b){S&&(m=!0);const e=[M[0],M[1]||M[0]];_.selection=S=[[o=t===Ar?k:vr(e[0][0],e[1][0]),s=t===xr?L:vr(e[0][1],e[1][1])],[f=t===Ar?T:yr(e[0][0],e[1][0]),d=t===xr?E:yr(e[0][1],e[1][1])]],M.length>1&&R(n)}else o=S[0][0],s=S[0][1],f=S[1][0],d=S[1][1];a=o,c=s,h=f,p=d;var N=_t(v).attr("pointer-events","none"),D=N.selectAll(".overlay").attr("cursor",Cr[b]);if(n.touches)I.moved=B,I.ended=G;else{var F=_t(n.view).on("mousemove.brush",B,!0).on("mouseup.brush",G,!0);i&&F.on("keydown.brush",(function(t){switch(t.keyCode){case 16:j=x&&A;break;case 18:w===pr&&(x&&(f=h-O*x,o=a+O*x),A&&(d=p-P*A,s=c+P*A),w=mr,R(t));break;case 32:w!==pr&&w!==mr||(x<0?f=h-O:x>0&&(o=a-O),A<0?d=p-P:A>0&&(s=c-P),w=dr,D.attr("cursor",Cr.selection),R(t));break;default:return}fr(t)}),!0).on("keyup.brush",(function(t){switch(t.keyCode){case 16:j&&(g=y=j=!1,R(t));break;case 18:w===mr&&(x<0?f=h:x>0&&(o=a),A<0?d=p:A>0&&(s=c),w=pr,R(t));break;case 32:w===dr&&(t.altKey?(x&&(f=h-O*x,o=a+O*x),A&&(d=p-P*A,s=c+P*A),w=mr):(x<0?f=h:x>0&&(o=a),A<0?d=p:A>0&&(s=c),w=pr),D.attr("cursor",Cr[b]),R(t));break;default:return}fr(t)}),!0),function(t){var e=t.document.documentElement,n=_t(t).on("dragstart.drag",se,ae);"onselectstart"in e?n.on("selectstart.drag",se,ae):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(n.view)}l.call(v),I.start(n,w.name)}function B(t){for(const e of t.changedTouches||[t])for(const t of M)t.identifier===e.identifier&&(t.cur=nn(e,v));if(j&&!g&&!y&&1===M.length){const t=M[0];gr(t.cur[0]-t[0])>gr(t.cur[1]-t[1])?y=!0:g=!0}for(const t of M)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);m=!0,fr(t),R(t)}function R(t){const e=M[0],n=e.point0;var r;switch(O=e[0]-n[0],P=e[1]-n[1],w){case dr:case hr:x&&(O=yr(k-o,vr(T-f,O)),a=o+O,h=f+O),A&&(P=yr(L-s,vr(E-d,P)),c=s+P,p=d+P);break;case pr:M[1]?(x&&(a=yr(k,vr(T,M[0][0])),h=yr(k,vr(T,M[1][0])),x=1),A&&(c=yr(L,vr(E,M[0][1])),p=yr(L,vr(E,M[1][1])),A=1)):(x<0?(O=yr(k-o,vr(T-o,O)),a=o+O,h=f):x>0&&(O=yr(k-f,vr(T-f,O)),a=o,h=f+O),A<0?(P=yr(L-s,vr(E-s,P)),c=s+P,p=d):A>0&&(P=yr(L-d,vr(E-d,P)),c=s,p=d+P));break;case mr:x&&(a=yr(k,vr(T,o-O*x)),h=yr(k,vr(T,f+O*x))),A&&(c=yr(L,vr(E,s-P*A)),p=yr(L,vr(E,d+P*A)))}h<a&&(x*=-1,r=o,o=f,f=r,r=a,a=h,h=r,b in Sr&&D.attr("cursor",Cr[b=Sr[b]])),p<c&&(A*=-1,r=s,s=d,d=r,r=c,c=p,p=r,b in kr&&D.attr("cursor",Cr[b=kr[b]])),_.selection&&(S=_.selection),g&&(a=S[0][0],h=S[1][0]),y&&(c=S[0][1],p=S[1][1]),S[0][0]===a&&S[0][1]===c&&S[1][0]===h&&S[1][1]===p||(_.selection=[[a,c],[h,p]],l.call(v),I.brush(t,w.name))}function G(t){if(function(t){t.stopImmediatePropagation()}(t),t.touches){if(t.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else!function(t,e){var n=t.document.documentElement,r=_t(t).on("dragstart.drag",null);e&&(r.on("click.drag",se,ae),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,m),F.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),D.attr("cursor",Cr.overlay),_.selection&&(S=_.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(S)&&(_.selection=null,l.call(v)),I.end(t,w.name)}}function d(t){u(this,arguments).moved(t)}function p(t){u(this,arguments).ended(t)}function m(){var e=this.__brush||{selection:null};return e.extent=wr(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,n,r){e.tween?e.on("start.brush",(function(t){u(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){u(this,arguments).end(t)})).tween("brush",(function(){var e=this,r=e.__brush,o=u(e,arguments),i=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=en(i,a);function c(t){r.selection=1===t&&null===a?null:s(t),l.call(e),o.brush()}return null!==i&&null!==a?c:c(1)})):e.each((function(){var e=this,o=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,o):n,i.extent),s=u(e,o).beforestart();Pn(e),i.selection=null===a?null:a,l.call(e),s.start(r).brush(r).end(r)}))},c.clear=function(t,e){c.move(t,null,e)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,e){return this.starting?(this.starting=!1,this.emit("start",t,e)):this.emit("brush",t),this},brush:function(t,e){return this.emit("brush",t,e),this},end:function(t,e){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,e)),this},emit:function(e,n,r){var o=_t(this.that).datum();a.call(e,this.that,new ur(e,{sourceEvent:n,target:c,selection:t.output(this.state.selection),mode:r,dispatch:a}),o)}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:lr(wr(t)),c):n},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:lr(!!t),c):r},c.touchable=function(t){return arguments.length?(o="function"==typeof t?t:lr(!!t),c):o},c.handleSize=function(t){return arguments.length?(s=+t,c):s},c.keyModifiers=function(t){return arguments.length?(i=!!t,c):i},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}function Rr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gr(t){return(t=Rr(Math.abs(t)))?t[1]:NaN}var Hr,Wr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qr(t){if(!(e=Wr.exec(t)))throw new Error("invalid format: "+t);var e;return new zr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function zr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ur(t,e){var n=Rr(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}qr.prototype=zr.prototype,zr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const $r={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ur(100*t,e),r:Ur,s:function(t,e){var n=Rr(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(Hr=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Rr(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Yr(t){return t}var Vr,Xr,Kr,Qr=Array.prototype.map,Jr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Yr:(e=Qr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,s=e[0],c=0;o>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),i.push(t.substring(o-=s,o+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Yr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Qr.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=qr(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,m=t.comma,g=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):$r[v]||(void 0===g&&(g=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===h?o:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?i:/[%p]/.test(v)?c:"",x=$r[v],A=/[defgprs%]/.test(v);function _(t){var o,i,c,h=b,_=w;if("c"===v)_=x(t)+_,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==f&&(C=!1),h=(C?"("===f?f:l:"-"===f||"("===f?"":f)+h,_=("s"===v?Jr[8+Hr/3]:"")+_+(C&&"("===f?")":""),A)for(o=-1,i=t.length;++o<i;)if(48>(c=t.charCodeAt(o))||c>57){_=(46===c?a+t.slice(o+1):t.slice(o))+_,t=t.slice(0,o);break}}m&&!d&&(t=r(t,1/0));var S=h.length+t.length+_.length,k=S<p?new Array(p-S+1).join(e):"";switch(m&&d&&(t=r(k+t,k.length?p-_.length:1/0),k=""),n){case"<":t=h+t+_+k;break;case"=":t=h+k+t+_;break;case"^":t=k.slice(0,S=k.length>>1)+h+t+_+k.slice(S);break;default:t=k+h+t+_}return s(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,e){var n=f(((t=qr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Gr(e)/3))),o=Math.pow(10,-r),i=Jr[8+r/3];return function(t){return n(o*t)+i}}}}function to(t){return Vr=Zr(t),Xr=Vr.format,Kr=Vr.formatPrefix,Vr}function eo(t){return Math.max(0,-Gr(Math.abs(t)))}function no(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Gr(e)/3)))-Gr(Math.abs(t)))}function ro(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gr(e)-Gr(t))+1}to({thousands:",",grouping:[3],currency:["$",""]});var oo=Math.sqrt(50),io=Math.sqrt(10),ao=Math.sqrt(2);function so(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=oo?10:i>=io?5:i>=ao?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=oo?10:i>=io?5:i>=ao?2:1)}function co(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function lo(t){let e=t,n=t;function r(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>co(t(e),n)}(t)),{left:r,center:function(t,n,o,i){null==o&&(o=0),null==i&&(i=t.length);const a=r(t,n,o,i-1);return a>o&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}}const uo=lo(co),fo=uo.right,ho=(uo.left,lo((function(t){return null===t?NaN:+t})).center,fo);function po(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mo(t){return+t}var go=[0,1];function yo(t){return t}function vo(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function bo(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=vo(o,r),i=n(a,i)):(r=vo(r,o),i=n(i,a)),function(t){return i(r(t))}}function wo(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=vo(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=ho(t,e,1,r)-1;return i[n](o[n](e))}}function xo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ao(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=so(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,i=new Array(o=r-n+1);++s<o;)i[s]=(n+s)/a}return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var o,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=oo?o*=10:i>=io?o*=5:i>=ao&&(o*=2),e<t?-o:o}(t,e,n);switch((r=qr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=no(i,a))||(r.precision=o),Kr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=ro(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=eo(i))||(r.precision=o-2*("%"===r.type))}return Xr(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),a=0,s=i.length-1,c=i[a],l=i[s],u=10;for(l<c&&(o=c,c=l,l=o,o=a,a=s,s=o);u-- >0;){if((o=so(c,l,n))===r)return i[a]=c,i[s]=l,e(i);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o}r=o}return t},t}var _o={9606:{commonName:"Human",scientificName:"Homo sapiens",assemblies:{default:"GCF_000001405.26",GRCh38:"GCF_000001405.26",GRCh37:"GCF_000001405.13",NCBI36:"GCF_000001405.12"},hasGeneCache:!0,hasParalogCache:!0,hasInteractionCache:!0,hasGeneStructureCache:!0,hasProteinCache:!0,hasSynonymCache:!0,hasTissueCache:!0},10090:{commonName:"Mouse",scientificName:"Mus musculus",assemblies:{default:"GCF_000001635.27",GRCm39:"GCF_000001635.27",GRCm38:"GCF_000001635.20",MGSCv37:"GCF_000001635.18"},hasGeneCache:!0,hasParalogCache:!0,hasInteractionCache:!0,hasGeneStructureCache:!0,hasProteinCache:!0,hasSynonymCache:!0},9598:{commonName:"Chimpanzee",scientificName:"Pan troglodytes",assemblies:{default:"GCF_028858775.1","NHGRI_mPanTro3-v1.1-hic.freeze_pri":"GCF_028858775.1","Pan_tro 3.0":"GCF_000001515.7"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},10116:{commonName:"Rat",scientificName:"Rattus norvegicus",assemblies:{default:"GCF_000001895.5","Rnor_6.0":"GCF_000001895.5"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},3702:{commonName:"Thale cress",scientificName:"Arabidopsis thaliana",assemblies:{default:"GCF_000001735.3",TAIR10:"GCF_000001735.3"}},4530:{commonName:"Rice",scientificName:"Oryza sativa",assemblies:{default:"GCA_001433935.1","IRGSP-1.0":"GCA_001433935.1"}},4577:{commonName:"Maize",scientificName:"Zea mays",assemblies:{default:"GCA_000005005.5","IRGSP-1.0":"GCA_001433935.1"}},4641:{commonName:"Banana",scientificName:"Musa acuminata",assemblies:{default:"mock"}},7227:{commonName:"Fly",scientificName:"Drosophila melanogaster",assemblies:{default:"GCA_000001215.4","Release 6 plus ISO1 MT":"GCA_000001215.4"},hasSynonymCache:!0},7165:{commonName:"Mosquito",scientificName:"Anopheles gambiae",assemblies:{default:"GCF_000005575.2"}},746128:{commonName:"Aspergillis fumigatus",scientificName:"Aspergillis fumigatus",assemblies:{default:"GCF_000002655.1"}},227321:{scientificName:"Aspergillus nidulans",assemblies:{default:"GCF_000149205.2"}},5061:{commonName:"black mold",scientificName:"Aspergillus niger",assemblies:{default:"GCF_003184595.1"}},5062:{commonName:"koji",scientificName:"Aspergillus oryzae",assemblies:{default:"GCF_000184455.2"}},15368:{commonName:"stiff brome",scientificName:"Brachypodium distachyon",assemblies:{default:"GCF_000005505.3"}},60711:{commonName:"green monkey",scientificName:"Chlorocebus sabaeus",assemblies:{default:"GCF_015252025.1"}},7719:{commonName:"Vase tunicate",scientificName:"Ciona intestinalis",assemblies:{default:"GCF_000224145.3"}},9685:{commonName:"Cat",scientificName:"Felis catus",assemblies:{default:"GCF_000181335.3"},hasGeneCache:!0},9031:{commonName:"Chicken",scientificName:"Gallus gallus",assemblies:{default:"GCF_000002315.6"},hasGeneCache:!0,hasParalogCache:!0},9593:{commonName:"Gorilla",scientificName:"Gorilla gorilla",assemblies:{default:"GCF_008122165.1"}},4513:{commonName:"Barley",scientificName:"Hordeum vulgare",assemblies:{default:"GCA_901482405.1"}},9541:{commonName:"Crab-eating macaque",scientificName:"Macaca fascicularis",assemblies:{default:"GCF_000364345.1"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},9544:{commonName:"Rhesus macaque",scientificName:"Macaca mulatta",assemblies:{default:"GCF_003339765.1"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},9597:{commonName:"Bonobo",scientificName:"Pan paniscus",assemblies:{default:"GCF_013052645.1"}},9615:{commonName:"Dog",scientificName:"Canis lupus familiaris",assemblies:{default:"GCF_014441545.1"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},9823:{commonName:"Pig",scientificName:"Sus scrofa",assemblies:{default:"GCF_000003025.6"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},4932:{commonName:"Yeast",scientificName:"Saccharomyces cerevisiae",assemblies:{default:"GCA_000146045.2",R64:"GCA_000146045.2"}},5833:{commonName:"malaria parasite",scientificName:"Plasmodium falciparum",assemblies:{default:"GCA_000002765.3",GCA_000002765:"GCA_000002765.3"}},6239:{commonName:"worm",scientificName:"Caenorhabditis elegans",assemblies:{default:"GCF_000002985.6"},hasGeneCache:!0,hasParalogCache:!0,hasSynonymCache:!0},4081:{commonName:"tomato",scientificName:"Solanum lycopersicum",assemblies:{default:"GCF_000188115.4"}},4072:{commonName:"pepper",scientificName:"Capsicum annuum",assemblies:{default:"GCF_000710875.1"}},3694:{commonName:"black cottonwood",scientificName:"Populus trichocarpa",assemblies:{default:"GCF_000002775.5"}}};function Co(t){return function(t){if(Array.isArray(t))return So(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return So(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ko=Object.assign({},o,i,a,s);function Lo(){return"assembly"in this.config&&/(GCF_|GCA_)/.test(this.config.assembly)}function To(t){var e,n,r,o=document.scripts,i=Ideogram.version;if(!1===location.pathname.includes("/examples/vanilla/"))return"https://cdn.jsdelivr.net/npm/ideogram@".concat(i,"/dist/data/").concat(t);for(var a=0;a<o.length;a++)if(e=o[a],r=/ideogram/.test(e.src.split("/").slice(-1)),"src"in e&&r)return(n=e.src.split("//"))[0]+"//"+(n="/"+n[1].split("/").slice(0,-2).join("/"))+"/data/"+t;return"../data/"+t}function Eo(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return fetch(t).then((function(n){if(n.ok)return n;if(!1===e)return Eo(t.replace(".json",""),!0);throw Error("Fetch failed for "+t)}))}function Oo(){return To("bands/native/")}function Po(t){return Math.round(100*t)/100}function jo(t){call(this.onDidRotateCallback,t)}function Mo(){return ko.select(this.selector).node()}function Io(t,e){var n=this.config,r=new Headers;return n.accessToken&&(r=new Headers({Authorization:"Bearer "+n.accessToken})),"text"===e?ko.text(t,{headers:r}):ko.json(t,{headers:r})}function No(t){var e,n,r,o,i=this.organisms;for(n in t=Ro(t),i)if(r=Ro((e=i[n]).commonName),o=Ro(e.scientificName),r===t||o===t)return n;return null}function Do(t){return t in this.organisms?this.organisms[t].commonName:null}function Fo(t){return t in this.organisms?this.organisms[t].scientificName:null}function Bo(t){var e=t.split(/[ _-]/g).map((function(t,e){return e>0?t[0].toUpperCase()+t.slice(1):t})).join("");return e}function Ro(t){return void 0===t?"":t.toLowerCase().replace(/ /g,"-")}function Go(t){return/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/i.test(t)}function Ho(t){var e={M:1e3,D:500,C:100,L:50,X:10,V:5,I:1};return t.toUpperCase().split("").reduce((function(t,n,r,o){return e[n]<e[o[r+1]]?t-e[n]:t+e[n]}),0)}function Wo(t){var e=t.config,n="sans-serif";e.fontFamily&&(n=e.fontFamily);var r=600;return e.fontWeight&&(r=e.fontWeight),r+" "+(e.annotLabelSize?e.annotLabelSize:13)+"px "+n}function qo(t,e){var n=Wo(e),r=(qo.canvas||(qo.canvas=document.createElement("canvas"))).getContext("2d");r.font=n;var o=r.measureText(t),i=o.actualBoundingBoxRight,a=o.actualBoundingBoxLeft;return{width:Math.abs(a)+Math.abs(i),height:Math.abs(o.actualBoundingBoxAscent)+Math.abs(o.actualBoundingBoxDescent)}}function zo(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function Uo(t){var e=parseInt(t,10).toString(16);return 1===e.length?"0"+e:e}function $o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FFF";if("rgb"===t.slice(0,3)&&(t=function(t){var e,n,r,o=t.split("rgb(")[1].trim(")").split(", ");return e=o[0],n=o[1],r=o[2],"#"+Uo(e)+Uo(n)+Uo(r)}(t)),"#"!==t[0])return t;var n,r,o,i,a=zo(t);if("#FFF"===e)a.r>150&&a.g>150&&a.b>150&&(t="rgb(".concat(a.r-30,", ").concat(a.g-30,", ").concat(a.b-30,")")),a.r>200&&a.g>200&&a.b>200&&(t="rgb(".concat(a.r-50,", ").concat(a.g-50,", ").concat(a.b-50,")"));else{var s=zo(e);n=[a.r,a.g,a.b],r=[s.r,s.g,s.b],o=Jo.apply(void 0,Co(n)),i=Jo.apply(void 0,Co(r)),(Math.max(o,i)+.05)/(Math.min(o,i)+.05)<3&&(t="rgb(230, 230, 230)")}return t}ko.select=_t,ko.selectAll=function(t){return"string"==typeof t?new wt([document.querySelectorAll(t)],[document.documentElement]):new wt([f(t)],bt)},ko.scaleLinear=function t(){var e=function(){var t,e,n,r,o,i,a=go,s=go,c=en,l=yo;function u(){var t,e,n,c=Math.min(a.length,s.length);return l!==yo&&(t=a[0],e=a[c-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?wo:bo,o=i=null,f}function f(e){return null==e||isNaN(e=+e)?n:(o||(o=r(a.map(t),s,c)))(t(l(e)))}return f.invert=function(n){return l(e((i||(i=r(s,a.map(t),Xe)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,mo),u()):a.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),c=po,u()},f.clamp=function(t){return arguments.length?(l=!!t||yo,u()):l!==yo},f.interpolate=function(t){return arguments.length?(c=t,u()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}()(yo,yo);return e.copy=function(){return n=e,t().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown());var n},xo.apply(e,arguments),Ao(e)},ko.max=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n};var Yo,Vo=.2126,Xo=.7152,Ko=.0722,Qo=2.4;function Jo(t,e,n){var r=[t,e,n].map((function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,Qo)}));return r[0]*Vo+r[1]*Xo+r[2]*Ko}function Zo(t,e){if("#"!==t[0])return t;var n=zo(t),r=e,o={r:n.r*r,g:n.g*r,b:n.b*r};return"rgb(".concat(o.r,", ").concat(o.g,", ").concat(o.b,")")}function ti(){return{theme:"light-border",allowHTML:!0,popperOptions:{modifiers:[{name:"flip"}]},onShow:function(){document.querySelectorAll("[data-tippy-root]").forEach((function(t){return t.remove()}))}}}Yo=[["gneg","#FFF","#FFF","#DDD"],["gpos25","#C8C8C8","#DDD","#BBB"],["gpos33","#BBB","#BBB","#AAA"],["gpos50","#999","#AAA","#888"],["gpos66","#888","#888","#666"],["gpos75","#777","#777","#444"],["gpos100","#444","#666","#000"],["acen","#FEE","#FEE","#FDD"],["noBands","#BBB","#BBB","#AAA"]];var ei='#_ideogram {padding-left: 5px;} #_ideogram .labeled {padding-left: 15px;} #_ideogram.labeledLeft {padding-left: 15px; padding-top: 15px;} #_ideogram text {font: 9px Tahoma; fill: #000;} #_ideogram .italic {font-style: italic;} #_ideogram .chromosome {cursor: pointer; fill: #AAA;}#_ideogram.no-rotate .chromosome {cursor: default;} #_ideogram .chrLabel, #_ideogram .annot {cursor: pointer;}#_ideogram .chrSetLabel {font-weight: bolder;}#_ideogram .ghost {opacity: 0.2;}#_ideogram .hidden {display: none;}#_ideogram .bandLabelStalk line {stroke: #AAA; stroke-width: 1;}#_ideogram .syntenyBorder {stroke:#AAA;stroke-width:1;}#_ideogram rect.cursor {  fill: #F00;  stroke: #F00;  fill-opacity: .3;  shape-rendering: crispEdges;}#_ideogram .brush .selection {  fill: #F00;  stroke: #F00;  fill-opacity: .3;  shape-rendering: crispEdges;}#_ideogram .noBands {fill: #AAA;}#_ideogram .gneg {fill: #FFF}#_ideogram .gpos25 {fill: #BBB}#_ideogram .gpos33 {fill: #AAA}#_ideogram .gpos50 {fill: #888}#_ideogram .gpos66 {fill: #666}#_ideogram .gpos75 {fill: #444}#_ideogram .gpos100 {fill: #000}#_ideogram .gpos {fill: #000}#_ideogram .acen {fill: #FDD}#_ideogram .stalk {fill: #CCE;}#_ideogram .gvar {fill: #DDF}#_ideogram.faint .gneg {fill: #FFF}#_ideogram.faint .gpos25 {fill: #EEE}#_ideogram.faint .gpos33 {fill: #EEE}#_ideogram.faint .gpos50 {fill: #EEE}#_ideogram.faint .gpos66 {fill: #EEE}#_ideogram.faint .gpos75 {fill: #EEE}#_ideogram.faint .gpos100 {fill: #DDD}#_ideogram.faint .gpos {fill: #DDD}#_ideogram.faint .acen {fill: #FEE}#_ideogram.faint .stalk {fill: #EEF;}#_ideogram.faint .gvar {fill: #EEF}#_ideogram .gneg {fill: url("#gneg")} #_ideogram .gpos25 {fill: url("#gpos25")} #_ideogram .gpos33 {fill: url("#gpos33")} #_ideogram .gpos50 {fill: url("#gpos50")} #_ideogram .gpos66 {fill: url("#gpos66")} #_ideogram .gpos75 {fill: url("#gpos75")} #_ideogram .gpos100 {fill: url("#gpos100")} #_ideogram .gpos {fill: url("#gpos100")} #_ideogram .acen {fill: url("#acen")} #_ideogram .stalk {fill: url("#stalk")} #_ideogram .gvar {fill: url("#gvar")} #_ideogram .noBands {fill: url("#noBands")} #_ideogram .chromosome {fill: url("#noBands")} ';function ni(t){var e;this.config=JSON.parse(JSON.stringify(t)),(e=this).chromosomesArray=[],e.coordinateSystem="iscn",e.maxLength={bp:0,iscn:0},e.chromosomes={},e.numChromosomes=0,e.config.debug||(e.config.debug=!1),e.config.dataDir||(e.config.dataDir=e.getDataDir()),e.config.container||(e.config.container="body"),e.selector=e.config.container+" #_ideogram",e.config.resolution||(e.config.resolution=""),e.config.orientation||(e.config.orientation="vertical"),e.config.brush||(e.config.brush=null),e.config.rows||(e.config.rows=1),"showChromosomeLabels"in e.config==0&&(e.config.showChromosomeLabels=!0),e.config.showNonNuclearChromosomes||(e.config.showNonNuclearChromosomes=!1),e.config.chromosomeScale||(e.config.chromosomeScale="absolute"),e.config.showTools||(e.config.showTools=!1),function(t){t.config.ploidy||(t.config.ploidy=1),t.config.ploidy>1&&(t.sexChromosomes={},t.config.sex||(t.config.sex="male"),2!==t.config.ploidy||t.config.ancestors||(t.config.ancestors={M:"#ffb6c1",P:"#add8e6"},t.config.ploidyDesc="MP"))}(this),function(t){t.config.showBandLabels||(t.config.showBandLabels=!1),"showFullyBanded"in t.config==0&&(t.config.showFullyBanded=!0),t.bandsToShow=[],t.bandData={}}(this),function(t){var e,n,r;t.config.chrHeight||(e=t.config.container,n=document.querySelector(e).getBoundingClientRect(),r="vertical"===t.config.orientation?n.height:n.width,"body"!==e&&0!==r||(r=400),t.config.chrHeight=r)}(this),function(t){var e,n;t.config.chrWidth||(e=10,(n=t.config.chrHeight)<900&&n>500?e=Math.round(n/40):n>=900&&(e=Math.round(n/45)),t.config.chrWidth=e)}(this),function(t){t.config.geometry&&"collinear"===t.config.geometry?"chrMargin"in t.config==0&&(t.config.chrMargin=0):(t.config.chrMargin||(1===t.config.ploidy?t.config.chrMargin=10:t.config.chrMargin=Math.round(t.config.chrWidth/4)),t.config.showBandLabels&&(t.config.chrMargin+=20))}(this),function(t,e){t.onLoad&&(e.onLoadCallback=t.onLoad),t.onLoadAnnots&&(e.onLoadAnnotsCallback=t.onLoadAnnots),t.onBeforeDrawAnnots&&(e.onBeforeDrawAnnotsCallback=t.onBeforeDrawAnnots),t.onDrawAnnots&&(e.onDrawAnnotsCallback=t.onDrawAnnots),t.onBrushMove&&(e.onBrushMoveCallback=t.onBrushMove),t.onBrushEnd&&(e.onBrushEndCallback=t.onBrushEnd),t.onCursorMove&&(e.onCursorMoveCallback=t.onCursorMove),t.onDidRotate&&(e.onDidRotateCallback=t.onDidRotate),t.onWillShowAnnotTooltip&&(e.onWillShowAnnotTooltipCallback=t.onWillShowAnnotTooltip),t.onDidShowAnnotTooltip&&(e.onDidShowAnnotTooltipCallback=t.onDidShowAnnotTooltip),t.onClickAnnot&&(e.onClickAnnotCallback=t.onClickAnnot)}(t,this),function(t,e){e.organisms=Object.assign({},_o),t.taxid&&t.organismMetadata&&(e.organisms[t.taxid]=t.organismMetadata),e.organismsWithBands=Object.assign({},e.organisms)}(t,this),function(t){t.bump=Math.round(t.config.chrHeight/125),t.adjustedBump=!1,t.config.chrHeight<200&&(t.adjustedBump=!0,t.bump=4)}(this),function(t,e){t.chromosome&&(e.config.chromosomes=[t.chromosome],"showBandLabels"in t==0&&(e.config.showBandLabels=!0),"rotatable"in t==0&&(e.config.rotatable=!1))}(t,this),function(t){var e=t.config;e.chrLabelSize||(t.config.chrLabelSize=9),e.chrLabelColor||(t.config.chrLabelColor="#000"),e.fontFamily||(t.config.fontFamily="");var n="font-size: ".concat(e.chrLabelSize,"px"),r="fill: ".concat(e.chrLabelColor),o="font-family: ".concat(e.fontFamily);ei+="#_ideogram text {".concat(o,"; ").concat(n,"; ").concat(r,";}"),ei+="#_ideogramLabel text {".concat(o,";}")}(this),this.initAnnotSettings(),this.config.geometry&&"parallel"!==this.config.geometry||(this.config.chrMargin+=this.config.chrWidth,"heatmap"===this.config.annotationsLayout?this.config.chrMargin+=this.config.annotTracksHeight:this.config.chrMargin+=2*this.config.annotTracksHeight),this.init()}const ri=function(t){var e,n,r,o,i=t.config;if(t.config.annotLabelHeight=12,"demarcateCollinearChromosomes"in t.config==0&&(t.config.demarcateCollinearChromosomes=!0),n=function(t,e){var n,r,o,i,a,s,c,l={};for(n=[],r=0;r<t.length;r++)c=e.chromosomesArray[r].id.split("-")[1],o=0===r?r:r-1,i=e.chromosomesArray[o],0===r||c in l==0?(a=20,l[c]=1):(s=i.width,a=n[o]+s+(e.config.showChromosomeLabels?0:2)+e.config.chrMargin),n.push(a);return n}(e=document.querySelectorAll(".chromosome-set"),t),function(t,e,n,r){var o,i,a,s,c,l,u,f=r.config,h=f.chrLabelSize;for(o=0;o<t.length;o++){if(i=t[o],a=e[o]+23-h,l=r.chromosomesArray[o].id.split("-")[1],c=n-200*(u=r.config.taxids.indexOf(l))-30-5,0===u?(s=-34,c+=2*r.config.chrWidth-16):s=2*r.config.chrWidth-24,f.showChromosomeLabels){var d=i.querySelector(".chrLabel > tspan");d.setAttribute("x",s),d.setAttribute("dy",h-8),i.querySelector(".chrLabel").setAttribute("text-anchor","start")}i.setAttribute("transform","rotate(90) translate("+a+","+c+")"),i.querySelector(".chromosome").setAttribute("transform","translate(-13, 10)")}!function(t){t.config.taxids.forEach((function(e,n){var r=t.organisms[e].scientificName;ko.select(t.selector).append("text").attr("class","genomeLabel italic").attr("x",55+200*n).attr("y",10).text(r).attr("text-anchor","middle")}))}(r)}(e,n,-40,t),o=Math.round(n.slice(-1)[0]+70),i.multiorganism){r*=8;var a=0;n.forEach((function(t){t>a&&(a=t)})),r=a+30}else r=xOffsets.slice(-1)[0]+30;ko.select(t.selector).attr("height",r).attr("width",o),ko.select("#_ideogramTrackLabelContainer").remove(),ko.select("#_ideogramInnerWrap").insert("div",":first-child").attr("id","_ideogramTrackLabelContainer").style("position","absolute")};const oi=function(t){var e,n,r,o,i,a=t.config,s=a.annotationHeight||0;if("vertical"!==a.orientation){t.config.annotLabelHeight=12;var c=t.config.annotLabelHeight;if("demarcateCollinearChromosomes"in t.config==0&&(t.config.demarcateCollinearChromosomes=!0),e=document.querySelectorAll(".chromosome-set"),r=a.numAnnotTracks*(s+c+4)-a.chrWidth+1,n=function(t,e){var n,r,o,i,a,s,c,l={};for(n=[],r=0;r<t.length;r++)c=e.chromosomesArray[r].id.split("-")[1],o=0===r?r:r-1,i=e.chromosomesArray[o],0===r||c in l==0?(a=20,l[c]=1):(s=i.width,a=n[o]+s+(e.config.showChromosomeLabels?0:2)+e.config.chrMargin),n.push(a);return n}(e,t),function(t,e,n,r){var o,i,a,s,c,l,u,f=r.config,h=f.chrWidth,d=f.chrLabelSize;for(o=0;o<t.length;o++)i=t[o],s=e[o],a=r.chromosomesArray[o].id.split("-")[1],c=n+200*(l=f.taxids.indexOf(a)),0===l&&r.config.multiorganism?(u=d-4,c+=2*h+d):u=2*h+d+2,r.config.showChromosomeLabels&&(i.querySelector(".chrLabel").setAttribute("y",u),i.querySelector(".chrLabel").setAttribute("text-anchor","middle")),i.setAttribute("transform","translate("+s+","+c+")"),i.querySelector(".chromosome").setAttribute("transform","translate(-13, 10)");f.multiorganism&&function(t){t.config.taxids.forEach((function(e,n){var r=t.organisms[e],o=t.config,i=r.scientificName;ko.select(t.selector).append("text").attr("class","genomeLabel italic").attr("x",5).attr("y",o.chrLabelSize+(200+3*o.chrWidth)*n).text(i)}))}(r)}(e,n,r,t),o=r+2*a.chrWidth+20,a.multiorganism){o*=8;var l=0;n.forEach((function(t){t>l&&(l=t)})),i=l+20}else i=n.slice(-1)[0]+20;ko.select(t.selector).attr("width",i).attr("height",o),ko.select("#_ideogramTrackLabelContainer").remove(),ko.select("#_ideogramInnerWrap").insert("div",":first-child").attr("id","_ideogramTrackLabelContainer").style("position","absolute")}else ri(t)};var ii=Uint8Array,ai=Uint16Array,si=Uint32Array,ci=new ii([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),li=new ii([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ui=new ii([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fi=function(t,e){for(var n=new ai(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var o=new si(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return[n,o]},hi=fi(ci,2),di=hi[0],pi=hi[1];di[28]=258,pi[258]=28;for(var mi=fi(li,0),gi=mi[0],yi=(mi[1],new ai(32768)),vi=0;vi<32768;++vi){var bi=(43690&vi)>>>1|(21845&vi)<<1;bi=(61680&(bi=(52428&bi)>>>2|(13107&bi)<<2))>>>4|(3855&bi)<<4,yi[vi]=((65280&bi)>>>8|(255&bi)<<8)>>>1}var wi=function(t,e,n){for(var r=t.length,o=0,i=new ai(e);o<r;++o)t[o]&&++i[t[o]-1];var a,s=new ai(e);for(o=0;o<e;++o)s[o]=s[o-1]+i[o-1]<<1;if(n){a=new ai(1<<e);var c=15-e;for(o=0;o<r;++o)if(t[o])for(var l=o<<4|t[o],u=e-t[o],f=s[t[o]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)a[yi[f]>>>c]=l}else for(a=new ai(r),o=0;o<r;++o)t[o]&&(a[o]=yi[s[t[o]-1]++]>>>15-t[o]);return a},xi=new ii(288);for(vi=0;vi<144;++vi)xi[vi]=8;for(vi=144;vi<256;++vi)xi[vi]=9;for(vi=256;vi<280;++vi)xi[vi]=7;for(vi=280;vi<288;++vi)xi[vi]=8;var Ai=new ii(32);for(vi=0;vi<32;++vi)Ai[vi]=5;var _i=wi(xi,9,1),Ci=wi(Ai,5,1),Si=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ki=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},Li=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},Ti=function(t,e,n){(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length);var r=new(2==t.BYTES_PER_ELEMENT?ai:4==t.BYTES_PER_ELEMENT?si:ii)(n-e);return r.set(t.subarray(e,n)),r},Ei=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Oi=function(t,e,n){var r=new Error(e||Ei[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Oi),!n)throw r;return r},Pi=function(t,e,n){var r=t.length;if(!r||n&&n.f&&!n.l)return e||new ii(0);var o=!e||n,i=!n||n.i;n||(n={}),e||(e=new ii(3*r));var a,s=function(t){var n=e.length;if(t>n){var r=new ii(Math.max(2*n,t));r.set(e),e=r}},c=n.f||0,l=n.p||0,u=n.b||0,f=n.l,h=n.d,d=n.m,p=n.n,m=8*r;do{if(!f){c=ki(t,l,1);var g=ki(t,l+1,3);if(l+=3,!g){var y=t[(a=l,(T=4+((a+7)/8|0))-4)]|t[T-3]<<8,v=T+y;if(v>r){i&&Oi(0);break}o&&s(u+y),e.set(t.subarray(T,v),u),n.b=u+=y,n.p=l=8*v,n.f=c;continue}if(1==g)f=_i,h=Ci,d=9,p=5;else if(2==g){var b=ki(t,l,31)+257,w=ki(t,l+10,15)+4,x=b+ki(t,l+5,31)+1;l+=14;for(var A=new ii(x),_=new ii(19),C=0;C<w;++C)_[ui[C]]=ki(t,l+3*C,7);l+=3*w;var S=Si(_),k=(1<<S)-1,L=wi(_,S,1);for(C=0;C<x;){var T,E=L[ki(t,l,k)];if(l+=15&E,(T=E>>>4)<16)A[C++]=T;else{var O=0,P=0;for(16==T?(P=3+ki(t,l,3),l+=2,O=A[C-1]):17==T?(P=3+ki(t,l,7),l+=3):18==T&&(P=11+ki(t,l,127),l+=7);P--;)A[C++]=O}}var j=A.subarray(0,b),M=A.subarray(b);d=Si(j),p=Si(M),f=wi(j,d,1),h=wi(M,p,1)}else Oi(1);if(l>m){i&&Oi(0);break}}o&&s(u+131072);for(var I=(1<<d)-1,N=(1<<p)-1,D=l;;D=l){var F=(O=f[Li(t,l)&I])>>>4;if((l+=15&O)>m){i&&Oi(0);break}if(O||Oi(2),F<256)e[u++]=F;else{if(256==F){D=l,f=null;break}var B=F-254;if(F>264){var R=ci[C=F-257];B=ki(t,l,(1<<R)-1)+di[C],l+=R}var G=h[Li(t,l)&N],H=G>>>4;if(G||Oi(3),l+=15&G,M=gi[H],H>3&&(R=li[H],M+=Li(t,l)&(1<<R)-1,l+=R),l>m){i&&Oi(0);break}o&&s(u+131072);for(var W=u+B;u<W;u+=4)e[u]=e[u-M],e[u+1]=e[u+1-M],e[u+2]=e[u+2-M],e[u+3]=e[u+3-M];u=W}}n.l=f,n.p=D,n.b=u,n.f=c,f&&(c=1,n.m=d,n.d=h,n.n=p)}while(!c);return u==e.length?e:Ti(e,0,u)},ji=new ii(0);function Mi(t,e){return Pi(t.subarray(function(t){31==t[0]&&139==t[1]&&8==t[2]||Oi(6,"invalid gzip data");var e=t[3],n=10;4&e&&(n+=t[10]|2+(t[11]<<8));for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[n++]);return n+(2&e)}(t),-8),e||new ii((r=(n=t).length,(n[r-4]|n[r-3]<<8|n[r-2]<<16|n[r-1]<<24)>>>0)));var n,r}function Ii(t,e){return Pi(((8!=(15&(n=t)[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)&&Oi(6,"invalid zlib data"),32&n[1]&&Oi(6,"invalid zlib data: preset dictionaries not supported"),t.subarray(2,-4)),e);var n}function Ni(t,e){return 31==t[0]&&139==t[1]&&8==t[2]?Mi(t,e):8!=(15&t[0])||t[0]>>4>7||(t[0]<<8|t[1])%31?function(t,e){return Pi(t,e)}(t,e):Ii(t,e)}var Di="undefined"!=typeof TextDecoder&&new TextDecoder;try{Di.decode(ji,{stream:!0})}catch(t){}function Fi(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}if(Di)return Di.decode(t);var o=function(t){for(var e="",n=0;;){var r=t[n++],o=(r>127)+(r>223)+(r>239);if(n+o>t.length)return[e,Ti(t,n-1)];o?3==o?(r=((15&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,e+=String.fromCharCode(55296|r>>10,56320|1023&r)):e+=1&o?String.fromCharCode((31&r)<<6|63&t[n++]):String.fromCharCode((15&r)<<12|(63&t[n++])<<6|63&t[n++]):e+=String.fromCharCode(r)}}(t),i=o[0];return o[1].length&&Oi(8),i}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout,n(136);class Bi extends Error{constructor(t,e){super(((t,...e)=>{let n=t;return e.length>0&&(n+=` :: ${JSON.stringify(e)}`),n})(t,e)),this.name=t,this.details=e}}async function Ri(t,e){try{if(206===e.status)return e;const n=t.headers.get("range");if(!n)throw new Bi("no-range-header");const r=function(t){const e=t.trim().toLowerCase();if(!e.startsWith("bytes="))throw new Bi("unit-must-be-bytes",{normalizedRangeHeader:e});if(e.includes(","))throw new Bi("single-range-only",{normalizedRangeHeader:e});const n=/(\d*)-(\d*)/.exec(e);if(!n||!n[1]&&!n[2])throw new Bi("invalid-range-values",{normalizedRangeHeader:e});return{start:""===n[1]?void 0:Number(n[1]),end:""===n[2]?void 0:Number(n[2])}}(n),o=await e.blob(),i=function(t,e,n){const r=t.size;if(n&&n>r||e&&e<0)throw new Bi("range-not-satisfiable",{size:r,end:n,start:e});let o,i;return void 0!==e&&void 0!==n?(o=e,i=n+1):void 0!==e&&void 0===n?(o=e,i=r):void 0!==n&&void 0===e&&(o=r-n,i=r),{start:o,end:i}}(o,r.start,r.end),a=o.slice(i.start,i.end),s=a.size,c=new Response(a,{status:206,statusText:"Partial Content",headers:e.headers});return c.headers.set("Content-Length",String(s)),c.headers.set("Content-Range",`bytes ${i.start}-${i.end-1}/${o.size}`),c}catch(t){return new Response("",{status:416,statusText:"Range Not Satisfiable"})}}function Gi(t){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(t)}function Hi(){Hi=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(P([])));A&&A!==n&&r.call(A,a)&&(w=A);var _=b.prototype=y.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Gi(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?m:d,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Gi(e)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(_),l(_,c,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Wi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qi(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function zi(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){qi(i,r,o,a,s,"next",t)}function s(t){qi(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Ui(t){return $i.apply(this,arguments)}function $i(){return $i=zi(Hi().mark((function t(e){var n,r,o,i,a,s,c,l,u,f,h,d;return Hi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},r="".concat(e.replace(".tsv.gz",""),".tsv.li.gz"),t.next=4,Ji(r);case 4:return o=t.sent,t.next=7,o.text();case 7:i=t.sent,a=i.split("\n"),s=0;case 10:if(!(s<a.length-1)){t.next=20;break}if(c=a[s].split("\t"),m=2,l=function(t){if(Array.isArray(t))return t}(p=c)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(p,m)||function(t,e){if(t){if("string"==typeof t)return Wi(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wi(t,e):void 0}}(p,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],f=l[1],"#"!==u[0]){t.next=14;break}return t.abrupt("continue",17);case 14:h=parseInt(f),d=parseInt(a[s+1].split("\t")[1]),n[u]=[h,d];case 17:s++,t.next=10;break;case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}var p,m}),t)}))),$i.apply(this,arguments)}function Yi(t,e){var n=function(t){var e=function(t){for(var e in t=Ro(t),_o){var n=_o[e],r=Ro(n.commonName),o=Ro(n.scientificName);if(r===t||o===t)return e}return null}(t);return _o[e]||{}}(t),r="has"+e+"Cache";return n[r]&&!0===n[r]}function Vi(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"tsv",o=Ro(t);return e?e+=n+"/":e=To("cache/"+n+"/"),e+o+"-"+n+"."+r+".gz"}function Xi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:11;return"WBGene"===t&&(n=8),t+e.padStart(n,"0")}function Ki(){return Qi.apply(this,arguments)}function Qi(){return(Qi=zi(Hi().mark((function t(){var e,n;return Hi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="ideogram-".concat(c),t.next=3,caches.keys();case 3:return t.sent.forEach((function(t){t.startsWith("ideogram-")&&t!==e&&caches.delete(t)})),t.next=7,caches.open(e);case 7:return n=t.sent,t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ji(t){return Zi.apply(this,arguments)}function Zi(){return Zi=zi(Hi().mark((function t(e){var n,r,o,i,a,s,c,l;return Hi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ki();case 2:return n=t.sent,window.ideoCache=n,window.createPartialResponse=Ri,r=e.replace(".gz",""),t.next=8,n.match(r);case 8:if(void 0!==t.sent){t.next=29;break}return t.next=12,fetch(e);case 12:return o=t.sent,t.next=15,o.blob();case 15:return i=t.sent,t.t0=Uint8Array,t.next=19,i.arrayBuffer();case 19:return t.t1=t.sent,a=new t.t0(t.t1),s=Fi(Ni(a)),c=s.length,l=new Response(new Blob([s],{type:"text/tab-separated-values"}),{headers:new Headers({"Content-Length":c})}),t.next=26,n.put(r,l);case 26:return t.next=28,n.match(r);case 28:case 31:return t.abrupt("return",t.sent);case 29:return t.next=31,n.match(r);case 32:case"end":return t.stop()}}),t)}))),Zi.apply(this,arguments)}function ta(t,e){return ea.apply(this,arguments)}function ea(){return(ea=zi(Hi().mark((function t(e,n){var r,o,i,a,s,c,l,u;return Hi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e.replace(".gz",""),r=n[0]+1,o=n[1]-1,i=new Headers({"content-type":"multipart/byteranges",range:"bytes=".concat(r,"-").concat(o)}),a=new Request(e,{headers:i}),t.next=7,Ki();case 7:return s=t.sent,t.next=10,s.match(a);case 10:return c=t.sent,t.next=13,Ri(a,c);case 13:return l=t.sent,t.next=16,l.text();case 16:return u=t.sent,t.abrupt("return",u);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function na(t,e,n){return ra.apply(this,arguments)}function ra(){return ra=zi(Hi().mark((function t(e,n,r){var o,i,a,s,c,l,u,f=arguments;return Hi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=f.length>3&&void 0!==f[3]?f[3]:null,i=performance.now(),t.next=4,Ji(e);case 4:if(a=t.sent,!e.includes(".json")){t.next=11;break}return t.next=8,a.json();case 8:s=t.sent,t.next=14;break;case 11:return t.next=13,a.text();case 13:s=t.sent;case 14:if(c=performance.now(),n.fetch=Math.round(c-i),!e.includes("tissue")){t.next=23;break}return t.next=19,Ui(e);case 19:u=t.sent,l=r(s,n,u),t.next=24;break;case 23:l=r(s,n,o);case 24:return n.parseCache=Math.round(performance.now()-c),t.abrupt("return",[l,n]);case 26:case"end":return t.stop()}}),t)}))),ra.apply(this,arguments)}function oa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ia(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return aa(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aa(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function sa(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r].split(";"),i=[e[parseInt(o[0])],parseInt(o[1]),parseInt(o[2])];n.push(i)}return n}function ca(t){var e=t.split(" keys: ");if(e.length<2)return[null];var n=e[0].split("## ")[1],r={};return e[1].split(", ").forEach((function(t){var e=t.split(" = ");r[e[0]]=e[1]})),[n,r]}function la(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ua(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r].split(";"),i=[e[o[0]],parseInt(o[1]),parseInt(o[2])];n.push(i)}return n}function fa(t){var e=t.split(" keys: ");if(e.length<2)return[null];var n=e[0].split("## ")[1],r={};return e[1].split("; ").forEach((function(t){var e=t.split(" = ");r[e[0]]=e[1]})),[n,r]}function ha(t){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(t)}function da(){da=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(P([])));A&&A!==n&&r.call(A,a)&&(w=A);var _=b.prototype=y.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ha(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?m:d,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ha(e)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(_),l(_,c,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function pa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ma(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ga(t){var e=[],n=[],r=[];return t.split(";").forEach((function(t){var o=t.split(",");e.push(o[0]),n.push(o[1]),r.push(o[2])})),[e,n,r]}function ya(t,e){return va.apply(this,arguments)}function va(){var t;return t=da().mark((function t(e,n){var r,o,i,a,s,c,l,u,f,h,d,p,m,g,y,v,b,w,x,A,_,C,S;return da().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.tissueCache,o=r.byteRangesByName[e],n.cacheRangeFetch||(n.cacheRangeFetch=ta),o){t.next=5;break}return t.abrupt("return",null);case 5:return i=n.config,a=null,i.cacheDir&&(a=i.cacheDir),s=Vi("homo-sapiens",a,"tissues","tsv"),t.next=14,ta(s,o);case 14:for(c=t.sent,l=[],u=c.split("\t").slice(1),f=0;f<u.length;f++)h=u[f].split(";").map((function(t){return""===t?0:t})),15===(d=h.length)?h.splice(1,0,0):14===d?(h.splice(1,0,0),h.splice(1,0,0)):13===d&&(h.splice(1,0,0),h.splice(1,0,0),h.splice(1,0,0)),p=h[0],m=h.slice(1,6),g=parseFloat(m[0]),y=parseFloat(m[1]),v=parseFloat(m[2]),b=parseFloat(m[3]),w=parseFloat(m[4]),x=h.slice(6).map((function(t){return parseInt(t)})),A={min:g,q1:y,median:v,q3:b,max:w,quantiles:x},_=r.tissueNames[p],C=r.tissueColors[p],S=parseInt(r.tissueSamples[p]),l.push({tissue:_,expression:A,color:C,samples:S});return t.abrupt("return",l);case 19:case"end":return t.stop()}}),t)})),va=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ma(i,r,o,a,s,"next",t)}function s(t){ma(i,r,o,a,s,"throw",t)}a(void 0)}))},va.apply(this,arguments)}function ba(t){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(t)}function wa(){wa=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(P([])));A&&A!==n&&r.call(A,a)&&(w=A);var _=b.prototype=y.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ba(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?m:d,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ba(e)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(_),l(_,c,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function xa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Aa(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aa(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Ca(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){_a(i,r,o,a,s,"next",t)}function s(t){_a(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Sa(){return(Sa=Ca(wa().mark((function t(e){var n,r,o,i;return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.config).useCache){t.next=3;break}return t.abrupt("return");case 3:if(r=n.organism,o=null,n.cacheDir&&(o=n.cacheDir),!n.awaitCache){t.next=12;break}return i=Promise.all([La("gene",r,e,o),La("paralog",r,e,o),La("interaction",r,e,o),La("synonym",r,e,o),La("tissue",r,e,o)]),n.showGeneStructureInTooltip&&(La("geneStructure",r,e,o),La("protein",r,e,o)),t.abrupt("return",i);case 12:La("gene",r,e,o),La("paralog",r,e,o),La("interaction",r,e,o),n.showGeneStructureInTooltip&&(La("geneStructure",r,e,o),La("protein",r,e,o),La("synonym",r,e,o),La("tissue",r,e,o));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(331),window.cacheRangeFetch=ta;var ka={gene:{metadata:"Gene",dir:"genes",fn:function(t,e){var n=xa(t,7),r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],c=n[5],l=n[6];e.geneCache={interestingNames:r,nameCaseMap:o,namesById:i,fullNamesById:a,idsByName:s,lociByName:c,lociById:l}},parseFn:function(t,e){var n,r,o,i=[],a={},s={},c={},l={},u={},f={},h=[],d={},p=performance.now(),m=t.split(/\r\n|\n/);e.rawTsvSplit=Math.round(performance.now()-p),p=performance.now();for(var g=0;g<m.length;g++){var y=m[g];if(""!==y)if("#"!==y[0]){var v=(r=y.trim().split(/\t/),o=7,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(r,o)||function(t,e){if(t){if("string"==typeof t)return oa(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oa(t,e):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=v[0],w=v[1],x=v[2],A=v[3],_=v[4],C=v[5],S=v[6],k=decodeURIComponent(C),L=parseInt(w),T=L+parseInt(x),E=Xi(n,A);h.push([b,L,T,E,_,k]);var O=[b,L,T];if(i.push(_),a[_.toLowerCase()]=_,s[E]=_,c[E]=k,l[_]=E,u[_]=O,f[E]=O,void 0!==S){for(var P=[],j=S.split(","),M=0;M<j.length;M++)P.push(parseInt(j[M],10));d[_]=P}}else"## prefix"===y.slice(0,9)&&(n=y.split("prefix: ")[1])}var I=performance.now();return e.parseCacheLoop=Math.round(I-p),e.parseAnnots=Math.round(performance.now()-I),[i,a,s,c,l,u,f]}},paralog:{metadata:"Paralog",dir:"paralogs",fn:function(t,e){var n=t;e.paralogCache={paralogsByName:n}},parseFn:function(t,e){var n,r={},o=performance.now(),i=t.split(/\r\n|\n/);e.rawTsvSplit=Math.round(performance.now()-o),o=performance.now();for(var a=0;a<i.length;a++){var s=i[a];if(""!==s)if("#"!==s[0]){var c=s.trim().split(/\t/),l=c[0],u=c[1],f=[];if("_"===c[2][0]){for(var h=r[c[2].slice(1).toUpperCase()],d=Xi(n,u),p=0;p<h.length;p++){var m=h[p];m!==d&&f.push(m)}f.unshift(Xi(n,c[3]))}else for(var g=c.slice(2),y=0;y<g.length;y++){var v=g[y];v!==u&&f.push(Xi(n,v))}r[l.toUpperCase()]=f}else"## prefix"===s.slice(0,9)&&(n=s.split("prefix: ")[1])}var b=performance.now();return e.parseCacheLoop=Math.round(b-o),r}},interaction:{metadata:"Interaction",dir:"interactions",fn:function(t,e){var n=t;e.interactionCache=n},extension:"json",parseFn:function(t,e,n){var r=performance.now(),o={},i=n.replace("-"," "),a=i[0].toUpperCase()+i.slice(1);for(var s in r=performance.now(),t.interactions){var c=t.interactions[s];o[s]={result:[]};for(var l=0;l<c.length;l++){var u=c[l],f=u[0];o[s].result.push({fields:{left:{values:u[1]},right:{values:u[2]}},id:"WP"+f,name:t.pathwayNamesById[f],species:a})}}var h=performance.now();return e.parseCacheLoop=Math.round(h-r),o}},geneStructure:{metadata:"GeneStructure",dir:"gene-structures",fn:function(t,e){var n=t;e.geneStructureCache=n},parseFn:function(t,e){var n,r,o={},i=performance.now(),a=t.split(/\r\n|\n/);e.rawTsvSplit=Math.round(performance.now()-i),i=performance.now();for(var s=0;s<a.length;s++){var c=a[s];if(""!==c)if("#"!==c[0]){var l=c.trim().split(/\t/),u=ia(l.slice(0,3),3),f=u[0],h=u[1],d=u[2],p=f.split("-").slice(0,-1).join("-"),m=sa(l.slice(3),r),g={name:f,biotype:n[h],strand:d,subparts:m};p in o?o[p].push(g):o[p]=[g]}else if("#"===c[1]){var y=ia(ca(c),2),v=y[0],b=y[1];"biotype"===v?n=b:"subpart"===v&&(r=b)}}var w=performance.now();return e.parseCacheLoop=Math.round(w-i),o}},protein:{metadata:"Protein",dir:"proteins",fn:function(t,e){e.proteinCache=t},parseFn:function(t,e){var n,r,o,i={},a=performance.now(),s=t.split(/\r\n|\n/);e.rawTsvSplit=Math.round(performance.now()-a),a=performance.now();for(var c,l=null,u=0;u<s.length;u++){var f=s[u];if(""!==f)if("#"!==f[0]){var h=f.trim().split(/\t/),d=h[0];if(isNaN(d)){var p=d.split("-"),m=p.slice(-1)[0],g=parseInt(m[0]),y=m.length;c=g*Math.pow(10,y-1),l=p.slice(0,-1).join("-")}else d=l+"-"+(d=c+parseInt(d));var v={transcriptName:d,protein:ua(h.slice(1),n)};l in i?i[l].push(v):i[l]=[v]}else if("#"===f[1]){var b=(r=fa(f),o=2,function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(r,o)||function(t,e){if(t){if("string"==typeof t)return la(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?la(t,e):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=b[0],x=b[1];"domain"===w&&(n=x)}}var A=performance.now();return e.parseCacheLoop=Math.round(A-a),i}},synonym:{metadata:"Synonym",dir:"synonyms",fn:function(t,e){e.synonymCache=t},parseFn:function(t,e){var n={},r=performance.now(),o=t.split(/\r\n|\n/);e.rawTsvSplit=Math.round(performance.now()-r),r=performance.now();for(var i=0;i<o.length;i++){var a=o[i];if(""!==a&&"#"!==a[0]){var s=a.trim().split(/\t/),c=s[0],l=s.slice(1);n[c]=l}}var u=performance.now();return e.parseCacheLoop=Math.round(u-r),{byGene:n}}},tissue:{metadata:"Tissue",dir:"tissues",fn:function(t,e){e.tissueCache=t},parseFn:function(t,e,n){var r,o,i,a,s,c=performance.now(),l=t.split(/\r\n|\n/);e.rawTsvSplit=Math.round(performance.now()-c),c=performance.now();for(var u=0;u<l.length;u++){var f=l[u];if(""!==f)if("#"!==f[0]);else if("## tissues"===f.slice(0,10)){var h=(a=ga(f.split("tissues: ")[1]),s=3,function(t){if(Array.isArray(t))return t}(a)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(a,s)||function(t,e){if(t){if("string"==typeof t)return pa(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(t,e):void 0}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());r=h[0],o=h[1],i=h[2]}}var d=performance.now();return e.parseCacheLoop=Math.round(d-c),{getTissueExpressions:ya,byteRangesByName:n,tissueNames:r,tissueColors:o,tissueSamples:i}}}};function La(t,e,n){return Ta.apply(this,arguments)}function Ta(){return Ta=Ca(wa().mark((function t(e,n,r){var o,i,a,s,c,l,u,f,h,d,p,m,g=arguments;return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>3&&void 0!==g[3]?g[3]:null,a=ka[e],s=r.config.debug,c=performance.now(),l={},Yi(n,a.metadata)){t.next=7;break}return t.abrupt("return");case 7:if(f=e+"Cache",!Ideogram[f]||!Ideogram[f][n]){t.next=11;break}return r[f]=Ideogram[f][n],t.abrupt("return");case 11:return Ideogram[f]||(Ideogram[f]={}),h=null!==(o=null==a?void 0:a.extension)&&void 0!==o?o:"tsv",d=Vi(n,i,a.dir,h),t.next=16,na(d,l,a.parseFn,n);case 16:return p=t.sent,m=xa(p,2),u=m[0],l=m[1],s&&console.time("".concat(e,"Cache total")),t.abrupt("return",new Promise((function(t){if(a.fn(u,r,n),Ideogram[f][n]=r[f],s){console.timeEnd("".concat(e,"Cache total")),l.total=Math.round(performance.now()-c);var o="perfTimes in init"+a.metadata+"Cache:";console.log(o,l)}t()})));case 22:case"end":return t.stop()}}),t)}))),Ta.apply(this,arguments)}function Ea(t){void 0!==t.timeout&&window.clearTimeout(t.timeout),t.rawAnnots=t.setOriginalTrackIndexes(t.rawAnnots),t.config.annotationsDisplayedTracks?t.annots=t.updateDisplayedTracks(t.config.annotationsDisplayedTracks):(t.annots=t.processAnnotData(t.rawAnnots),t.config.filterable&&t.initCrossFilter(),t.drawProcessedAnnots(t.annots))}function Oa(t){var e=(new Date).getTime(),n=this,r=n.config,o=r.annotations;n.initDrawChromosomes(),r.annotationsPath&&function(t){t.rawAnnots?Ea(t):function e(){t.timeout=setTimeout((function(){!t.rawAnnots||t.rawAnnots&&void 0!==t.rawAnnots.then?e():Ea(t)}),50)}()}(n),function(t,e){var n,r,o,i;if(!0===t.showBandLabels&&(o=(new Date).getTime(),e.hideUnshownBandLabels(),i=(new Date).getTime(),t.debug&&console.log("Time in showing bands: "+(i-o)+" ms"),"vertical"===t.orientation))for(n=0;n<e.chromosomesArray.length;n++)r="#"+e.chromosomesArray[n].id,e.rotateChromosomeLabels(ko.select(r),n);!0===t.showChromosomeLabels&&e.drawChromosomeLabels(e.chromosomes)}(r,n),r.brush?n.createBrush(r.brush):r.cursorPosition&&n.createClickCursor(r.cursorPosition),o&&(Array.isArray(o)?n.drawAnnots(o):(n.rawAnnots=o,n.afterRawAnnots(),Ea(n))),function(t,e,n){var r=(new Date).getTime();t.debug&&console.log("Time in drawChromosome: "+(r-n)+" ms");var o=(new Date).getTime();t.debug&&console.log("Time constructing ideogram: "+(o-e)+" ms")}(r,t,e),n.setOverflowScroll(),"collinear"===r.geometry&&oi(n),n.config.debug&&console.time("initCache: Ideogram"),function(t){return Sa.apply(this,arguments)}(n).then((function(){n.config.debug&&console.timeEnd("initCache: Ideogram"),n.onLoadCallback&&n.onLoadCallback()}))}function Pa(t){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pa(t)}function ja(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ma(r.key),r)}}function Ma(t){var e=function(t){if("object"!=Pa(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Pa(e)?e:e+""}var Ia=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._description=this._normalize(this._config.ploidyDesc)},e=[{key:"getChromosomesNumber",value:function(t){if(this._config.ploidyDesc){var e=this._config.ploidyDesc[t];return e instanceof Object?Object.keys(e)[0].length:e.length}return this._config.ploidy||1}},{key:"_normalize",value:function(t){var e,n,r=[];if(!t)return t;for(e in t)"string"==typeof(n=t[e])?("vertical"===this._config.orientation&&(n=n.split("").reverse()),r.push({ancestors:n,existence:this._getexistenceArray(n.length)})):r.push({ancestors:Object.keys(n)[0],existence:n[Object.keys(n)[0]]});return r}},{key:"_getexistenceArray",value:function(t){for(var e=[],n=0;n<t;n++)e.push("11");return e}},{key:"getSetSize",value:function(t){return this._description?this._description[t].ancestors.length:1}},{key:"getAncestor",value:function(t,e){return this._description?this._description[t].ancestors[e]:""}},{key:"exists",value:function(t,e,n){if(this._description){var r=this._description[t].existence[e][n];return Number(r)>0}return!0}}],e&&ja(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Na(t){return Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(t)}function Da(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fa(r.key),r)}}function Fa(t){var e=function(t){if("object"!=Na(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Na(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Na(e)?e:e+""}var Ba=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._node=e},(e=[{key:"getLabel",value:function(){return ko.select(this._node.parentNode).select("text.chrLabel").text()}},{key:"getSetLabel",value:function(){return ko.select(this._node.parentNode).select("text.chrSetLabel").text()}}])&&Da(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Ra(t){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(t)}function Ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ha(r.key),r)}}function Ha(t){var e=function(t){if("object"!=Ra(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ra(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ra(e)?e:e+""}var Wa=function(){return t=function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._ideo=n,this._ploidy=this._ideo._ploidy,this._translate=void 0,"chrSetMargin"in e)this.chrSetMargin=e.chrSetMargin;else{var r=this._config.chrMargin;this.chrSetMargin=this._config.ploidy>1?r:0}this._tickSize=8,this._isRotated=!1},e=[{key:"_getLeftMargin",value:function(){return this.margin.left}},{key:"_getYScale",value:function(){return 20/this._config.chrWidth}},{key:"getChromosomeLabels",value:function(t){var e=new Ba(t),n=[];return this._ideo.config.ploidy>1&&n.push(e.getSetLabel()),n.push(e.getLabel()),n.filter((function(t){return t.length>0}))}},{key:"getChromosomeBandLabelTranslate",value:function(t){var e,n,r,o=this._ideo,i=this._tickSize,a=o.config.orientation;return"vertical"===a?r="rotate(-90)translate("+(e=i)+","+(n=o.round(2+t.px.start+t.px.width/2))+")":"horizontal"===a&&(r="translate("+(e=o.round(-i+t.px.start+t.px.width/2))+","+(n=-10)+")"),{x:e,y:n,translate:r}}},{key:"didRotate",value:function(t,e){var n,r,o,i,a,s,c,l,u;r=(n=this._ideo).config.taxid,o=e.id.split("-")[0].replace("chr",""),i=(a=n.chromosomes[r][o]).bands,l=(c=ko.select(e.parentNode)).attr("transform"),u=/scale\(.*\)/.exec(l),l=l.replace(u,""),c.attr("transform",l),s=a.width,(a=n.getChromosomeModel(i,o,r,t)).oldWidth=s,n.chromosomes[r][o]=a,n.drawChromosome(a),n.handleRotateOnClick(),n.rawAnnots&&(n.displayedTrackIndexes?n.updateDisplayedTracks(n.displayedTrackIndexes):(n.annots=n.processAnnotData(n.rawAnnots),n.drawProcessedAnnots(n.annots),n.config.filterable&&n.initCrossFilter())),!0===n.config.showBandLabels&&(n.drawBandLabels(n.chromosomes),n.hideUnshownBandLabels()),n.onDidRotateCallback&&n.onDidRotateCallback(a)}},{key:"rotate",value:function(t,e,n){var r,o,i,a;r=this._ideo,a=r.selector+" .chrSetLabel, "+r.selector+" .chrLabel",i=document.querySelector(r.selector).getBoundingClientRect(),o=ko.selectAll(r.selector+" g.chromosome").filter((function(){return this!==n})),this._isRotated?(this._isRotated=!1,r.config.chrHeight=r.config.chrHeightOriginal,r.config.chrWidth=r.config.chrWidthOriginal,r.config.annotationHeight=r.config.annotationHeightOriginal,this.rotateBack(t,e,n,(function(){o.style("display",null),ko.selectAll(a).style("display",null),r._layout.didRotate(e,n)}))):(this._isRotated=!0,o.style("display","none"),ko.selectAll(a).style("display","none"),this.rotateForward(t,e,n,(function(){var t,o,a;r.config.chrHeightOriginal=r.config.chrHeight,r.config.chrWidthOriginal=r.config.chrWidth,r.config.annotationHeightOriginal=r.config.annotationHeight,"VerticalLayout"===r._layout._class?(o=i.width-20,a=window.innerWidth-20):(o=i.height-10,a=window.innerHeight-10),t=a<o?a:o,t-=2*r.config.chrMargin,r.config.chrHeight=t,r.config.chrWidth*=2.3,r.config.annotationHeight*=1.7,r._layout.didRotate(e,n)})))}},{key:"getChromosomeLabelClass",value:function(){return 1===this._config.ploidy?"chrLabel":"chrSetLabel"}},{key:"_getAdditionalOffset",value:function(){var t=this._config,e=t.annotationsNumTracks||t.numAnnotTracks||1;return(t.annotationHeight||0)*e}},{key:"_getChromosomeSetSize",value:function(t){return this._ploidy.getSetSize(t)*this._config.chrWidth*2+this.chrSetMargin}},{key:"getChromosomeSetLabelAnchor",value:function(){return"middle"}},{key:"getChromosomeLabelYPosition",value:function(){return-5.5}},{key:"getChromosomeSetLabelYPosition",value:function(t){return 1===this._config.ploidy?this.getChromosomeLabelYPosition(t):-2*this._config.chrWidth}}],e&&Ga(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const qa=Wa;function za(t){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(t)}function Ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$a(r.key),r)}}function $a(t){var e=function(t){if("object"!=za(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=za(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==za(e)?e:e+""}function Ya(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ya=function(){return!!t})()}function Va(t){return Va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(t)}function Xa(t,e){return Xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xa(t,e)}var Ka=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=Va(e),function(t,e){if(e&&("object"==za(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ya()?Reflect.construct(e,n||[],Va(t).constructor):e.apply(t,n))}(this,e,[t,n]))._class="VerticalLayout",r.margin={top:30,left:15},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xa(t,e)}(e,t),n=e,r=[{key:"rotateForward",value:function(t,e,n,r){var o="translate(20, 25) "+this.getChromosomeScale(n);ko.select(n.parentNode).transition().attr("transform",o).on("end",r);var i=this.getChromosomeLabels(n),a=1.3*(20+this._config.chrWidth);ko.select(this._ideo.getSvg()).append("g").attr("class","tmp").selectAll("text").data(i).enter().append("text").attr("class",(function(t,e){return 0===e&&2===i.length?"chrSetLabel":null})).attr("x",0).attr("y",a).style("opacity",0).text(String).transition().style("opacity",1),this._ideo.config.orientation="horizontal"}},{key:"rotateBack",value:function(t,e,n,r){var o=this.getChromosomeScaleBack(n),i=this.getChromosomeSetTranslate(t);ko.select(n.parentNode).transition().attr("transform",i+" "+o).on("end",r),ko.selectAll(this._ideo.selector+" g.tmp").style("opacity",0).remove(),this._ideo.config.orientation="vertical"}},{key:"getHeight",value:function(){return this._config.chrHeight+1.5*this.margin.top}},{key:"getWidth",value:function(){return"97%"}},{key:"getChromosomeBandTickY1",value:function(){return 2}},{key:"getChromosomeBandTickY2",value:function(){return 10}},{key:"getChromosomeSetLabelTranslate",value:function(){return"rotate(-90)"}},{key:"getChromosomeBandLabelAnchor",value:function(){return null}},{key:"getChromosomeScale",value:function(t){var e,n;return e=ko.select(this._ideo.selector).node().getBoundingClientRect(),n=t.getBoundingClientRect(),"scale("+e.width/n.height*.97+", "+this._getYScale()+")"}},{key:"getChromosomeScaleBack",value:function(t){var e,n,r;return n=(r=this._ideo.config).taxid,e=t.id.split("-")[0].replace("chr",""),"scale("+this._ideo.chromosomes[n][e].oldWidth/(3*r.chrHeight)*.97+", "+1/this._getYScale()+")"}},{key:"getChromosomeSetTranslate",value:function(t){return"rotate(90) translate("+this.margin.top+", -"+this.getChromosomeSetYTranslate(t)+")"}},{key:"getChromosomeSetYTranslate",value:function(t){var e,n=this._getAdditionalOffset(),r=this._config,o=r.chrMargin,i=r.chrWidth;if(!r.ploidyDesc)return"histogram"===r.annotationsLayout?o+t*(o+i+3)+2*r.barWidth:(e=i+t*(o+i)+2*n+("legendPad"in r?r.legendPad:0),n>0?e:e+4+2*t);if(!this._translate){var a;this._translate=[this._ploidy.getSetSize(0)*i*2];for(var s=1;s<this._config.ploidyDesc.length;s++)a=this._translate[s-1],this._translate[s]=a+this._getChromosomeSetSize(s-1)}return this._translate[t]}},{key:"getChromosomeSetLabelXPosition",value:function(){return this._config.chrWidth*this._config.ploidy/-2}},{key:"getChromosomeLabelXPosition",value:function(){return this._config.chrWidth/-2}}],r&&Ua(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(qa);const Qa=Ka;function Ja(t){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(t)}function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ts(r.key),r)}}function ts(t){var e=function(t){if("object"!=Ja(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ja(e)?e:e+""}function es(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(es=function(){return!!t})()}function ns(t){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(t)}function rs(t,e){return rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rs(t,e)}var os=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=ns(e),function(t,e){if(e&&("object"==Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,es()?Reflect.construct(e,n||[],ns(t).constructor):e.apply(t,n))}(this,e,[t,n]))._class="HorizontalLayout",r.margin={left:20,top:30},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rs(t,e)}(e,t),n=e,r=[{key:"_getLeftMargin",value:function(){var t=qa.prototype._getLeftMargin.call(this);return this._config.ploidy>1&&(t*=1.8),t}},{key:"rotateForward",value:function(t,e,n,r){var o;ko.select(n.parentNode).transition().attr("transform","rotate(90) translate(30, -37.5) ").on("end",r),o=this.getChromosomeLabels(n),ko.select(this._ideo.getSvg()).append("g").attr("class","tmp").selectAll("text").data(o).enter().append("text").attr("class",(function(t,e){return 0===e&&2===o.length?"chrSetLabel":null})).attr("x",26).attr("y",(function(t,e){return 12*(e+1+o.length%2)})).style("text-anchor","middle").style("opacity",0).text(String).transition().style("opacity",1),this._ideo.config.orientation="vertical"}},{key:"rotateBack",value:function(t,e,n,r){var o=this.getChromosomeSetTranslate(t);ko.select(n.parentNode).transition().attr("transform",o).on("end",r),ko.selectAll(this._ideo.selector+" g.tmp").style("opacity",0).remove(),this._ideo.config.orientation="horizontal"}},{key:"getHeight",value:function(t){void 0===t&&(t=this._config.taxids[0]);var e=this._config.chromosomes[t].length,n=this.getChromosomeSetYTranslate(e-1);return(n+=this._getChromosomeSetSize(e-1))+2*this._getAdditionalOffset()}},{key:"getWidth",value:function(){return this._config.chrHeight+1.5*this.margin.top}},{key:"getChromosomeSetLabelAnchor",value:function(){return"end"}},{key:"getChromosomeBandLabelAnchor",value:function(){return null}},{key:"getChromosomeBandTickY1",value:function(){return 2}},{key:"getChromosomeBandTickY2",value:function(){return 10}},{key:"getChromosomeSetLabelTranslate",value:function(){return null}},{key:"getChromosomeSetTranslate",value:function(t){return"translate("+this._getLeftMargin()+", "+this.getChromosomeSetYTranslate(t)+")"}},{key:"getChromosomeSetYTranslate",value:function(t){if(!this._config.ploidyDesc)return this._config.chrMargin*(t+1);if(!this._translate){this._translate=[1];for(var e=1;e<this._config.ploidyDesc.length;e++)this._translate[e]=this._translate[e-1]+this._getChromosomeSetSize(e-1)}return this._translate[t]}},{key:"getChromosomeSetLabelXPosition",value:function(t){return 1===this._config.ploidy?this.getChromosomeLabelXPosition(t):-20}},{key:"getChromosomeSetLabelYPosition",value:function(t){var e=this._ploidy.getSetSize(t),n=this._config,r=n.chrMargin,o=n.chrWidth;return 1===n.ploidy?o/2+3:e*r/2}},{key:"getChromosomeLabelXPosition",value:function(){return-8}},{key:"getChromosomeLabelYPosition",value:function(){return this._config.chrWidth}}],r&&Za(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(qa);const is=os;function as(t){return as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(t)}function ss(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cs(r.key),r)}}function cs(t){var e=function(t){if("object"!=as(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=as(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==as(e)?e:e+""}function ls(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ls=function(){return!!t})()}function us(t){return us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},us(t)}function fs(t,e){return fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fs(t,e)}var hs=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=us(e),function(t,e){if(e&&("object"==as(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ls()?Reflect.construct(e,n||[],us(t).constructor):e.apply(t,n))}(this,e,[t,n]))._class="PairedLayout",r.margin={left:30},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fs(t,e)}(e,t),n=e,r=[{key:"getHeight",value:function(){return this._config.chrHeight+1.5*this.margin.left}},{key:"getWidth",value:function(){return"97%"}},{key:"getChromosomeBandTickY1",value:function(t){return t%2?this._config.chrWidth:2*this._config.chrWidth}},{key:"getChromosomeBandTickY2",value:function(t){var e=this._config.chrWidth;return t%2?e-this._tickSize:2*e+this._tickSize}},{key:"getChromosomeBandLabelAnchor",value:function(t){return t%2?null:"end"}},{key:"getChromosomeBandLabelTranslate",value:function(t,e){var n=e%2?10:-this._config.chrWidth-10,r=this._ideo.round(t.px.start+t.px.width/2)+3;return{x:r,y:r,translate:"rotate(-90) translate("+n+", "+r+")"}}},{key:"getChromosomeLabelXPosition",value:function(){return-this._tickSize}},{key:"getChromosomeSetLabelXPosition",value:function(){return this._config.chrWidth/-2}},{key:"getChromosomeSetLabelTranslate",value:function(){return"rotate(-90)"}},{key:"getChromosomeSetTranslate",value:function(t){var e=this.getChromosomeSetYTranslate(t);return"rotate(90) translate("+this.margin.left+", -"+e+")"}},{key:"getChromosomeSetYTranslate",value:function(t){return 200*(t+1)}}],r&&ss(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(qa);const ds=hs;function ps(t){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(t)}function ms(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gs(r.key),r)}}function gs(t){var e=function(t){if("object"!=ps(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ps(e)?e:e+""}function ys(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ys=function(){return!!t})()}function vs(t){return vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(t)}function bs(t,e){return bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bs(t,e)}const ws=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=vs(e),function(t,e){if(e&&("object"==ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ys()?Reflect.construct(e,n||[],vs(t).constructor):e.apply(t,n))}(this,e,[t,n]))._class="SmallLayout",r.margin={left:36.5,top:10};var o=r._ideo.getTaxid(r._ideo.config.organism);r.chrs=t.chromosomes[o];var i=r.chrs.length;return r.chrsPerRow=Math.ceil(i/t.rows),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bs(t,e)}(e,t),n=e,(r=[{key:"getHeight",value:function(){var t=1.25*this._config.chrHeight;return this._config.rows*(t+this.margin.top)}},{key:"getWidth",value:function(){return"97%"}},{key:"getChromosomeBandLabelTranslate",value:function(){}},{key:"getChromosomeSetLabelTranslate",value:function(){return"rotate(-90)"}},{key:"getChromosomeSetTranslate",value:function(t){var e,n;return t>this.chrsPerRow-1?(e=this.margin.left+1.3*this._config.chrHeight,n=this.getChromosomeSetYTranslate(t-this.chrsPerRow)):(e=this.margin.left,n=this.getChromosomeSetYTranslate(t)),"rotate(90) translate("+e+", -"+n+")"}},{key:"getChromosomeSetYTranslate",value:function(t){var e=.3*this._getAdditionalOffset();return this.margin.left*t+this._config.chrWidth+2*e+e*t}},{key:"getChromosomeSetLabelXPosition",value:function(t){return(this._ploidy.getSetSize(t)*this._config.chrWidth+20)/-2+(this._config.ploidy>1?0:this._config.chrWidth)}},{key:"getChromosomeLabelXPosition",value:function(){return this._config.chrWidth/-2}}])&&ms(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(qa);function xs(t){if(27===t.keyCode){var e=document.querySelector("#_ideogramTooltip");e&&(e.style.opacity=0);var n=document.querySelector("#ideo-pathway-container");n&&n.remove()}}function As(t){var e=this;e.config.annotationsPath&&e.fetchAnnots(e.config.annotationsPath),function(t){if("ploidyDesc"in t.config&&"string"==typeof t.config.ploidyDesc){for(var e=[],n=0;n<t.numChromosomes;n++)e.push(t.config.ploidyDesc);t.config.ploidyDesc=e}t._ploidy=new Ia(t.config)}(e),e._layout=function(t){var e=t.config;return"perspective"in e&&"comparative"===e.perspective?new ds(e,t):"rows"in e&&e.rows>1?new ws(e,t):"vertical"===e.orientation?new Qa(e,t):"horizontal"===e.orientation?new is(e,t):new Qa(e,t)}(e),function(t){ko.selectAll(t.config.container+" #_ideogramOuterWrap").remove(),ko.select(t.config.container).append("div").attr("id","_ideogramOuterWrap").append("div").attr("id","_ideogramTrackLabelContainer").style("position","absolute"),ko.select(t.config.container+" #_ideogramOuterWrap").append("div").attr("id","_ideogramMiddleWrap").style("position","relative").style("overflow-x","auto").style("transform","translateZ(0)").append("div").attr("id","_ideogramInnerWrap").append("svg").attr("id","_ideogram").attr("class",function(t){var e="";return t.config.showChromosomeLabels&&("horizontal"===t.config.orientation?e+="labeledLeft ":e+="labeled "),!1===t.config.rotatable&&(e+="no-rotate "),t.config.annotationsLayout&&"overlay"===t.config.annotationsLayout&&(e+="faint"),e}(t)).attr("width",t._layout.getWidth()).attr("height",t._layout.getHeight()).html(t.getBandColorGradients())}(e),e.isOnlyIdeogram=1===document.querySelectorAll("#_ideogram").length,function(t){ko.select(t.config.container+" #_ideogramOuterWrap").append("div").attr("class","_ideogramTooltip").attr("id","_ideogramTooltip").style("opacity",0).style("position","fixed").style("text-align","center").style("padding","4px").style("font","12px sans-serif").style("background","white").style("border","1px solid black").style("border-radius","5px").style("z-index","1000").style("margin-left","-2px"),document.removeEventListener("keydown",xs),document.addEventListener("keydown",xs)}(e),e.finishInit(t)}var _s="";function Cs(t,e,n){return n.config.dataDir+t[e]}function Ss(t,e,n){var r=n.config.ploidy;return"sex"in n.config&&(2===r&&n.sexChromosomes.index+1===e||"female"===n.config.sex&&"Y"===t.name)}function ks(t,e,n,r){var o,i,a,s,c;for(o=0;o<e.length;o++)a=e[o],void 0!==t&&(i=t[o]),c=o+r.config.taxids.indexOf(n),s=r.getChromosomeModel(i,a,n,c),"string"!=typeof a&&(a=a.name.split(" ").slice(-1)[0].replace("chr","")),r.chromosomes[n][a]=s,r.chromosomesArray.push(s),Ss(s,o,r)||r.drawChromosome(s)}function Ls(t,e){"undefined"!=typeof chrBands&&t.length>=chrBands.length/2&&(e.coordinateSystem="bp")}function Ts(){var t,e,n,r,o=this,i=o.config.taxids;for(e=0;e<i.length;e++)t=i[e],n=o.config.chromosomes[t],r=o.bandsArray[t],o.config.showNonNuclearChromosomes||(n=n.filter((function(t){return"MT"!==t})),void 0!==r&&(r=r.filter((function(t){return"MT"!==t[0].chr})))),Ls(n,o),o.chromosomes[t]={},o.setSexChromosomes(n),ks(r,n,t,o),o.config.showBandLabels&&o.drawBandLabels(o.chromosomes),o.handleRotateOnClick(),o._gotChrModels=!0}function Es(){var t=this;"rotatable"in t.config&&!1===t.config.rotatable?ko.selectAll(t.selector).style("cursor","default"):ko.selectAll(t.selector+" .chromosome-set").on("click",(function(){var e=this.children[1];t.rotateAndToggleDisplay(e)}))}function Os(){call(this.onLoadCallback)}function Ps(t,e,n){var r=n.organisms[t],o=[Ro(r.scientificName)],i=r.assemblies,a=n.config.resolution;return e!==i.default&&o.push(e),"9606"===t&&(e in i==="false"&&Object.values(i).includes(config.assembly)||""!==a&&850!==a)&&o.push(a),o=o.join("-"),["9606","10090","10116"].includes(t)&&!n.config.showFullyBanded&&(o+="-no-bands"),o+".json"}function js(t,e,n){var r,o,i,a=n.config;r=n.organisms[t],a.assembly||(n.config.assembly="default"),o=r.assemblies,i=Ps(t,n.assemblyIsAccession()?a.assembly:o[a.assembly],n);var s="-1"===t;return(t in n.organismsWithBands||s)&&(e[t]=i),e}function Ms(t,e,n,r){return function(t,e,n){var r=Cs(t,e,n);return(!(void 0!==window.chrBands&&""===_s)||_s!==r)&&function(t){return"assembly"in t.config&&!1===/(GCA_)/.test(t.config.assembly)}(n)&&e in t}(e,t,r)?function(t,e,n,r){var o=Cs(t,e,r);return r.numBandDataResponses||(r.numBandDataResponses=0),Eo(o).then((function(e){return e.json().then((function(n){_s=o,delete window.chrBands,window.chrBands=n.chrBands,function(t,e,n,r){var o,i,a;for(o in e)a=e[o],t.includes(a)&&""!==a&&(i=o);r.bandData[i]=n}(e.url,t,chrBands,r)}))}))}(e,t,0,r).then((function(){return r.processBandData(t)})):new Promise((function(e){r.processBandData(t),e([t,void 0])}))}var Is={},Ns={},Ds={};function Fs(t){var e=(t=t||this).config.container;Ds[e]?(Ns[e]=!0,Is[e]=t):(Ds[e]=!0,function(t){return new Promise((function(e){var n=t.config.organism;"number"==typeof n?t.getOrganismFromEutils(n,(function(){t.getTaxids(e)})):t.getTaxids(e)}))}(t).then((function(n){var r=n[0];t.config.taxid=r,t.config.taxids=n,t.organismScientificName=t.getScientificName(t.config.taxid),function(t,e,n){var r,o,i,a=[];for(i in r={},_o)r[i]="";for(o=0;o<t.length;o++)r=js(i=String(t[o]),r,n),a.push(Ms(i,r,0,n));Promise.all(a).then((function(t){var r,i,a;for(o=0;o<t.length;o++)i=(r=t[o])[0],a=r[1],"bandsArray"in n==0&&(n.bandsArray={}),n.bandsArray[i]=a;n.writeContainer(e)}))}(n,(new Date).getTime(),t),Ds[e]=!1,Ns[e]&&(Ns[e]=!1,Fs(Is[e]))})))}function Bs(t){return Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(t)}function Rs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Gs(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gs(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Hs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ws(r.key),r)}}function Ws(t){var e=function(t){if("object"!=Bs(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Bs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Bs(e)?e:e+""}var qs=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rawAnnots=this.parseBed(e,n)}return e=t,n=[{key:"parseGenomicCoordinates",value:function(t,e){var n,r,o,i;return n=t[0],r=parseInt(t[1],10),i=(o=parseInt(t[2],10))-r,e&&(n=n.slice(3)),[n,r,o,i]}},{key:"parseAnnotFromTsvLine",value:function(e,n,r){var o,i,a,s,c,l,u,f=e.split(/\s/g),h=Rs(this.parseGenomicCoordinates(f,r),4);return a=h[0],s=h[1],stop=h[2],length=h[3],-1===(i=n.indexOf(a))?[null,null]:(o=["",s,length,0],f.length>=4&&(u=f[3],o[0]=u),f.length>=8&&(c=f[8].split(","),l=t.rgbToHex(c[0],c[1],c[2]),o.push(l)),[i,o])}},{key:"parseRawAnnots",value:function(t,e,n,r){var o,i,a,s,c,l;for(l=!0,!1===isNaN(parseInt(n[e],10))&&(l=!1),o=e;o<n.length;o++){i=n[o];var u=Rs(this.parseAnnotFromTsvLine(i,r,l),2);a=u[0],s=u[1],null!==a&&t[a].annots.push(s)}return c=["name","start","length","trackIndex"],n[e].length>=8&&c.push("color"),{keys:c,annots:t}}},{key:"parseBed",value:function(t,e){var n,r,o,i,a=[],s=t.split(/\r\n|\n/);for(r=Object.keys(e.chromosomes[e.config.taxid]),n=0;n<r.length;n++)o=r[n],a.push({chr:o,annots:[]});return i=0,("chr"===s[0].slice(0,3)||isNaN(parseInt(s[0],10)))&&(i=1),this.parseRawAnnots(a,i,s,r)}}],r=[{key:"componentToHex",value:function(t){var e=parseInt(t,10).toString(16);return 1===e.length?"0"+e:e}},{key:"rgbToHex",value:function(e,n,r){return"#"+t.componentToHex(e)+t.componentToHex(n)+t.componentToHex(r)}}],n&&Hs(e.prototype,n),r&&Hs(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function zs(t){return zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(t)}function Us(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$s(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ys(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vs(r.key),r)}}function Vs(t){var e=function(t){if("object"!=zs(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=zs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==zs(e)?e:e+""}var Xs=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rawAnnots=this.parseTsv(e,n)},e=[{key:"parseGenomicCoordinates",value:function(t){return[t[1],parseInt(t[2],10),parseInt(t[3],10)]}},{key:"parseTsv",value:function(t,e){for(var n,r=t.split(/\r\n|\n/),o=Object.keys(e.chromosomes[e.config.taxid]),i=[],a=0;a<o.length;a++){var s=o[a];i.push({chr:s,annots:[]})}for(var c={},l=[],u=0;u<r.length;u++){var f=r[u];if(""!==f)if("#"!==f[0]){var h=f.trim().split(/\t/),d=h[0],p=Us(this.parseGenomicCoordinates(h),3),m=p[0],g=p[1],y=p[2],v=o.indexOf(m);if(-1!==v){for(var b=h.slice(4),w=0;w<4;w++){var x=l[w];if(x in c){var A=c[x],_=h[4+w].split(";"),C=[];if(""!==_[0])for(var S=0;S<_.length;S++){for(var k={},L=_[S].split("!"),T=0;T<L.length;T++){var E=A[T],O=L[T];k[Bo(E)]=O}C.push(k)}b[w]=C}}var P=[d,m,g,y].concat(b);P.push(u),i[v].annots.push(P)}}else if("#"===f[1]){var j=f.split(" keys: ");if(j.length>1){var M=j[0].slice(3),I=j[1].split(";");c[Bo(M)]=I}}else n=f.slice(1).trim().split(/\t/).map((function(t){return Bo(t)})),n.slice(4).forEach((function(t,e){return l.push(Bo(t))}))}return n.push("initRank"),{keys:n,annots:i,innerKeysByField:c}}}],e&&Ys(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),Ks=["name","start","length","trackIndex","trackIndexOriginal","color"],Qs={3:["00B","DDD","F00"],5:["00D","66D","DDD","F88","F00"],17:["00D","00D","00D","00D","00D","44D","44D","DDD","DDD","DDD","DDD","F88","F66","F22","F22","F00","F00","F00"]};function Js(t){var e,n,r;if(t.rawAnnots.metadata&&t.rawAnnots.metadata.trackLabels)e=t.rawAnnots.metadata.trackLabels;else if(t.config.heatmaps)for(e=[],n=t.config.heatmaps,r=0;r<n.length;r++)e.push(n[r].key);else e=t.rawAnnots.keys.slice(0).filter((function(t){return!Ks.includes(t)}));return t.displayedTrackIndexes&&(e=e.filter((function(e,n){return t.displayedTrackIndexes.includes(n+1)}))),e}function Zs(t){var e,n,r=t.rawAnnots;if(!r.metadata||r.metadata.heatmapThresholds||t.config.heatmapThresholds)return e=t.config.heatmapThresholds?t.config.heatmapThresholds:t.rawAnnots.metadata.heatmapThresholds,n=Qs[e.length+1],e=e.map((function(t,e){return[t,"#"+n[e]]})),e.push(["+","#"+n.slice(-1)[0]]),e}function tc(t,e,n,r,o){return t===e&&"+"===o&&n>r||n===o||0!==t&&t!==e&&n<=o&&n>r||0===t&&n<=o}function ec(t,e){var n,r,o,i,a,s,c,l;for(n=0;n<t.length;n++)r=t.length-1,i=(o=t[n])[0],a=parseFloat(i),!1===isNaN(a)&&(i=a),0!==n&&(c=parseFloat(t[n-1][0])),s=o[1],tc(n,r,e,c,i)&&(l=s);return l}function nc(t,e,n){var r,o,i,a,s,c=t.width,l=[],u=n.config.annotLabelHeight,f=n.config.numAnnotTracks;for(r=0;r<f;r++)i=n.config.annotationHeight+u+4,s=t.id+"-canvas-"+r,o=e,t.chrIndex>0&&(o+=n.config.chrMargin*t.chrIndex-1),a=ko.select(n.config.container+" #_ideogramInnerWrap").append("canvas").attr("id",s).attr("width",c+1).attr("height",i).style("position","absolute").style("left",o+"px").style("top",i*r+1+"px").nodes()[0].getContext("2d"),l.push([a,t]);return l}function rc(t,e,n){var r,o,i,a,s=n.config.annotLabelHeight,c=n.config.annotationHeight,l=n.config.demarcateCollinearChromosomes,u=c+s+4;for(r=0;r<t.length;r++)if(i=e[(o=t[r]).trackIndex][0],a=e[o.trackIndex][1],i.fillStyle=o.color,l){if(o.startPx<1||o.startPx>a.width-1)continue;i.fillRect(o.startPx,1,.5,u)}else i.fillRect(o.startPx,s+1,.5,c);if(l)for(r=0;r<e.length;r++)i=e[r][0],a=e[r][1],i.fillStyle="#555",0===a.chrIndex&&i.fillRect(0,0,1,u),i.fillRect(a.width-1,0,1.1,u),i.fillRect(0,0,a.width+1,1),n.config.chrMargin&&i.fillRect(0,0,1.1,u)}function oc(t,e,n){var r,o,i,a=n.config.annotationHeight,s=n._layout.margin.top;for(i=t.values,r=0;r<i.length;r++)e.fillStyle=i[r],o=(r-1)*a,e.fillRect(o,t.startPx+s,a,2)}function ic(t,e,n,r,o,i,a){var s,c,l,u,f,h,d,p=a.config.heatmapThresholds;for(s=0;s<n.annots.length;s++){for(u=n.annots[s],(l={}).values=[],c=0;c<3;c++)l[i[c]]=u[c];for(c=3;c<i.length;c++)d=ec(p,u[c]),l.values.push(d);f=l.start+l.length,l.chr=n.chr,l.chrIndex=o,l.startPx=a.convertBpToPx(r,l.start),h=a.convertBpToPx(r,f),l.px=Math.round((l.startPx+h)/2),t.push(l)}return t.shift(),[t,e]}function ac(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function sc(t){!1!==t.config.showTrackLabel&&(t.hideTrackLabelTimeout=window.setTimeout((function(){ko.select(t.config.container+" #_ideogramTrackLabel").transition().duration(500).style("opacity",0)}),250))}function cc(t,e){var n,r;clearTimeout(e.hideTrackLabelTimeout),n=(n=Js(e)).join("<br>"),ko.select(e.config.container+" #_ideogramTrackLabel").interrupt().style("top","").style("left","").style("transform",null).style("transform","rotate(-90deg)").html(n);var o,i,a=function(t,e,n){var r,o,i,a,s;return r=e.id.split("-").slice(0,-1).join("-")+"-0",o=ko.select(n.config.container+" #"+r).nodes()[0].getBoundingClientRect(),i=ko.select(n.config.container+" #_ideogramTrackLabel").nodes()[0].getBoundingClientRect(),a=ko.select(n.config.container).nodes()[0].getBoundingClientRect(),s=Math.round(o.left+i.width)-o.width-1,[s-=a.left-7,-(t.split("<br>").length-2)*o.width+2]}(n,t,e),s=(i=2,function(t){if(Array.isArray(t))return t}(o=a)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(o,i)||function(t,e){if(t){if("string"==typeof t)return ac(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());r=s[0],function(t,e,n){ko.select(n.config.container+" #_ideogramTrackLabel").style("opacity",1).style("left",e+"px").style("top",t+"px").style("width","max-content").style("transform-origin","bottom left").style("text-align","left").on("mouseover",(function(){clearTimeout(n.hideTrackLabelTimeout)})).on("mouseout",(function(){sc(n)}))}(s[1],r,e)}function lc(t,e,n,r){var o,i,a,s,c,l=[],u=r.config.numAnnotTracks;for(o=0;o<u;o++)a=r.config.annotationHeight,c=t.id+"-canvas-"+o,i=e-a*(u-o)-7,s=ko.select(r.config.container+" #_ideogramInnerWrap").append("canvas").attr("id",c).attr("width",a).attr("height",n).style("position","absolute").style("left",i+"px").nodes()[0].getContext("2d"),l.push(s);return l}function uc(t,e,n,r){var o,i,a,s;for(o=0;o<t.length;o++)(a=e[(i=t[o]).trackIndex]).fillStyle=i.color,s=i.trackIndex-1,a.fillRect(s,i.startPx+r,n,.5)}function fc(t){var e,n,r,o,i=this,a=i.config,s=i._layout.margin.top,c=a.chrHeight+s;if("collinear"===a.geometry)return function(t,e){var n,r,o,i,a=0,s=e.config.showChromosomesLabels?2:-.1;for(ko.select(e.selector).classed("labeledLeft",!1),ko.selectAll(e.config.container+" canvas").remove(),o=0;o<t.length;o++)n=t[o].annots,i=e.chromosomesArray[o],0===o?r=12:(r=a+e.chromosomesArray[o-1].width+14,a+=e.chromosomesArray[o-1].width+s),rc(n,nc(i,r,e),e);(function(t){!function(t,e){var n,r,o,i,a=e.config.annotLabelHeight;for(i=e.config.demarcateCollinearChromosomes?2:0,(o=ko.select(e.config.container+" #_ideogramTrackLabelContainer")).html(""),r=e.config.annotationHeight+a+4,n=0;n<t.length;n++)o.style("position","absolute").append("div").attr("class","_ideogramTrackLabel").style("opacity",1).style("position","absolute").style("text-align","center").style("padding","1px").style("font","11px sans-serif").style("background","white").style("line-height","10px").style("z-index","5").style("left",11+i+"px").style("top",r*n+i+"px").style("width","max-content").style("transform-origin","bottom left").style("text-align","left").html(t[n])}(Js(t),t)})(e),e.onDrawAnnotsCallback&&e.onDrawAnnotsCallback()}(t,i);if("heatmap-2d"===a.annotationsLayout)return function(t,e){var n,r,o=e.config.container,i=e._layout.margin.top,a=e.config.chrHeight+i,s=e.config.annotationHeight*t[0].values.length;for(ko.selectAll(o+" canvas").remove(),ko.select(o+" #_ideogramInnerWrap").style("max-width",s+"px"),ko.select(o+" #_ideogram").attr("width",s),n=function(t,e,n,r){var o,i;return i=t.id+"-canvas",o=2*r.config.chrWidth+r.config.annotationHeight-.5,ko.select(r.config.container+" #_ideogramInnerWrap").append("canvas").attr("id",i).attr("width",n).attr("height",e).style("position","absolute").style("left",o+"px").style("top","0px").nodes()[0].getContext("2d")}(e.chromosomesArray[0],a,s,e),r=0;r<t.length;r++)oc(t[r],n,e);e.onDrawAnnotsCallback&&e.onDrawAnnotsCallback()}(t,i);for(ko.selectAll(i.config.container+" canvas").remove(),function(t){ko.select(t.config.container+" #_ideogramTrackLabelContainer").append("div").attr("id","_ideogramTrackLabel").style("opacity",0).style("position","absolute").style("text-align","center").style("padding","1px").style("font","11px sans-serif").style("background","white").style("line-height","10px").style("z-index","9000")}(i),r=0;r<t.length;r++)e=t[r].annots,o=i.chromosomesArray[r],n=i.config.chrWidth,uc(e,lc(o,i._layout.getChromosomeSetYTranslate(r),c,i),n,s);ko.selectAll(i.config.container+" canvas").on("mouseover",(function(){cc(this,i)})).on("mouseout",(function(){sc(i)})),i.onDrawAnnotsCallback&&i.onDrawAnnotsCallback()}function hc(t,e,n){var r,o,i,a,s,c,l,u=[];for(r=0;r<e.length;r++)for(i=e[r],o=0;o<t.length;o++)a=i.slice(0,3),s=i[t[o]],c=ec(n.config.heatmaps[o].thresholds,s),l=o,a.push(l,c,s),u.push(a);return u}function dc(t){var e,n,r,o,i=(new Date).getTime(),a=t.keys,s=t.annots,c=this;for(r=[],o=0;o<c.config.heatmaps.length;o++)n=c.config.heatmaps[o].key,r.push(a.indexOf(n));e=function(t,e,n){var r,o,i,a,s=[];for(a=0;a<e.length;a++)o=(r=e[a]).chr,i=hc(t,r.annots,n),s.push({chr:o,annots:i});return s}(r,s,c),a.splice(3,0,"trackIndex"),a.splice(4,0,"color"),c.rawAnnots.keys=a,c.rawAnnots.annots=e,function(t,e){var n=(new Date).getTime();e.config.debug&&console.log("Time in deserializeAnnotsForHeatmap: "+(n-t)+" ms")}(i,c)}function pc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function mc(){call(this.onLoadAnnotsCallback)}function gc(){call(this.onDrawAnnotsCallback)}function yc(){ko.select("._ideogramTooltip").transition().duration(500).style("opacity",0).style("pointer-events","none")}function vc(){var t,e=this;if(!1!==e.config.showAnnotTooltip){var n=null!==(t=e.oneTimeDelayTooltipHideMs)&&void 0!==t?t:250;delete e.oneTimeDelayTooltipHideMs,e.hideAnnotTooltipTimeout=window.setTimeout((function(){yc()}),n),e.isTooltipCooling=!0,e.hideAnnotTooltipCounter=window.setTimeout((function(){e.isTooltipCooling=!1}),500)}}function bc(t){call(this.onWillShowAnnotTooltipCallback,t)}function wc(){call(this.onDidShowAnnotTooltipCallback)}function xc(t){this.prevClickedAnnot=t,this.onClickAnnotCallback(t)}function Ac(t,e){var n,r,o,i,a=Number(e.getAttribute("cx")),s=Number(e.getAttribute("cy")),c=this;if(!1!==c.config.showAnnotTooltip)if(clearTimeout(c.hideAnnotTooltipTimeout),c.onWillShowAnnotTooltipCallback&&(t=c.onWillShowAnnotTooltipCallback(t)),null!==t){c.prevTooltipAnnotName=t.name,(r=ko.select("._ideogramTooltip")).interrupt(),n=e.getScreenCTM().translate(a,s);var l=(o=function(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r="chr"+t.chr+":"+t.start.toLocaleString(),t.displayCoordinates?r=t.displayCoordinates:t.length>0&&(r+="-"+t.stop.toLocaleString(),o&&(r+=" ("+function(t){var e,n,r=Math.abs(t.stop-t.start);return e=r,((n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(t){return e>=t.value})))?(e/n.value).toFixed(void 0).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+" "+n.symbol:"0")+"bp"}(t)+")")),e='<span class="_ideoTooltipFooter"><br />'.concat(r,"</span>"),n=24,t.name&&(e=(t.displayName?t.displayName:t.name)+e,n+=8),[e,n]}(t,!0),i=2,function(t){if(Array.isArray(t))return t}(o)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(o,i)||function(t,e){if(t){if("string"==typeof t)return pc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pc(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());(function(t,e,n,r,o){t.html(e).style("opacity",1).style("left",n.e+"px").style("top",n.f-r+"px").style("font-family",o.config.fontFamily).style("pointer-events",null).on("mouseover",(function(){clearTimeout(o.hideAnnotTooltipTimeout)})).on("mouseout",(function(){o.startHideAnnotTooltipTimeout()}))})(r,l[0],n,l[1],c),c.onDidShowAnnotTooltipCallback&&c.onDidShowAnnotTooltipCallback()}else yc()}function _c(t){return"ideogramLabel_"+t.domId}function Cc(t,e,n){ko.selectAll("._ideoActive").classed("_ideoActive",!1),ko.select("#"+e).attr("class","_ideogramLabel "+t),ko.select("#"+n+" > path").attr("class",t)}function Sc(t,e){var n,r,o=t.target,i=t.type;if(Array.from(o.classList).includes("_ideogramLabel"))n=o.id,r=o.id.split("ideogramLabel_")[1],ko.select("#"+r+" path").dispatch(i);else{var a=o.parentElement;n="ideogramLabel_"+a.id,r=a.id}"mouseout"===i&&(e.time.prevTooltipOff=performance.now(),e.time.prevTooltipAnnotDomId=r),"mouseover"===i?(clearTimeout(window._ideoActiveTimeout),Cc("_ideoActive",n,r)):window._ideoActiveTimeout=window.setTimeout((function(){Cc("",n,r)}),250)}function kc(t,e){var n,r=!1;return e.annots.forEach((function(e){r||e.annots.forEach((function(e){r||e.name===t&&(n=e,r=!0)}))})),n}function Lc(t,e){var n,r,o,i,a,s,c,l,u,f=e.config;return null===(n=document.querySelector("#"+t.domId))?null:(r=n.getBoundingClientRect(),o=document.querySelector("#_ideogram").getBoundingClientRect(),i=qo(t.name,e).width,i+=f.fontFamily?9:7,a=f.annotLabelSize?f.annotLabelSize:13,c=(s=r.top-o.top+a-1)+a,u=(l=r.left-o.left-i)+i,name=t.name,{top:s,bottom:c,right:u,left:l,width:i,height:a,name})}function Tc(t,e,n){var r,o=this,i=Lc(r=kc(t,o),o);null!==i&&function(t,e,n){n.didSetLabelStyle||(document.querySelector("#_ideogramInnerWrap").insertAdjacentHTML("afterbegin","\n  <style>\n    #_ideogram .annot path, ._ideogramLabel {\n      cursor: pointer;\n    }\n\n    #_ideogram .annot path {\n      stroke-width: 1px;\n      stroke: white;\n      stroke-linejoin: bevel;\n    }\n\n    #_ideogram ._ideogramLabel._ideoActive {\n      fill: #77F !important;\n      stroke: #F0F0FF !important;\n    }\n\n    #_ideogram .annot > ._ideoActive {\n      stroke: #D0D0DD !important;\n      stroke-width: 1.5px;\n    }\n\n    #_ideogram ._ideogramLabel {\n      stroke: white;\n      stroke-width: 5px;\n      stroke-linejoin: round;\n      paint-order: stroke fill;\n      text-align: center;\n    }\n  </style>\n  "),n.didSetLabelStyle=!0);var r=_c(t),o=Wo(n),i="pink"===t.color?"#CF406B":t.color;i=$o(i),ko.select("#_ideogram").append("text").attr("id",r).attr("class","_ideogramLabel").attr("x",e.left).attr("y",e.top).style("font",o).style("fill",i).style("pointer-events",null).html(t.name)}(r,Object.assign(i,{backgroundColor:e,borderColor:n}),o)}function Ec(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=this;t=function(t){return JSON.parse(JSON.stringify(t))}(t),n.clearAnnotLabels();var r=[],o=[];0===t.length&&(t=n.flattenAnnots()),t.forEach((function(t,e){var i=Lc(t,n);null!==i?o.length>0&&o.some((function(t,e){var n,r,o,a,s,c,l=(r=i,o=(n=t).left-0,a=r.left-0,s=n.right+0,c=r.right+0,o<=a&&o<=c&&s<=c&&s>=a||o>=a&&o<=c&&s>=c&&s>=a||o<=a&&o<=c&&s>=c&&s>=a||o>=a&&o<=c&&s>=a&&s<=c),u=function(t,e){var n=t.top-0,r=e.top-0,o=t.bottom+0,i=e.bottom+0;return n<=r&&n<=i&&o<=i&&o>=r||n>=r&&n<=i&&o>=i&&o>=r}(t,i);return l&&u}))||(r.push(t),o.push(i)):console.debug(t.name+" has null layout")}));var i=n.config;"relatedGenesMode"in i&&["hints"].includes(i.relatedGenesMode)&&(e=20),(r=r.sort(n.annotSortFunction).slice(0,e)).reverse(),r.forEach((function(t){n.addAnnotLabel(t.name)})),ko.selectAll("._ideogramLabel, .annot").on("mouseover",(function(t){return Sc(t)})).on("mouseout",(function(t){return Sc(t,n)})).on("click",(function(t){return Sc(t)}))}function Oc(t){var e=_c(kc(t,this));document.querySelector("#"+e).remove()}function Pc(){document.querySelectorAll("._ideogramLabel").forEach((function(t){t.remove()}))}function jc(t){var e,n,r=!1,o=(new Date).getTime(),i=this;return e=i.chromosomes[i.config.taxid],function(t){"histogramScaling"in t.config==0&&(t.config.histogramScaling="absolute")}(i),void 0===i.maxAnnotsPerBar&&(i.maxAnnotsPerBar={},r=!0),n=function(t,e){var n,r,o,i,a,s,c,l,u=e.config.barWidth,f=[];for(s=0;s<e.chromosomesArray.length;s++){for(o=(r=t[n=e.chromosomesArray[s].name]).bands[r.bands.length-1],i=Math.round(o.px.stop/u),a={chr:n,annots:[]},c=0;c<i;c++)l=c*u-e.bump,a.annots.push({bp:e.convertPxToBp(r,l+e.bump),px:l,count:0,chrIndex:r.chrIndex,chrName:n,color:e.config.annotationsColor,annots:[]});f.push(a)}return f}(e,i),n=function(t,e,n,r){var o,i,a,s,c,l,u,f,h,d,p=r.config.barWidth;for(s=0;s<t.length;s++)for(o=t[s].annots,a=e[(i=n[t[s].chr]).chrIndex].annots,c=0;c<o.length;c++)for(u=(l=o[c]).px-r.bump,f=0;f<a.length;f++)if(d=(h=a[f].px)+p,f===a.length-1&&(d+=p),u>=h&&u<d){e[i.chrIndex].annots[f].count+=1,e[i.chrIndex].annots[f].annots.push(l);break}return e}(t,n,e,i),function(t,e,n){var r,o,i,a,s,c,l;if(e||"relative"===n.config.histogramScaling){for(r=0,o=0;o<t.length;o++){for(i=0,a=t[o].annots,s=t[o].chr,c=0;c<a.length;c++)(l=a[c].count)>i&&(i=l),l>r&&(r=l);n.maxAnnotsPerBar[s]=i}n.maxAnnotsPerBarAllChrs=r}}(n,r,i),n=function(t,e){var n,r,o,i,a,s,c,l=e._layout._isRotated;for(n=0;n<t.length;n++)for(r=t[n].annots,o=t[n].chr,i=0;i<r.length;i++)a=r[i].count,s="relative"===e.config.histogramScaling?a/e.maxAnnotsPerBar[o]:a/e.maxAnnotsPerBarAllChrs,c=!1===l?s*e.config.chrMargin:s*e.config.chrHeightOriginal*3,isNaN(c)&&(c=0),t[n].annots[i].height=c;return t}(n,i),function(t,e){var n=(new Date).getTime();e.config.debug&&console.log("Time spent in getHistogramBars: "+(n-t)+" ms")}(o,i),i.bars=n,n}function Mc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ic="#_ideogramLegend {font: 12px Arial; overflow: auto; cursor: default;} #_ideogramLegend svg {float: left;} #_ideogramLegend ul {position: relative; left: -14px; list-style: none; float: left; padding-left: 10px; margin: 0 0 1em 0; width: auto; border: none;} #_ideogramLegend li {float: none; margin: 0;}#_ideogramLegend ul span {position: relative; left: -15px;} ";function Nc(t,e){var n,r='fill="'+t.color+'" style="stroke: #AAA;"',o=t.shape;if("shape"in t&&["circle","triangle"].includes(o)){if("circle"===o)n='<path d="m2,9a 4.5,4.5 0 1,0 9,0a 4.5,4.5 0 1,0 -9,0" '+r+"></path>";else if("triangle"===o){var i="";"vertical"===e.config.orientation&&(i=' transform="rotate(90, 7, 7)"'),"down"===e.config.orientation&&(i=' transform="rotate(180, 7, 7)"'),n='<path d="m7,3 l -5 9 l 9 0 z"'+i+" "+r+"></path>"}}else n='<rect height="10" width="10" y="3" '+r+"/>";return n}function Dc(t,e,n,r,o){var i,a,s,c=Fc(o);for(i=0;i<n.rows.length;i++)t+='<li class="_ideoLegendEntry">'+(s=n.rows[i]).name+"</li>",a=c*(i-1)+r+1,"name"in n&&(a+=c),e+='<g transform="translate(0, '+a+')">'+Nc(s,o)+"</g>";return[t,e]}function Fc(t){return 2*Po(qo("A",t).height)+.5}function Bc(t){var e,n,r,o,i,a,s,c,l=t.config,u=Fc(t);for(ko.select(l.container+" #_ideogramLegend").remove(),n=l.legend,a="",e=0;e<n.length;e++){var f=u;(i=n[e]).nameHeight&&(f=i.nameHeight);var h="";f&&(h='style="height: '.concat(f,"px; ")+"position: relative; "+"left: -".concat(f-5,'px;"')),"name"in i&&(o='<li class="_ideoLegendName" '.concat(h,">")+i.name+"</li>");var d=(s=Dc(o,r='<svg id="_ideogramLegendSvg" width="'+u+'">',i,f,t),c=2,function(t){if(Array.isArray(t))return t}(s)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(s,c)||function(t,e){if(t){if("string"==typeof t)return Mc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mc(t,e):void 0}}(s,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());o=d[0],r=d[1],a+=(r+="</svg>")+"<ul>"+o+"</ul>"}var p="font-family: ".concat(l.fontFamily,";"),m="line-height: ".concat(Fc(t),"px;");Ic+="#_ideogramLegend {".concat(p," ").concat(m,"}");var g=ko.select(l.container+" #_ideogramOuterWrap");g.append("style").html(Ic),g.append("div").attr("id","_ideogramLegend").html(a)}function Rc(t,e){var n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],s=this,c=s.chromosomes[s.config.taxid];if(0!==t.length){if("annots"in t[0]||"values"in t[0])return s.drawProcessedAnnots(t,e);for(r in c)a.push({chr:r,annots:[]});a=function(t,e){var n,r,o,i;for(n=0;n<t.length;n++)for(o=t[n],r=0;r<e.length;r++)if(o.chr===e[r].chr){i=[o.name,o.start,o.stop-o.start],"color"in o&&i.push(o.color),"shape"in o&&i.push(o.shape),e[r].annots.push(i);break}return e}(t,a),n=function(t){var e=["name","start","length"];return"color"in t[0]&&e.push("color"),"shape"in t[0]&&e.push("shape"),e}(t),s.rawAnnots={keys:n,annots:a};var l=s.processAnnotData(s.rawAnnots);i?s.annotsOther=l:s.annots=l,s.drawProcessedAnnots(l,e,o)}else s.annots=[]}function Gc(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;r.onBeforeDrawAnnotsCallback&&r.onBeforeDrawAnnotsCallback(),n||ko.selectAll(r.selector+" .annot").remove(),void 0===e&&(e="tracks"),r.config.annotationsLayout&&(e=r.config.annotationsLayout),"legend"in r.config&&Bc(r),/heatmap/.test(e)?r.drawHeatmaps(t):(function(t,e,n){var r;!function(t,e){var n,r;if(!/heatmap/.test(t)&&"histogram"!==t){for(r=0,n=0;n<e.length;n++)r+=e[n].annots.length;r>2e3&&console.warn('Rendering more than 2000 annotations in Ideogram?\nTry setting "annotationsLayout" to "heatmap" or "histogram" in your Ideogram configuration object for better layout and performance.')}}(t,e),"histogram"===t&&(e=n.getHistogramBars(e)),r=function(t,e){return ko.selectAll(e.selector+" .chromosome").data(t).selectAll("path.annot").data((function(t){return t.annots})).enter()}(n.fillAnnots(e),n),"tracks"===t?function(t,e){var n,r=e.config.annotationHeight;n=function(t){var e;return{triangle:"m0,0 l -"+t+" "+2*t+" l "+2*t+" 0 z",circle:"m -"+(e=t)+", "+e+"a "+e+","+e+" 0 1,0 "+2*e+",0a "+e+","+e+" 0 1,0 -"+2*e+",0",rectangle:"m0,0 l 0 "+2*t+"l "+t+" 0l 0 -"+2*t+"z"}}(r),t.append("g").attr("id",(function(t){return t.domId})).attr("class","annot").attr("transform",(function(t){var n=e.config.chrWidth+t.trackIndex*r*2;return"translate("+t.px+","+n+")"})).append("path").attr("d",(function(t){return function(t,e){return t.shape&&"triangle"!==t.shape?"circle"===t.shape?e.circle:"rectangle"===t.shape?e.rectangle:t.shape:e.triangle}(t,n)})).attr("fill",(function(t){return t.color})).on("mouseover",(function(t,n){e.showAnnotTooltip(n,this)})).on("mouseout",(function(){e.startHideAnnotTooltipTimeout()})).on("click",(function(t,n){e.onClickAnnot(n)}))}(r,n):"overlay"===t?function(t,e){t.append("polygon").attr("id",(function(t){return t.id})).attr("class","annot").attr("points",(function(t){var n,r,o=e.config.chrWidth;return t.stopPx-t.startPx>1?(n=t.startPx,r=t.stopPx):(n=t.px-.5,r=t.px+.5),n+","+o+" "+r+","+o+" "+r+",0 "+n+",0"})).attr("fill",(function(t){return t.color})).on("mouseover",(function(t,n){e.showAnnotTooltip(n,this)})).on("mouseout",(function(){e.startHideAnnotTooltipTimeout()}))}(r,n):"histogram"===t&&function(t,e){var n,r,o={},i=e.config.chrWidth;for(r in n=e.chromosomes[e.config.taxid])o[r]=n[r];t.append("polygon").attr("class","annot").attr("points",(function(t){return function(t,e,n,r){var o,i,a,s;o=t.px+r.bump,i=t.px+r.config.barWidth+r.bump,a=e,s=e+t.height;var c=n[t.chr];return i>c&&(i=c),o+","+a+" "+i+","+a+" "+i+","+s+" "+o+","+s}(t,i,o,e)})).attr("fill",(function(t){return t.color}))}(r,n)}(e,t,r),r.onDrawAnnotsCallback&&r.onDrawAnnotsCallback())}function Hc(t,e,n){return t.append("g").attr("class","syntenicRegion").attr("id",e).on("click",(function(){var t=this,e=ko.selectAll(n.selector+" .syntenicRegion").filter((function(){return this!==t}));e.classed("hidden",!e.classed("hidden"))})).on("mouseover",(function(){var t=this;ko.selectAll(n.selector+" .syntenicRegion").filter((function(){return this!==t})).classed("ghost",!0)})).on("mouseout",(function(){ko.selectAll(n.selector+" .syntenicRegion").classed("ghost",!1)}))}function Wc(t,e,n,r,o,i){var a,s;a="color"in i?i.color:"#CFC",s="opacity"in i?i.opacity:1,t.append("polygon").attr("points",e+", "+r.startPx+" "+e+", "+r.stopPx+" "+n+", "+o.stopPx+" "+n+", "+o.startPx).style("fill",a).style("fill-opacity",s)}function qc(t,e,n,r,o,i){var a,s;a="color"in i?i.color:"#CFC",s="opacity"in i?i.opacity:1,t.append("polygon").attr("points",r.startPx-15+", "+e+" "+(r.stopPx-15)+", "+e+" "+(o.stopPx-15)+", "+n+" "+(o.startPx-15)+", "+n).style("fill",a).style("fill-opacity",s)}function zc(t,e){var n,r,o,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n=t.r1,r=t.r2,"string"==typeof n.chr){var s=e.config.taxids;e.config.multiorganism?(n.chr=e.chromosomes[s[0]][n.chr],r.chr=e.chromosomes[s[1]][r.chr]):(n.chr=e.chromosomes[s[0]][n.chr],r.chr=e.chromosomes[s[0]][r.chr])}var c=document.querySelector("#"+n.chr.id+"-chromosome-set"),l=c.getCTM().e,u=c.getCTM().f,f=document.querySelector("#"+r.chr.id+"-chromosome-set"),h=f.getCTM().e,d=f.getCTM().f;return null===a?"vertical"===e.config.orientation?(o=u-12,i=d-12):(o=l,i=h):(o=a,i=a),n.startPx=e.convertBpToPx(n.chr,n.start)+o,n.stopPx=e.convertBpToPx(n.chr,n.stop)+o,r.startPx=e.convertBpToPx(r.chr,r.start)+i,r.stopPx=e.convertBpToPx(r.chr,r.stop)+i,[n,r]}function Uc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $c(t,e,n,r,o){t.append("line").attr("class","syntenyBorder").attr("x1",e).attr("x2",n).attr("y1",r.startPx).attr("y2",o.startPx),t.append("line").attr("class","syntenyBorder").attr("x1",e).attr("x2",n).attr("y1",r.stopPx).attr("y2",o.stopPx)}function Yc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vc(t,e,n,r,o){t.append("line").attr("class","syntenyBorder").attr("x1",r.startPx-15).attr("x2",o.startPx-15).attr("y1",e).attr("y2",n),t.append("line").attr("class","syntenyBorder").attr("x1",r.stopPx-15).attr("x2",o.stopPx-15).attr("y1",e).attr("y2",n)}function Xc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kc(t,e,n,r,o,i){var a,s;Math.abs(r.startPx-r.startPx)<2&&Math.abs(r.stopPx-r.stopPx)<2?(a=i.color,s=i.width):(a="",s=""),t.append("line").attr("class","syntenyBorder").attr("x1",e).attr("x2",n).attr("y1",r.startPx).attr("y2",o.startPx).style("stroke",a).style("stroke-width",s),t.append("line").attr("class","syntenyBorder").attr("x1",e).attr("x2",n).attr("y1",r.stopPx).attr("y2",o.stopPx).style("stroke",a).style("stroke-width",a)}function Qc(t,e,n,r,o,i){var a=i.split("__").map((function(t){return"label_"+t}));if("name"in r){t.append("text").attr("id",a[0]).attr("y",r.startPx+3).text(r.name);var s=document.querySelector("#"+a[0]).getBoundingClientRect().width;ko.select("#"+a[0]).attr("x",e-15-s)}"name"in o&&t.append("text").attr("id",a[1]).text(o.name).attr("x",n+15).attr("y",o.startPx+3).text(o.name)}function Jc(t){var e=(new Date).getTime(),n=this,r=n.config;if(n.syntenicRegions=t,r.multiorganism&&"collinear"===r.geometry)return"vertical"===r.orientation?function(t,e){var n=(new Date).getTime();(function(t,e,n){var r,o,i,a,s,c,l,u,f,h;for(r=0;r<t.length;r++){var d=(h=2,function(t){if(Array.isArray(t))return t}(f=zc(o=t[r],n))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(f,h)||function(t,e){if(t){if("string"==typeof t)return Uc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uc(t,e):void 0}}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i=d[0],a=d[1],Wc(s=Hc(e,i.chr.id+"_"+i.start+"_"+i.stop+"___"+a.chr.id+"_"+a.start+"_"+a.stop,n),l=(c=n.config.chrWidth)+51,u=c+245,i,a,o),$c(s,l,u,i,a)}})(t,ko.select(e.selector).insert("g",":first-child").attr("class","synteny"),e),function(t,e){var n=(new Date).getTime();e.config.debug&&console.log("Time in drawSyntenicRegions: "+(n-t)+" ms")}(n,e)}(t,n):function(t,e){var n=(new Date).getTime();(function(t,e,n){var r,o,i,a,s,c,l,u,f,h;for(r=0;r<t.length;r++){var d=(h=2,function(t){if(Array.isArray(t))return t}(f=zc(o=t[r],n))||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(f,h)||function(t,e){if(t){if("string"==typeof t)return Yc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yc(t,e):void 0}}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i=d[0],a=d[1],qc(s=Hc(e,i.chr.id+"_"+i.start+"_"+i.stop+"___"+a.chr.id+"_"+a.start+"_"+a.stop,n),l=(c=n.config.chrWidth)+31,u=c+191,i,a,o),Vc(s,l,u,i,a)}})(t,ko.select(e.selector).insert("g",":first-child").attr("class","synteny"),e),function(t,e){var n=(new Date).getTime();e.config.debug&&console.log("Time in drawSyntenicRegions: "+(n-t)+" ms")}(n,e)}(t,n);(function(t,e,n,r){var o,i,a,s,c,l,u,f,h,d,p;for(o=0;o<t.length;o++){var m=(d=zc(i=t[o],r,n),p=2,function(t){if(Array.isArray(t))return t}(d)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(d,p)||function(t,e){if(t){if("string"==typeof t)return Xc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xc(t,e):void 0}}(d,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());a=m[0],s=m[1],l=Hc(e,c=a.chr.id+"_"+a.start+"_"+a.stop+"___"+s.chr.id+"_"+s.start+"_"+s.stop,r),u=r.config.chrWidth,Wc(l,f=r._layout.getChromosomeSetYTranslate(0),h=r._layout.getChromosomeSetYTranslate(1)-u,a,s,i),Kc(l,f,h,a,s,i),Qc(l,f,h,a,s,c)}})(t,ko.select(n.selector).insert("g",":first-child").attr("class","synteny"),n._layout.margin.left,n),function(t,e){var n=(new Date).getTime();e.config.debug&&console.log("Time in drawSyntenicRegions: "+(n-t)+" ms")}(e,n)}function Zc(){var t=this;t.config.numAnnotTracks=t.config.annotationsNumTracks,ko.selectAll(t.selector+" .annot").remove(),t.drawAnnots(t.processAnnotData(t.rawAnnots))}function tl(t){var e,n,r,o=this,i=o.rawAnnots.annots;return o.config.numAnnotTracks=t.length,e=function(t,e){var n,r,o,i,a,s,c;for(r=[],i=0;i<t.length;i++){for(o=t[i],a=[],s=0;s<o.annots.length;s++)c=(n=o.annots[s].slice())[3]+1,e.includes(c)&&(n[3]=e.indexOf(c),a.push(n));r.push({chr:o.chr,annots:a})}return r}(i,t),r={keys:o.rawAnnots.keys,annots:e},"collinear"===o.config.geometry&&oi(o),n=o.processAnnotData(r),ko.selectAll(o.selector+" .annot").remove(),o.displayedTrackIndexes=t,o.drawAnnots(n),n}function el(t){var e,n,r=this;return(e=t.keys).length<4||"trackIndex"!==e[3]||"trackIndexOriginal"===e[4]||(n=function(t,e){var n,r,o,i,a,s,c,l=[];for(c=1,n=0;n<t.length;n++){for(o=t[n],a=[],r=0;r<o.annots.length;r++)(s=(i=o.annots[r].slice())[3])+1>c&&(c=s+1),i.splice(4,0,s),a.push(i);l.push({chr:o.chr,annots:a})}return e.numAvailTracks=c,l}(t.annots,r),e.splice(4,0,"trackIndexOriginal"),t={keys:e,annots:n},r.rawAnnots.metadata&&(t.metadata=r.rawAnnots.metadata)),t}function nl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ol=[["F00"],["F00","88F"],["F00","CCC","88F"],["F00","FA0","0AF","88F"],["F00","FA0","CCC","0AF","88F"],["F00","FA0","875","578","0AF","88F"],["F00","FA0","875","CCC","578","0AF","88F"],["F00","FA0","7A0","875","0A7","578","0AF","88F"],["F00","FA0","7A0","875","CCC","0A7","578","0AF","88F"],["F00","FA0","7A0","875","552","255","0A7","578","0AF","88F"]];function il(t,e,n,r,o,i,a){if(a.config.annotationTracks)o=function(t,e,n,r,o){var i;return e.trackIndex=n[3],(i=o.config.annotationTracks[e.trackIndex]).color&&(e.color=i.color),i.shape&&(e.shape=i.shape),t[r].annots.push(e),t}(o,t,n,i,a);else if("trackIndex"===e[3]&&1!==a.numAvailTracks){var s=function(t,e,n,r,o,i){var a=ol[i.numAvailTracks-1];return t.trackIndex=e[3],t.trackIndexOriginal=e[4],t.color="#"+a[t.trackIndexOriginal],t.trackIndex>i.config.numTracks-1?(t.trackIndex in n?n[t.trackIndex].push(t):n[t.trackIndex]=[t],[r,n]):(r[o].annots.push(t),[r,n])}(t,n,r,o,i,a),c=nl(s,2);o=c[0],r=c[1]}else o=function(t,e,n,r){return e.trackIndex=0,e.color||(e.color=r.config.annotationsColor),e.shape||(e.shape="triangle"),t[n].annots.push(e),t}(o,t,i,a);return[o,r]}function al(t,e){return"_c"+t+"_a"+e}function sl(t,e,n,r,o,i,a){var s,c,l,u,f=!a.config.annotationsLayout||"tracks"===a.config.annotationsLayout;for(s=0;s<n.annots.length;s++){for(u=n.annots[s],l={},c=0;c<i.length;c++)l[i[c]]=u[c];l.stop=l.start+l.length,l.chr=n.chr,l.chrIndex=o,l.startPx=a.convertBpToPx(r,l.start),l.stopPx=a.convertBpToPx(r,l.stop),l.px=Math.round((l.startPx+l.stopPx)/2),f&&(l.domId=al(o,s));var h=nl(il(l,i,u,e,t,o,a),2);t=h[0],e=h[1]}if(f)for(a.annotSortFunction?(t[o].annots=Cl(t[o].annots,a),t[o].annots.sort((function(t,e){return-a.annotSortFunction(t,e)}))):t[o].annots.sort((function(t,e){return t[1]-e[1]})),s=0;s<t[o].annots.length;s++)t[o].annots[s].domId=al(o,s);return[t,e]}function cl(t){console.warn('Chromosome "'+t.chr+'" undefined in ideogram; '+t.annots.length+" annotations not shown")}function ll(t){var e,n,r,o=this;e=t.keys;var i=function(t,e,n){var r,o,i,a,s=[],c={};for(r=-1,o=0;o<t.length;o++)if(i=t[o],void 0!==(a=n.chromosomes[n.config.taxid][i.chr]))if(r++,s.push({chr:i.chr,annots:[]}),"heatmap-2d"!==n.config.annotationsLayout){var l=nl(sl(s,c,i,a,r,e,n),2);s=l[0],c=l[1]}else{var u=nl(ic(s,c,i,a,r,e,n),2);s=u[0],c=u[1]}else cl(i);return[s,c]}(t=t.annots,e,o),a=nl(i,2);return n=a[0],r=a[1],n=function(t,e){var n,r,o,i,a,s;for(n=t,t=[],s=e.chromosomesArray,r=0;r<s.length;r++)for(a=s[r].name,o=0;o<n.length;o++)(i=n[o]).chr===a&&t.push(i);return t}(n,o),function(t,e){var n,r=e.config.annotationsLayout,o=e.config.numAnnotTracks;!/heatmap/.test(r)&&o>10&&console.error("Ideogram only displays up to 10 tracks at a time.  You specified "+o+" tracks.  Perhaps consider a different way to visualize your data."),(n=Object.keys(t).length)&&console.warn("Ideogram configuration specified "+o+" tracks, but loaded annotations contain "+n+" extra tracks.")}(r,o),n}function ul(t){return ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(t)}function fl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return hl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pl(r.key),r)}}function pl(t){var e=function(t){if("object"!=ul(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ul(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ul(e)?e:e+""}var ml=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.matrix=e,this.ideo=n},e=[{key:"setRawAnnots",value:function(){var t,e,n;return t=this,e=this.ideo,n=this.matrix,new Promise((function(r){t.rawAnnots=t.fetchCoordinates(e).then((function(o){t.coordinates=o,r(t.parseExpressionMatrix(n,e))}))}))}},{key:"fetchCoordinates",value:function(t){var e={};if("human"===t.config.organism){var n=t.config.dataDir+"../../annotations/Homo_sapiens,_Ensembl_80.tsv";return new Promise((function(r){t.fetch(n,"text").then((function(t){var n,o,i,a,s,c,l;for(n=t.split(/\r\n|\n/).slice(1),o=0;o<n.length;o++){var u=fl(n[o].split(/\s/g),5);i=u[0],a=u[1],s=u[2],c=u[4],i=parseInt(i),l=(a=parseInt(a))-i,e[s]=[c,i,l]}r(e)}))}))}throw Error("Expression matrix parsing is only supported for human")}},{key:"parseAnnotFromTsvLine",value:function(t,e){var n,r,o,i,a,s=t.split(/\s/g);if((i=s[0])in this.coordinates==0)return[null,null];a=s.slice(1).map((function(t){return parseFloat(t)}));var c=fl(this.coordinates[i],3);return r=c[0],o=c[1],length=c[2],-1===(n=e.indexOf(r))?[null,null]:[n,[i,o,length].concat(a)]}},{key:"parseExpressionMatrix",value:function(t,e){var n,r,o,i,a,s,c=[],l=t.split(/\r\n|\n/);for(r=Object.keys(e.chromosomes[e.config.taxid]),n=0;n<r.length;n++)c.push({chr:r[n],annots:[]});for(n=1;n<l.length;n++){i=l[n];var u=fl(this.parseAnnotFromTsvLine(i,r),2);a=u[0],s=u[1],null!==a&&c[a].annots.push(s)}return o=l[0].split(/\s/g),{keys:["name","start","length"].concat(o),annots:c}}}],e&&dl(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function gl(){var t=this,e={};t.annots.forEach((function(n){n.annots.forEach((function(n){var r=t.annotDescriptions.annots[n.name];e[n.name]=[n.name,r.ensemblId,n.chr,n.start,n.stop,n.length,r.type]}))}));var n=[["# Gene name","Ensembl ID","Chromosome","Start","Stop","Length","Type"]].concat(Object.values(e)),r=t.annotDescriptions.headers+"\n#\n"+n.map((function(t){return t.join("\t")})).join("\n"),o="data:text/plain;charset=utf-8,"+encodeURIComponent(r),i=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),a=document.createElement("a");a.setAttribute("download","ideogram.tsv"),a.setAttribute("href",o),a.setAttribute("target","_blank"),a.setAttribute("id","_ideo-undisplayed-dl-annots-link"),a.setAttribute("style","display: none;"),document.body.appendChild(a),a.dispatchEvent(i)}function yl(t){return function(t){if(Array.isArray(t))return vl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return vl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vl(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bl(){var t=this,e=t.config;!function(t){var e,n=t.config;n.annotationHeight||("heatmap"===n.annotationsLayout?e=n.chrWidth-1:(e=Math.round(n.chrHeight/100))<3&&(e=3),t.config.annotationHeight=e)}(t),e.annotationsPath||e.localAnnotationsPath||t.annots||e.annotations?function(t,e){e.annotationTracks?t.config.numAnnotTracks=e.annotationTracks.length:e.annotationsNumTracks?t.config.numAnnotTracks=e.annotationsNumTracks:t.config.numAnnotTracks=1,t.config.annotTracksHeight=e.annotationHeight*e.numAnnotTracks,void 0===e.barWidth&&(t.config.barWidth=3)}(t,e):(t.config.annotTracksHeight=0,t.config.numAnnotTracks=0),void 0===e.annotationsColor&&(t.config.annotationsColor="#F00"),e.onClickAnnot&&(t.onClickAnnotCallback=e.onClickAnnot),function(t,e){!1!==e.showAnnotTooltip&&(t.config.showAnnotTooltip=!0),e.onWillShowAnnotTooltip&&(t.onWillShowAnnotTooltipCallback=e.onWillShowAnnotTooltip),e.onDidShowAnnotTooltip&&(t.onDidShowAnnotTooltipCallback=e.onDidShowAnnotTooltip)}(t,e),function(t,e){!1!==e.addAnnotLabel&&(t.config.addAnnotLabel=!0),e.onWillAddAnnotLabel&&(t.onWillAddAnnotLabelCallback=e.onWillAddAnnotLabel)}(t,e)}function wl(){var t=this,e=t.config;t.rawAnnots.annots=t.rawAnnots.annots.sort(Ideogram.sortChromosomes),t.onLoadAnnotsCallback&&t.onLoadAnnotsCallback(),("heatmapThresholds"in e||"metadata"in t.rawAnnots&&"heatmapThresholds"in t.rawAnnots.metadata)&&("heatmap"===e.annotationsLayout?function(t){var e,n,r,o,i,a,s=t.config.heatmapThresholds;for(r=[],n=(i=t.rawAnnots).keys.slice(3),o=[],a=[],!i.metadata&&isNaN(s[0])||(s=Zs(t)),e=0;e<n.length;e++)r.push({key:n[e],thresholds:s}),o.push({id:n[e]}),a.push(e+1);t.config.annotationsNumTracks=n.length,t.config.annotationsDisplayedTracks=a,t.config.heatmaps=r,t.config.annotationTracks=o}(t):"heatmap-2d"===e.annotationsLayout&&(t.config.heatmapThresholds=Zs(t))),e.heatmaps&&t.deserializeAnnotsForHeatmap(t.rawAnnots),function(t){var e={},n=[],r=t.rawAnnots.annots.map((function(t){return t.chr}));if(r.forEach((function(t){t in e&&n.push(t),e[t]=1})),n.length>0){var o="Duplicate chromosomes detected.\n"+"Chromosome list: ".concat(r,".  Duplicates: ").concat(n,".\n")+"To fix this, edit your raw annotations JSON data to remove redundant chromosomes.";throw Error(o)}}(t)}function xl(){return this.annots.reduce((function(t,e){return[].concat(yl(t),yl(e.annots))}),[])}function Al(t){var e,n=this,r=n.config;e="heatmap-2d"===r.annotationsLayout;var o=function(t){var e,n;return n=(e=t.split("?")[0].split("."))[e.length-1],!1===["bed","json","tsv"].includes(n)?(n=n.toUpperCase(),void alert("Ideogram.js only supports BED and Ideogram JSON and TSV at the moment.  Sorry, check back soon for "+n+" support!")):n}(t);"http"===t.slice(0,4)||e||"tsv"===o?(o=e?"":o,n.fetch(t,"text").then((function(t){n.rawAnnotsResponse=t,e?new ml(t,n).setRawAnnots().then((function(t){n.rawAnnots=t,n.afterRawAnnots()})):(n.rawAnnots="tsv"===o?new Xs(t,n).rawAnnots:"bed"===o?new qs(t,n).rawAnnots:JSON.parse(t),n.afterRawAnnots())}))):n.fetch(t).then((function(t){n.rawAnnotsResponse=t,n.rawAnnots=t,n.afterRawAnnots()}))}function _l(t){var e,n,r,o,i,a,s;for(e=[],n=[],r=this.chromosomesArray,o=0;o<r.length;o++)i=r[o].name,n.push(i),e.push({chr:i,annots:[]});for(o=0;o<t.length;o++)a=t[o],-1!==(s=n.indexOf(a.chr))&&(e[s]=a);return e}function Cl(t,e){if(0===t.length)return t;if("initRank"in t[0]==0){if("geneCache"in e==0)return t;var n=e.geneCache.interestingNames;return t.map((function(t){return n.includes(t.name)?t.rank=n.indexOf(t.name)+1:t.rank=1e10,t}))}return t.map((function(t){return t.rank=t.initRank,t}))}function Sl(t,e){return e&&(t=Cl(t,e)),t.sort((function(t,e){return t.rank-e.rank}))}function kl(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"red",n=this,r=n.config.taxid,o=t.map((function(t){var o=n.chromosomes[r][t].id,i="".concat(n.selector," #").concat(o,"-chromosome-set"),a=document.querySelector(i),s=a.getBoundingClientRect(),c='style="\n      stroke-width: 1px;\n      stroke: '.concat(e,";\n      fill: ").concat(e,";\n      fill-opacity: 0.05;\n      position: absolute;\n      rx: 4;\n      ry: 4;\n      height: ").concat(s.width+15,"px;\n      width: ").concat(s.height+15,'px"'),l=a.transform.baseVal[1].matrix.f-7.5,u='transform="rotate(90) translate(10, '.concat(l,')"'),f='id="ideo-highlight-'.concat(o,'"');return'<rect class="ideo-highlight" '.concat(f," ").concat(c," ").concat(u,"/>")})).join();document.querySelector(n.selector).insertAdjacentHTML("afterBegin",o)}function Ll(t){var e=this,n="".concat(e.selector," .ideo-highlight");if(void 0!==t){var r=e.config.taxid;n=t.map((function(t){var n=e.chromosomes[r][t].id;return"".concat(e.selector," #ideo-highlight-").concat(n)}))}document.querySelectorAll(n).forEach((function(t){t.remove()}))}var Tl="&api_key=7e33ac6a08a6955ec3b83d214d22b21a2808",El="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/",Ol=El+"esearch.fcgi?retmode=json"+Tl,Pl=El+"esummary.fcgi?retmode=json"+Tl,jl=El+"elink.fcgi?retmode=json"+Tl;function Ml(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Il(t,e){var n,r;return n=e.esearch+"&db=taxonomy&term="+t,ko.json(n).then((function(e){if(0===e.esearchresult.idlist.length)throw'Organism "'+t+"\" is generally unknown; it was not found in the NCBI Taxonomy database.  If you did not intend to specify a novel or custom taxon, then try using the organism's scientific name, e.g. Homo sapiens or Arabidopsis thaliana.";return r=e.esearchresult.idlist[0],[t,r]}))}function Nl(t,e){var n,r,o=this;t=o.config.organism,r=o.esummary+"&db=taxonomy&id="+t,ko.json(r).then((function(r){return n=r.result[String(t)].commonname,o.config.organism=n,e(n)}))}function Dl(t,e,n){var r,o,i,a,s,c=n.config;(function(t,e){var n,r,o;if(e.assemblyIsAccession())return new Promise((function(n){e.coordinateSystem="bp",e.getAssemblyAndChromosomesFromEutils(t,n)}));n=e.config.dataDir,r=Ro(e.organisms[t].scientificName),o=[t],["9606","10090","10116"].includes(t)&&!e.config.showFullyBanded&&(r+="-no-bands");var i=n+r+".json",a=new Promise((function(t,e){return Eo(i).then((function(e){return e.json().then((function(e){t(e)}))})).catch((function(t){e(t)}))}));return a.then((function(n){var r,i,a,s,c=n.chrBands,l=[""],u=[],f={};e.bandData[n.taxid]=c;for(var h=0;h<c.length;h++)r=(a=c[h].split(" "))[0],s=a.slice(-1)[0],r in f||(u.push({name:r,type:"nuclear",length:s}),f[r]=1);return u=u.sort(Ideogram.sortChromosomes),i={bp:0,iscn:0},u.forEach((function(t){t.length>i.bp&&(i.bp=t.length)})),e.maxLength[t]=i,l.push(u),l.push(o),l}),(function(){return new Promise((function(n){e.coordinateSystem="bp",e.getAssemblyAndChromosomesFromEutils(t,n)}))}))})(t,n).then((function(l){r=l[0],o=l[1],"chromosomes"in c==0||null===c.chromosomes?(n.config.chromosomes={},n.config.chromosomes[t]=o):(c.multiorganism?t in c.chromosomes?i=c.chromosomes[t]:(a=Ro(n.getScientificName(t)),n.config.chromosomes[t]=c.chromosomes[a].slice(),i=n.config.chromosomes[t]):i=c.chromosomes,s=o.filter((function(t){return i.includes(t.name)})),n.config.chromosomes[t]=s),n.chromosomes[t]=n.config.chromosomes[t].slice(),n.organisms[t].assemblies={default:r},e()}))}function Fl(t,e){var n,r;for(n in e.organisms)if(r=e.organisms[n],n===Ro(t)||Ro(r.commonName)===Ro(t)||Ro(r.scientificName)===Ro(t))return!0;return!1}function Bl(t,e){(function(t){var e,n,r,o,i,a=t.config;return e=[],n={},function(t,e){var n,r,o,i=[],a={};for(o=0;o<t.length;o++)r=!1===Fl(n=t[o],e)?Il(n,e).then((function(t){var n,r,o=t[1];r=(n=t[0].replace("-"," "))[0].toUpperCase()+n.slice(1),a[o]={scientificName:r,commonName:"",assemblies:{default:""}},Object.assign(e.organisms,a)}),(function(t){console.warn(t);var r={scientificName:n,commonName:n,assemblies:{default:""}};e.organisms[-1]=r,a[-1]=r})):new Promise((function(t){var r=e.getTaxid(n);a[r]=e.organisms[r],t()})),i.push(r);return Promise.all(i).then((function(){return a}))}(a.multiorganism?a.organism:[a.organism],t).then((function(t){var s=t[o];for(o in t)s=t[o],e.push(o),a.multiorganism&&(void 0!==a.chromosomes?(i=Object.keys(a.chromosomes).map((function(t){return Ro(t)})),i.includes(Ro(s.scientificName))?r=s.scientificName:i.includes(Ro(s.commonName))&&(r=s.commonName),Ro(r)in a.chromosomes?n[o]=a.chromosomes[Ro(r)]:n[o]=a.chromosomes[r.toLowerCase()]):n=null);return[n,e]}))})(e).then((function(n){var r,o,i,a,s,c,l,u=(l=2,function(t){if(Array.isArray(t))return t}(c=n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(c,l)||function(t,e){if(t){if("string"==typeof t)return Ml(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ml(t,e):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=u[0],h=u[1],d=e.config,p=[];for(r=0;r<h.length;r++)o=h[r],a=e.organisms[o].assemblies,s=Object.values(a),""===a.default||e.assemblyIsAccession()&&!s.includes(d.assembly)?i=new Promise((function(t){Dl(o,t,e)})):(e.config.taxids=h,e.config.multiorganism&&(e.config.chromosomes=f),i=new Promise((function(t){t()}))),p.push(i);Promise.all(p).then((function(){return h=function(t){var e,n,r;if(e=t.config.organism,n=[],Array.isArray(e))for(r=0;r<e.length;r++)n.push(t.getTaxid(e[r]));else n.push(t.getTaxid(e));return n}(e),e.config.taxids=h,t(h)}))}))}function Rl(t){var e,n=this;if(e="taxid"in n.config,n.config.multiorganism=function(t,e){return"organism"in e.config&&e.config.organism instanceof Array||t&&e.config.taxid instanceof Array}(e,n),n.config.multiorganism&&(n.coordinateSystem="bp"),"organism"in n.config){var r=n.config.organism;"string"==typeof r&&(n.config.organism=Ro(r.toLowerCase())),Bl(t,n)}else!function(t,e,n){var r;n.config.multiorganism?t&&(r=n.config.taxid):(t&&(r=[n.config.taxid]),n.config.taxids=r),e(r)}(e,t,n)}function Gl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Hl(t,e){var n,r,o,i,a=function(t,e){var n=t.genome;return"mitochondrion"===n?function(t,e){var n,r;return e.config.showNonNuclearChromosomes?(n=t.genome,[-1===(r=t.subtype.split("|").indexOf("plasmid"))?"MT":t.subname.split("|")[r],n]):[null,null]}(t,e):"chloroplast"===n||"plastid"===n?function(t){return t.config.showNonNuclearChromosomes?["CP","chloroplast"]:[null,null]}(e):"apicoplast"===n?function(t){return t.config.showNonNuclearChromosomes?["AP","apicoplast"]:[null,null]}(e):function(t){var e,n;return e=t.subtype.split("|").indexOf("chromosome"),void 0!==(n=t.subname.split("|")[e])&&"chr"===n.substr(0,3)&&(n=n.substr(3)),[n,"nuclear"]}(t)}(t,e),s=(i=2,function(t){if(Array.isArray(t))return t}(o=a)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(o,i)||function(t,e){if(t){if("string"==typeof t)return Gl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gl(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return n=s[0],r=s[1],{name:n,length:t.slen,type:r}}function Wl(t,e){var n,r=this,o=function(t,e){var n;return n=e.assemblyIsAccession()?e.config.assembly+"%22[Assembly%20Accession]":t+"%22[taxid]AND%20(%22latest%20refseq%22[filter])%20",e.esearch+"&db=assembly&term=%22"+n+"AND%20(%22chromosome%20level%22[filter]%20OR%20%22complete%20genome%22[filter])"}(t,r);ko.json(o).then((function(t){return function(t,e){var n,r;return n=t.esearchresult.idlist[0],r=e.esummary+"&db=assembly&id="+n,ko.json(r)}(t,r)})).then((function(t){var e=t.result.uids[0];return n=t.result[e],function(t,e){var n;return n="&db=nuccore&dbfrom=assembly&linkname=assembly_nuccore&cmd=neighbor_history&from_uid="+t,ko.json(e.elink+n).then((function(t){var r=t.linksets[0].webenv;return n="&db=nuccore&term=%231+AND+%28sequence_from_chromosome[Properties]+OR+sequence_from_plastid[Properties]+OR+sequence_from_mitochondrion[Properties]%29&WebEnv="+r+"&usehistory=y&retmax=1000",e.esearch+n}))}(e,r)})).then((function(t){return ko.json(t)})).then((function(t){return function(t,e){var n,r;return n=t.esearchresult.idlist.join(","),r=e.esummary+"&db=nucleotide&id="+n,ko.json(r)}(t,r)})).then((function(o){var i=function(t,e,n){var r,o,i,a,s={},c=[];for(r in t)"uids"!==r&&(i=(o=Hl(t[r],n)).name+"_"+o.length,null!==o.type&&i in s==0&&c.push(o),s[i]=1);return c=c.sort(Ideogram.sortChromosomes),a={bp:0,iscn:0},c.forEach((function(t){t.length>a.bp&&(a.bp=t.length)})),a.bp>n.maxLength.bp&&(n.maxLength.bp=a.bp),n.maxLength[e]=a,n.coordinateSystem="bp",c}(o.result,t,r);return e([n,i])}),(function(t){console.warn(t)}))}function ql(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return zl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ul(){var t=this,e=t.bandsToShow.join(",");0!==t.bandsToShow.length&&(ko.selectAll(t.selector+" .bandLabel, .bandLabelStalk").style("display","none"),ko.selectAll(e).style("display",""))}function $l(t,e,n,r,o){return e!==n&&(t=r[o.id][n]+36),t}function Yl(t,e,n,r,o,i,a){var s,c;return n<r+(a?e:o)?(e=o,s=i,c=a):t.push(i),[t,e,s,c]}function Vl(t,e){var n,r,o,i,a=[],s=t[e.id].length,c=0;for(n=0;n<s;n++){var l=ql(Yl(a,c,o=t[e.id][n],5,i,n,!0),4);if(a=l[0],c=l[1],r=l[2],!l[3]){var u=ql(Yl(a,c,o,5,i=$l(i,r,n,t,e),n,!1),4);a=u[0],c=u[1],r=u[2],u[3]}}return a}function Xl(t,e){var n,r,o,i,a,s,c,l=this;for(l.bandsToShow=[],r=0;r<t.length;r++){for(s=[],c=(i=Vl(e,a=t[r])).length,o=0;o<c;o++)n=i[o],s.push("#"+a.id+" .bsbsl-"+n);l.bandsToShow=l.bandsToShow.concat(s)}}function Kl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ql(t,e,n,r){var o=this,i=o._layout,a=n.chrIndex;return t.selectAll("text").data(e).enter().append("g").attr("class",(function(t,e){return"bandLabel bsbsl-"+e})).attr("transform",(function(t){var e=i.getChromosomeBandLabelTranslate(t,a);return"horizontal"===o.config.orientation?r[n.id].push(e.x+13):r[n.id].push(e.y+6),e.translate})).append("text").attr("text-anchor",i.getChromosomeBandLabelAnchor(a)).text((function(t){return t.name})),r}function Jl(t,e,n,r){var o=this;t.selectAll("line.bandLabelStalk").data(e).enter().append("g").attr("class",(function(t,e){return"bandLabelStalk bsbsl-"+e})).attr("transform",(function(t){var e;return e=o.round(t.px.start+t.px.width/2),r[n.id].push(e+13),"translate("+e+",-10)"})).append("line").attr("x1",0).attr("y1",o._layout.getChromosomeBandTickY1(n.chrIndex)).attr("x2",0).attr("y2",o._layout.getChromosomeBandTickY2(n.chrIndex))}function Zl(t){var e,n,r,o,i,a=this,s={};for(o=function(t){var e,n,r=[];for(e in t)for(n in t[e])r.push(t[e][n]);return r}(t),e=0;e<o.length;e++)r=o[e],n=ko.select(a.selector+" #"+r.id),s[r.id]=[],i=r.bands.filter((function(t){return"pter"!==t.name})),s=a.drawBandLabelText(n,i,r,s),a.drawBandLabelStalk(n,i,r,s);a.setBandsToShow(o,s)}function tu(t,e){return[e[t][0],e[t][1],e[t][2],e[t][3]]}function eu(){var t="";return t=function(t){var e,n,r,o,i,a,s,c="";for(e=0;e<t.length;e++){var l=(a=tu(e,t),s=4,function(t){if(Array.isArray(t))return t}(a)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(a,s)||function(t,e){if(t){if("string"==typeof t)return Kl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kl(t,e):void 0}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());n=l[0],r=l[1],o=l[2],i=l[3],c+='<linearGradient id="'+n+'" x1="0%" y1="0%" x2="0%" y2="100%">',c+="gneg"===n?'<stop offset="70%" stop-color="'+o+'" /><stop offset="95%" stop-color="'+i+'" /><stop offset="100%" stop-color="'+r+'" />':'<stop offset="5%" stop-color="'+r+'" /><stop offset="15%" stop-color="'+o+'" /><stop offset="60%" stop-color="'+i+'" />',c+="</linearGradient>"}return c}(Yo),"<style>".concat(ei,"</style>")+"<defs>"+(t+='<pattern id="stalk" width="2" height="1" patternUnits="userSpaceOnUse" patternTransform="rotate(30 0 0)"><rect x="0" y="0" width="10" height="2" fill="#CCE" /> <line x1="0" y1="0" x2="0" y2="100%" style="stroke:#88B; stroke-width:0.7;" /></pattern><pattern id="gvar" width="2" height="1" patternUnits="userSpaceOnUse" patternTransform="rotate(-30 0 0)"><rect x="0" y="0" width="10" height="2" fill="#DDF" /> <line x1="0" y1="0" x2="0" y2="100%" style="stroke:#99C; stroke-width:0.7;" /></pattern>')+"</defs>"}function nu(t){return nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(t)}function ru(t,e,n){var r,o,i;return(r=e[0])in t==0&&(t[r]=[]),o=function(t){var e=t[7];return t[8]&&(e+=t[8]),e}(e),i=function(t,e,n,r){return{chr:t,bp:{start:parseInt(e[5],10),stop:parseInt(e[6],10)},iscn:{start:parseInt(e[3],10),stop:parseInt(e[4],10)},px:{start:-1,stop:-1,width:-1},name:e[1]+e[2],stain:n,taxid:r}}(r,e,o,n),t[r].push(i),t}function ou(t,e,n,r){var o,i,a,s=r.config.multiorganism;return null!=t&&(i=(o=Array.isArray(t))&&-1===t.indexOf(e),a="object"===nu(t),!(!o||a||!i)||(n in t!=0||!s)&&(s?"string"==typeof t[n][0]?!1===t[n].includes(e):0===t[n].filter((function(t){return t.name===e})).length:0===t.filter((function(t){return t===e})).length))}function iu(t,e,n,r){var o,i,a=[];return o=e[t],a.push(o),i={iscn:o[o.length-1].iscn.stop,bp:o[o.length-1].bp.stop},n in r.maxLength==0&&(r.maxLength[n]={bp:0,iscn:0}),i.iscn>r.maxLength[n].iscn&&(r.maxLength[n].iscn=i.iscn,i.iscn>r.maxLength.iscn&&(r.maxLength.iscn=i.iscn)),i.bp>r.maxLength[n].bp&&(r.maxLength[n].bp=i.bp,i.bp>r.maxLength.bp&&(r.maxLength.bp=i.bp)),a}function au(t,e,n,r){var o,i;if(t in r.bandData||t in _o&&!1===r.assemblyIsAccession())n=function(t,e,n,r){var o,i,a;o=function(t,e,n){var r,o,i,a,s,c,l={};c=n.bandData[t],Array.isArray(c)&&(s="native"),e=function(t){var e,n;if(t instanceof Array&&"object"===nu(t[0])){for(e=[],n=0;n<t.length;n++)e.push(t[n].name);t=e}return t}(e);var u=function(t,e){var n,r,o;return"undefined"==typeof chrBands&&"native"!==t?(n=/\t/,r=e.split(/\r\n|\n/),o=1):(n=/ /,r=e,o=0),[n,r,o]}(s,c);for(r=u[0],o=u[1],a=u[2];a<o.length;a++)ou(e,(i=o[a].split(r))[0],t,n)||(l=ru(l,i,t));return l}(t,e,r),e=Object.keys(o).sort(Ideogram.sortChromosomes),"chromosomes"in r.config!=0&&null!==r.config.chromosomes||(r.config.chromosomes={}),e.length>0&&(r.config.chromosomes[t]=e.slice()),r.numChromosomes+=r.config.chromosomes[t].length;for(i=0;i<e.length;i++)a=iu(e[i],o,t,r),n=n.concat(a);return n}(t,e,n,r);else for(r.numChromosomes+=e.length,i=0;i<e.length;i++)(o=e[i]).length>r.maxLength.bp&&(r.maxLength.bp=o.length);return n}function su(t){var e,n,r=this,o=r.config,i=(new Date).getTime();return e=[],"chromosomes"in o&&(n=o.multiorganism?o.chromosomes:t in o.chromosomes?o.chromosomes[t].slice():o.chromosomes.slice()),e=au(t,n,e,r),function(t,e){var n=(new Date).getTime();e.config.debug&&console.log("Time in processBandData: "+(n-t)+" ms")}(i,r),[t,e]}function cu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return lu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lu(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function uu(){call(this.onBrushMoveCallback)}function fu(){call(this.onBrushEndCallback)}function hu(t,e,n){var r,o,i,a,s=this,c=s.config.chrWidth+6.5,l=s._layout.margin.left,u=function(t,e,n){var r,o;return r=t.split(":"),o=t.split("-"),r.length>1&&o.length>1&&(t=r[0].replace("chr",""),o=r[1].split("-"),e=parseInt(o[0]),n=parseInt(o[1]-1)),[t,e,n]}(t,e,n),f=cu(u,3);t=f[0],e=f[1],n=f[2],r=function(t,e){var n,r;for(n=0;n<e.chromosomesArray.length;n++)if((r=e.chromosomesArray[n]).name===t)return r}(t,s);var h=function(t,e){var n,r,o=[1],i=[1],a=t.bands.slice(-1)[0];for(r=0;r<t.bands.length;r++)n=t.bands[r],o.push(n.bp.start),i.push(n.px.start+e);return o.push(a.bp.stop-1),i.push(a.px.stop+e),[o,i]}(r,l),d=cu(h,2);i=d[0],a=d[1],o=r.bands.slice(-1)[0].bp.stop,void 0===e&&(e=Math.floor(o/10)),void 0===n&&(n=Math.ceil(2*e)),function(t,e,n,r,o){var i,a=o.config.chrHeight;i=ko.scaleLinear().domain(t).range(e),o.brush=ko.brushX().extent([[n,0],[a+n,r]]).on("brush",(function(t){var e=t.selection.map(i.invert),n=Math.floor(e[0]),r=Math.ceil(e[1]);o.selectedRegion={from:n,to:r,extent:r-n},o.onBrushMoveCallback&&o.onBrushMoveCallback()})).on("end",(function(t){t.selection,o.onBrushEndCallback&&o.onBrushEndCallback()}))}(i,a,l,c,s),function(t,e,n){var r=e-t+1;n.selectedRegion={from:t,to:e,extent:r}}(e,n,s),function(t,e,n,r,o,i){var a,s,c;a=i.convertBpToPx(t,e)+r,s=i.convertBpToPx(t,n)+r,c=i._layout.getChromosomeSetYTranslate(0)+(i.config.chrWidth-o)/2,ko.select(i.selector).append("g").attr("class","brush").attr("transform","translate(0, "+c+")").call(i.brush).call(i.brush.move,[a,s])}(r,e,n,l,c,s)}function du(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pu(){call(this.onCursorMoveCallback)}function mu(t){var e,n=this,r=n.config.chrWidth+6.5,o=n._layout.margin.left;if(void 0===t)return!1;e=function(t,e){var n,r;for(n=0;n<e.chromosomesArray.length;n++)if((r=e.chromosomesArray[n]).name===t)return r}(n.config.chromosome,n);var i,a,s=function(t,e){var n,r,o=[1],i=[1],a=t.bands.slice(-1)[0];for(r=0;r<t.bands.length;r++)n=t.bands[r],o.push(n.bp.start),i.push(n.px.start+e);return o.push(a.bp.stop-1),i.push(a.px.stop+e),[o,i]}(e,o),c=(a=2,function(t){if(Array.isArray(t))return t}(i=s)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(i,a)||function(t,e){if(t){if("string"==typeof t)return du(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?du(t,e):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());!function(t,e,n,r,o,i){var a;a=ko.scaleLinear().domain(e).range(n),"rotatable"in i.config&&!1===i.config.rotatable||console.warn("Using the cursor with rotate is not supported.");var s=i._layout.getChromosomeSetYTranslate(0)+(i.config.chrWidth-o)/2,c=ko.select(i.selector).append("g").attr("class","brush").attr("transform","translate(0, "+s+")").append("rect").attr("class","cursor").attr("x",a(t)).attr("y",0).attr("width",1).attr("height",30);i.onCursorMove&&i.onCursorMoveCallback(t),i.setCursorPosition||(i.setCursorPosition=function(t){c.attr("x",a(t)),i.onCursorMove&&i.onCursorMoveCallback(t)}),ko.selectAll(i.selector+" .chromosome").on("click",(function(t){var e=t.offsetX;e-=6,c.attr("x",e);var n=Math.floor(a.invert(e));i.onCursorMove&&i.onCursorMoveCallback(n)}))}(t,c[0],c[1],0,r,n)}function gu(t,e){var n,r,o,i,a,s,c,l,u,f;for(n=this.bandsArray,r=this.config.taxid,o=this.config.chromosomes[r],a=(i="male"===this.config.sex?[1,0]:[0,0]).length,f=0;f<a;f++)s=o[u=i[f]+e],c=n[r][u],l=this.getChromosomeModel(c,s,r,u),this.appendHomolog(l,e,f,t)}function yu(t){var e,n,r=this,o={X:1,Y:1};if(2===this.config.ploidy&&this.config.sex)for(r.sexChromosomes.list=[],n=0;n<t.length;n++)e=t[n],"male"===r.config.sex&&e in o?(r.sexChromosomes.list.push(e),r.sexChromosomes.index||(r.sexChromosomes.index=n)):"X"===e&&(r.sexChromosomes.list.push(e,e),r.sexChromosomes.index=n)}function vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bu(t,e){var n,r,o,i;if(t.bands.length>1||"MT"===t.name){var a=function(t,e){var n,r,o,i,a,s,c,l,u;for(n=0;n<t.bands.length;n++)if(a=(r=t.bands[n]).bp.start,c=(s=r.bp.stop)-a,o=r.iscn.start,i=r.iscn.stop-o,l=r.px.start,u=r.px.width,e>=a&&e<=s)return[l+u*(o+i/c*(e-a)-o)/i,r];return[null,r]}(t,e),s=(i=2,function(t){if(Array.isArray(t))return t}(o=a)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(o,i)||function(t,e){if(t){if("string"==typeof t)return vu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vu(t,e):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());if(r=s[0],n=s[1],null!==r)return r}else if(e>=1&&e<=t.length)return t.scale.bp*e;!function(t,e,n){throw new Error("Base pair out of range.  bp: "+t+"; length of chr"+e.name+": "+n.bp.stop)}(e,t,n)}function wu(t,e,n,r,o,i,a){var s,c,l,u;return a=t-e,s=r-o,c=i.bp.stop-i.bp.start,l=e+a/s*(n-o),u=i.bp.start+c*(l-e)/a,Math.round(u)}function xu(t,e){var n,r,o,i,a,s;for(0===e&&(e=t.bands[0].px.start),n=0;n<t.bands.length;n++)if(o=(r=t.bands[n]).px.start,i=r.px.stop,a=r.iscn.start,s=r.iscn.stop,e>=o&&e<=i)return wu(s,a,e,i,o,r,void 0);!function(t,e,n){throw new Error("Pixel out of range.  px: "+t+"; length of chr"+e.name+": "+n)}(e,t,i)}let Au=Lu,_u=Lu,Cu=Lu,Su=Tu,ku=Eu;function Lu(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function Tu(t,e){for(var n=t.length;n<e;)t[n++]=0;return t}function Eu(t,e){if(e>32)throw new Error("invalid array width!");return t}function Ou(t){this.length=t,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=Au(t)}"undefined"!=typeof Uint8Array&&(Au=function(t){return new Uint8Array(t)},_u=function(t){return new Uint16Array(t)},Cu=function(t){return new Uint32Array(t)},Su=function(t,e){if(t.length>=e)return t;var n=new t.constructor(e);return n.set(t),n},ku=function(t,e){var n;switch(e){case 16:n=_u(t.length);break;case 32:n=Cu(t.length);break;default:throw new Error("invalid array width!")}return n.set(t),n}),Ou.prototype.lengthen=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)this[e]=Su(this[e],t);this.length=t},Ou.prototype.add=function(){var t,e,n,r,o;for(r=0,o=this.subarrays;r<o;++r)if(n=(~(t=this.masks[r])&t+1)>>>0,!((e=this.width-32*r)>=32)||n)return e<32&&n&1<<e&&(this[r]=ku(this[r],e<<=1),this.width=32*r+e),this.masks[r]|=n,{offset:r,one:n};return this[this.subarrays]=Au(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},Ou.prototype.copy=function(t,e){var n,r;for(n=0,r=this.subarrays;n<r;++n)this[n][t]=this[n][e]},Ou.prototype.truncate=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)for(var r=this.length-1;r>=t;r--)this[e][r]=0;this.length=t},Ou.prototype.zero=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)if(this[e][t])return!1;return!0},Ou.prototype.zeroExcept=function(t,e,n){var r,o;for(r=0,o=this.subarrays;r<o;++r)if(r===e?this[r][t]&n:this[r][t])return!1;return!0},Ou.prototype.zeroExceptMask=function(t,e){var n,r;for(n=0,r=this.subarrays;n<r;++n)if(this[n][t]&e[n])return!1;return!0},Ou.prototype.only=function(t,e,n){var r,o;for(r=0,o=this.subarrays;r<o;++r)if(this[r][t]!=(r===e?n:0))return!1;return!0},Ou.prototype.onlyExcept=function(t,e,n,r,o){var i,a,s;for(a=0,s=this.subarrays;a<s;++a)if(i=this[a][t],a===e&&(i&=n),i!=(a===r?o:0))return!1;return!0};const Pu={array8:Lu,array16:Lu,array32:Lu,arrayLengthen:Tu,arrayWiden:Eu,bitarray:Ou},ju=t=>[0,t.length],Mu=t=>t,Iu=()=>null,Nu=()=>0;function Du(t){function e(t,e,r){for(var o=r-e,i=1+(o>>>1);--i>0;)n(t,i,o,e);return t}function n(e,n,r,o){for(var i,a=e[--o+n],s=t(a);(i=n<<1)<=r&&(i<r&&t(e[o+i])>t(e[o+i+1])&&i++,!(s<=t(e[o+i])));)e[o+n]=e[o+i],n=i;e[o+n]=a}return e.sort=function(t,e,r){for(var o,i=r-e;--i>0;)o=t[e],t[e]=t[e+i],t[e+i]=o,n(t,1,i,e);return t},e}const Fu=Du(Mu);Fu.by=Du;const Bu=Fu;function Ru(t){var e=Bu.by(t);return function(n,r,o,i){var a,s,c,l=new Array(i=Math.min(o-r,i));for(s=0;s<i;++s)l[s]=n[r++];if(e(l,0,i),r<o){a=t(l[0]);do{t(c=n[r])>a&&(l[0]=c,a=t(e(l,0,i)[0]))}while(++r<o)}return l}}const Gu=Ru(Mu);Gu.by=Ru;const Hu=Gu;function Wu(t){function e(e,n,r,o){for(;r<o;){var i=r+o>>>1;n<t(e[i])?o=i:r=i+1}return r}return e.right=e,e.left=function(e,n,r,o){for(;r<o;){var i=r+o>>>1;t(e[i])<n?r=i+1:o=i}return r},e}const qu=Wu(Mu);qu.by=Wu;const zu=qu,Uu=(t,e,n)=>{for(var r=0,o=e.length,i=n?JSON.parse(JSON.stringify(t)):new Array(o);r<o;++r)i[r]=t[e[r]];return i},$u=t=>t+1,Yu=t=>t-1,Vu=t=>function(e,n){return e+ +t(n)},Xu=t=>function(e,n){return e-t(n)},Ku=(t,e)=>{const n=t[e];return"function"==typeof n?n.call(t):n},Qu=/\[([\w\d]+)\]/g;var Ju=-1;tf.heap=Bu,tf.heapselect=Hu,tf.bisect=zu,tf.permute=Uu;const Zu=tf;function tf(){var t,e={add:c,remove:function(e){for(var i=new Array(r),s=[],c="function"==typeof e,l=function(r){return c?e(n[r],r):t.zero(r)},f=0,h=0;f<r;++f)l(f)?(s.push(f),i[f]=Ju):i[f]=h++;o.forEach((function(t){t(-1,-1,[],s,!0)})),a.forEach((function(t){t(i)}));for(var d=0,p=0;d<r;++d)i[d]!==Ju&&(d!==p&&(t.copy(p,d),n[p]=n[d]),++p);n.length=r=p,t.truncate(p),u("dataRemoved")},dimension:function(e,s){if("string"==typeof e){var c=e;e=function(t){return function(t,e,n,r,o){for(o in r=(n=n.split(".")).splice(-1,1),n)e=e[n[o]]=e[n[o]]||{};return t(e,r)}(Ku,t,c.replace(Qu,".$1"))}}var l,f,h,d,p,m,g,y,v,b,w,x,A,_,C={filter:function(t){return null==t?G():Array.isArray(t)?R(t):"function"==typeof t?H(t):B(t)},filterExact:B,filterRange:R,filterFunction:H,filterAll:G,currentFilter:function(){return x},hasCurrentFilter:function(){return A},top:function(e,r){var o,i=[],a=P,c=0;for(r&&r>0&&(c=r);--a>=O&&e>0;)t.zero(o=m[a])&&(c>0?--c:(i.push(n[o]),--e));if(s)for(a=0;a<S.length&&e>0;a++)t.zero(o=S[a])&&(c>0?--c:(i.push(n[o]),--e));return i},bottom:function(e,r){var o,i,a=[],c=0;if(r&&r>0&&(c=r),s)for(o=0;o<S.length&&e>0;o++)t.zero(i=S[o])&&(c>0?--c:(a.push(n[i]),--e));for(o=O;o<P&&e>0;)t.zero(i=m[o])&&(c>0?--c:(a.push(n[i]),--e)),o++;return a},group:q,groupAll:function(){var t=q(Iu),e=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return e()[0].value},t},dispose:z,remove:z,accessor:e,id:function(){return d}},S=[],k=function(t){return nf(t).sort((function(t,e){var n=g[t],r=g[e];return n<r?-1:n>r?1:t-e}))},L=ju,T=[],E=[],O=0,P=0,j=0;i.unshift(I),i.push(N),a.push(D);var M=t.add();function I(n,o,i){var a,c;if(s){j=0,W=0,_=[];for(var u=0;u<n.length;u++)for(W=0,_=e(n[u]);W<_.length;W++)j++;g=[],a=nf(n.length),c=ef(j,1);for(var f=nf(j),d=0,x=0;x<n.length;x++)if((_=e(n[x])).length)for(a[x]=_.length,W=0;W<_.length;W++)g.push(_[W]),f[d]=x,d++;else a[x]=0,S.push(x+o);var A=k(j);g=Uu(g,A),y=Uu(f,A)}else g=n.map(e),y=k(i),g=Uu(g,y);var C,T,E,M=L(g),I=M[0],N=M[1];if(s)if(i=j,w)for(C=0;C<i;++C)w(g[C],C)||(0==--a[y[C]]&&(t[h][y[C]+o]|=l),c[C]=1);else{for(T=0;T<I;++T)0==--a[y[T]]&&(t[h][y[T]+o]|=l),c[T]=1;for(E=N;E<i;++E)0==--a[y[E]]&&(t[h][y[E]+o]|=l),c[E]=1}else if(w)for(C=0;C<i;++C)w(g[C],C)||(t[h][y[C]+o]|=l);else{for(T=0;T<I;++T)t[h][y[T]+o]|=l;for(E=N;E<i;++E)t[h][y[E]+o]|=l}if(!o)return p=g,m=y,v=a,b=c,O=I,void(P=N);var D,F=p,B=m,R=b,G=0;if(u=0,s&&(D=o,o=F.length,i=j),p=new Array(s?o+i:r),m=s?new Array(o+i):ef(r,r),s&&(b=ef(o+i,1)),s){var H=v.length;v=Pu.arrayLengthen(v,r);for(var W=0;W+H<r;W++)v[W+H]=a[W]}for(var q=0;u<o&&G<i;++q)F[u]<g[G]?(p[q]=F[u],s&&(b[q]=R[u]),m[q]=B[u++]):(p[q]=g[G],s&&(b[q]=c[G]),m[q]=y[G++]+(s?D:o));for(;u<o;++u,++q)p[q]=F[u],s&&(b[q]=R[u]),m[q]=B[u];for(;G<i;++G,++q)p[q]=g[G],s&&(b[q]=c[G]),m[q]=y[G]+(s?D:o);M=L(p),O=M[0],P=M[1]}function N(t,e,n){T.forEach((function(t){t(g,y,e,n)})),g=y=null}function D(t){if(s){for(var e=0,n=0;e<S.length;e++)t[S[e]]!==Ju&&(S[n]=t[S[e]],n++);for(S.length=n,e=0,n=0;e<r;e++)t[e]!==Ju&&(n!==e&&(v[n]=v[e]),n++);v=v.slice(0,n)}for(var o,i=p.length,a=0,c=0;a<i;++a)t[o=m[a]]!==Ju&&(a!==c&&(p[c]=p[a]),m[c]=t[o],s&&(b[c]=b[a]),++c);for(p.length=c,s&&(b=b.slice(0,c));c<i;)m[c++]=0;var l=L(p);O=l[0],P=l[1]}function F(e){var n=e[0],r=e[1];if(w)return w=null,W((function(t,e){return n<=e&&e<r}),0===e[0]&&e[1]===p.length),O=n,P=r,C;var i,a,c,f=[],d=[],g=[],y=[];if(n<O)for(i=n,a=Math.min(O,r);i<a;++i)f.push(m[i]),g.push(i);else if(n>O)for(i=O,a=Math.min(n,P);i<a;++i)d.push(m[i]),y.push(i);if(r>P)for(i=Math.max(n,P),a=r;i<a;++i)f.push(m[i]),g.push(i);else if(r<P)for(i=Math.max(O,r),a=P;i<a;++i)d.push(m[i]),y.push(i);if(s){var x=[],A=[];for(i=0;i<f.length;i++)v[f[i]]++,b[g[i]]=0,1===v[f[i]]&&(t[h][f[i]]^=l,x.push(f[i]));for(i=0;i<d.length;i++)v[d[i]]--,b[y[i]]=1,0===v[d[i]]&&(t[h][d[i]]^=l,A.push(d[i]));if(f=x,d=A,L===ju)for(i=0;i<S.length;i++)t[h][c=S[i]]&l&&(t[h][c]^=l,f.push(c));else for(i=0;i<S.length;i++)t[h][c=S[i]]&l||(t[h][c]^=l,d.push(c))}else{for(i=0;i<f.length;i++)t[h][f[i]]^=l;for(i=0;i<d.length;i++)t[h][d[i]]^=l}return O=n,P=r,o.forEach((function(t){t(l,h,f,d)})),u("filtered"),C}function B(t){return x=t,A=!0,F((L=((t,e)=>function(n){var r=n.length;return[t.left(n,e,0,r),t.right(n,e,0,r)]})(zu,t))(p))}function R(t){return x=t,A=!0,F((L=((t,e)=>{var n=e[0],r=e[1];return function(e){var o=e.length;return[t.left(e,n,0,o),t.left(e,r,0,o)]}})(zu,t))(p))}function G(){return x=void 0,A=!1,F((L=ju)(p))}function H(t){x=t,A=!0,w=t,L=ju,W(t,!1);var e=L(p);return O=e[0],P=e[1],C}function W(e,n){var r,i,a,c=[],d=[],g=[],y=[],w=p.length;if(!s)for(r=0;r<w;++r)!(t[h][i=m[r]]&l)^!!(a=e(p[r],r))&&(a?c.push(i):d.push(i));if(s)for(r=0;r<w;++r)e(p[r],r)?(c.push(m[r]),g.push(r)):(d.push(m[r]),y.push(r));if(s){var x=[],A=[];for(r=0;r<c.length;r++)1===b[g[r]]&&(v[c[r]]++,b[g[r]]=0,1===v[c[r]]&&(t[h][c[r]]^=l,x.push(c[r])));for(r=0;r<d.length;r++)0===b[y[r]]&&(v[d[r]]--,b[y[r]]=1,0===v[d[r]]&&(t[h][d[r]]^=l,A.push(d[r])));if(c=x,d=A,n)for(r=0;r<S.length;r++)t[h][i=S[r]]&l&&(t[h][i]^=l,c.push(i));else for(r=0;r<S.length;r++)t[h][i=S[r]]&l||(t[h][i]^=l,d.push(i))}else{for(r=0;r<c.length;r++)t[h][c[r]]&l&&(t[h][c[r]]&=f);for(r=0;r<d.length;r++)t[h][d[r]]&l||(t[h][d[r]]|=l)}o.forEach((function(t){t(l,h,c,d)})),u("filtered")}function q(e){var i={top:function(t){var e=d(D(),0,c.length,t);return g.sort(e,0,e.length)},all:D,reduce:F,reduceCount:B,reduceSum:function(t){return F(Vu(t),Xu(t),Nu)},order:R,orderNatural:function(){return R(Mu)},size:function(){return _},dispose:G,remove:G};E.push(i);var c,u,d,g,y,v,b,w,x=8,A=rf(x),_=0,C=Iu,S=Iu,k=!0,L=e===Iu;function O(i,a,l,d){s&&(w=l,l=p.length-i.length,d=i.length);var m,g,T,E,O,P,D=c,F=s?[]:ef(_,A),B=y,R=v,G=b,H=_,W=0,q=0;for(k&&(B=G=Iu),k&&(R=G=Iu),c=new Array(_),_=0,u=s?H?u:[]:H>1?Pu.arrayLengthen(u,r):ef(r,A),H&&(T=(g=D[0]).key);q<d&&!((E=e(i[q]))>=E);)++q;for(;q<d;){for(g&&T<=E?(O=g,P=T,F[W]=_,(g=D[++W])&&(T=g.key)):(O={key:E,value:G()},P=E),c[_]=O;E<=P&&(m=a[q]+(s?w:l),s?u[m]?u[m].push(_):u[m]=[_]:u[m]=_,O.value=B(O.value,n[m],!0),t.zeroExcept(m,h,f)||(O.value=R(O.value,n[m],!1)),!(++q>=d));)E=e(i[q]);U()}for(;W<H;)c[F[W]=_]=D[W++],U();if(s)for(var z=0;z<r;z++)u[z]||(u[z]=[]);if(_>W)if(s)for(W=0;W<w;++W)for(z=0;z<u[W].length;z++)u[W][z]=F[u[W][z]];else for(W=0;W<l;++W)u[W]=F[u[W]];function U(){s?_++:++_===A&&(F=Pu.arrayWiden(F,x<<=1),u=Pu.arrayWiden(u,x),A=rf(x))}m=o.indexOf(C),_>1||s?(C=j,S=I):(!_&&L&&(_=1,c=[{key:null,value:G()}]),1===_?(C=M,S=N):(C=Iu,S=Iu),u=null),o[m]=C}function P(t){if(_>1||s){var e,n,i,a=_,l=c,f=ef(a,a);if(s){for(e=0,i=0;e<r;++e)if(t[e]!==Ju){for(u[i]=u[e],n=0;n<u[i].length;n++)f[u[i][n]]=1;++i}}else for(e=0,i=0;e<r;++e)t[e]!==Ju&&(f[u[i]=u[e]]=1,++i);for(c=[],_=0,e=0;e<a;++e)f[e]&&(f[e]=_++,c.push(l[e]));if(_>1||s)if(s)for(e=0;e<i;++e)for(n=0;n<u[e].length;++n)u[e][n]=f[u[e][n]];else for(e=0;e<i;++e)u[e]=f[u[e]];else u=null;o[o.indexOf(C)]=_>1||s?(S=I,C=j):1===_?(S=N,C=M):S=C=Iu}else if(1===_){if(L)return;for(var h=0;h<r;++h)if(t[h]!==Ju)return;c=[],_=0,o[o.indexOf(C)]=C=S=Iu}}function j(e,r,o,i,a){var d,p,m,g,b;if(!(e===l&&r===h||k))if(s){for(d=0,g=o.length;d<g;++d)if(t.zeroExcept(m=o[d],h,f))for(p=0;p<u[m].length;p++)(b=c[u[m][p]]).value=y(b.value,n[m],!1,p);for(d=0,g=i.length;d<g;++d)if(t.onlyExcept(m=i[d],h,f,r,e))for(p=0;p<u[m].length;p++)(b=c[u[m][p]]).value=v(b.value,n[m],a,p)}else{for(d=0,g=o.length;d<g;++d)t.zeroExcept(m=o[d],h,f)&&((b=c[u[m]]).value=y(b.value,n[m],!1));for(d=0,g=i.length;d<g;++d)t.onlyExcept(m=i[d],h,f,r,e)&&((b=c[u[m]]).value=v(b.value,n[m],a))}}function M(e,r,o,i,a){if(!(e===l&&r===h||k)){var s,u,d,p=c[0];for(s=0,d=o.length;s<d;++s)t.zeroExcept(u=o[s],h,f)&&(p.value=y(p.value,n[u],!1));for(s=0,d=i.length;s<d;++s)t.onlyExcept(u=i[s],h,f,r,e)&&(p.value=v(p.value,n[u],a))}}function I(){var e,o,i;for(e=0;e<_;++e)c[e].value=b();if(s){for(e=0;e<r;++e)for(o=0;o<u[e].length;o++)(i=c[u[e][o]]).value=y(i.value,n[e],!0,o);for(e=0;e<r;++e)if(!t.zeroExcept(e,h,f))for(o=0;o<u[e].length;o++)(i=c[u[e][o]]).value=v(i.value,n[e],!1,o)}else{for(e=0;e<r;++e)(i=c[u[e]]).value=y(i.value,n[e],!0);for(e=0;e<r;++e)t.zeroExcept(e,h,f)||((i=c[u[e]]).value=v(i.value,n[e],!1))}}function N(){var e,o=c[0];for(o.value=b(),e=0;e<r;++e)o.value=y(o.value,n[e],!0);for(e=0;e<r;++e)t.zeroExcept(e,h,f)||(o.value=v(o.value,n[e],!1))}function D(){return k&&(S(),k=!1),c}function F(t,e,n){return y=t,v=e,b=n,k=!0,i}function B(){return F($u,Yu,Nu)}function R(t){function e(e){return t(e.value)}return d=Hu.by(e),g=Bu.by(e),i}function G(){var t=o.indexOf(C);return t>=0&&o.splice(t,1),(t=T.indexOf(O))>=0&&T.splice(t,1),(t=a.indexOf(P))>=0&&a.splice(t,1),(t=E.indexOf(i))>=0&&E.splice(t,1),i}return arguments.length<1&&(e=Mu),o.push(C),T.push(O),a.push(P),O(p,m,0,r),B().orderNatural()}function z(){E.forEach((function(t){t.dispose()}));var e=i.indexOf(I);return e>=0&&i.splice(e,1),(e=i.indexOf(N))>=0&&i.splice(e,1),(e=a.indexOf(D))>=0&&a.splice(e,1),t.masks[h]&=f,G()}return h=M.offset,l=M.one,f=~l,d=h<<7|Math.log(l)/Math.log(2),I(n,0,r),N(0,0,r),C},groupAll:function(){var e,a,s,c,l={reduce:d,reduceCount:p,reduceSum:function(t){return d(Vu(t),Xu(t),Nu)},value:function(){return u&&(function(){var o;for(e=c(),o=0;o<r;++o)e=a(e,n[o],!0),t.zero(o)||(e=s(e,n[o],!1))}(),u=!1),e},dispose:m,remove:m},u=!0;function f(o,i){var c;if(!u)for(c=i;c<r;++c)e=a(e,n[c],!0),t.zero(c)||(e=s(e,n[c],!1))}function h(r,o,i,c,l){var f,h,d;if(!u){for(f=0,d=i.length;f<d;++f)t.zero(h=i[f])&&(e=a(e,n[h],l));for(f=0,d=c.length;f<d;++f)t.only(h=c[f],o,r)&&(e=s(e,n[h],l))}}function d(t,e,n){return a=t,s=e,c=n,u=!0,l}function p(){return d($u,Yu,Nu)}function m(){var t=o.indexOf(h);return t>=0&&o.splice(t,1),(t=i.indexOf(f))>=0&&i.splice(t,1),l}return o.push(h),i.push(f),f(0,0),p()},size:function(){return r},all:function(){return n},allFiltered:function(e){var o=[],i=0,a=l(e||[]);for(i=0;i<r;i++)t.zeroExceptMask(i,a)&&o.push(n[i]);return o},onChange:function(t){if("function"==typeof t)return s.push(t),function(){s.splice(s.indexOf(t),1)};console.warn("onChange callback parameter must be a function!")},isElementFiltered:function(e,n){var r=l(n||[]);return t.zeroExceptMask(e,r)}},n=[],r=0,o=[],i=[],a=[],s=[];function c(o){var a=r,s=o.length;return s&&(n=n.concat(o),t.lengthen(r+=s),i.forEach((function(t){t(o,a,s)})),u("dataAdded")),e}function l(e){var n,r,o,i,a=Array(t.subarrays);for(n=0;n<t.subarrays;n++)a[n]=-1;for(r=0,o=e.length;r<o;r++)a[(i=e[r].id())>>7]&=~(1<<(63&i));return a}function u(t){for(var e=0;e<s.length;e++)s[e](t)}return t=new Pu.bitarray(0),arguments.length?c(arguments[0]):e}function ef(t,e){return(e<257?Pu.array8:e<65537?Pu.array16:Pu.array32)(t)}function nf(t){for(var e=ef(t,t),n=-1;++n<t;)e[n]=n;return e}function rf(t){return 8===t?256:16===t?65536:4294967296}function of(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function af(){var t,e,n=[],r=this.annots;for(e=0;e<r.length;e++)t=r[e].annots,n=n.concat(t);return n}function sf(t){var e,n,r,o=[],i=this.annots;for(e in i)o.push({chr:i[e].chr,annots:[]});for(r=0;r<t.length;r++)o[(n=t[r]).chrIndex].annots.push(n);return o}function cf(){var t,e,n=this,r=n.rawAnnots.keys;for(n.unpackedAnnots=n.unpackAnnots(),n.crossfilter=Zu(n.unpackedAnnots),n.annotsByFacet={},n.facets=r.slice(3,r.length),t=0;t<n.facets.length;t++)e=n.facets[t],n.annotsByFacet[e]=n.crossfilter.dimension((function(t){return t[e]}));"filterSelections"in n&&n.filterAnnots(n.filterSelections),n.filteredAnnots=n.annots}function lf(t){var e,n,r,o=Date.now(),i=this;i.filterSelections=t;var a,s,c=function(t,e){var n,r,o,i,a,s={};if(0===Object.keys(t).length)i=e.unpackedAnnots;else{for(r=0;r<e.facets.length;r++)(o=e.facets[r])in t?(a=t[o],n=Array.isArray(a)?function(t){return 2===a.length?a[0]<=t&&t<a[1]:4===a.length?a[0]<=t&&t<a[1]||a[2]<=t&&t<a[3]:void 0}:function(t){return t in a}):n=null,e.annotsByFacet[o].filter(n),s[o]=e.annotsByFacet[o].group().top(1/0);i=e.annotsByFacet[o].top(1/0)}return[i,s]}(t,i),l=(s=2,function(t){if(Array.isArray(t))return t}(a=c)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(a,s)||function(t,e){if(t){if("string"==typeof t)return of(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?of(t,e):void 0}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());for(n=l[0],r=l[1];e<i.facets.length;e++)i.annotsByFacet[void 0].filterAll();return n=i.packAnnots(n),delete i.maxAnnotsPerBar,delete i.maxAnnotsPerBarAllChrs,i.filteredAnnots=n,ko.selectAll(i.selector+" polygon.annot").remove(),i.drawAnnots(n),console.log("Time in filterAnnots: "+(Date.now()-o)+" ms"),r}function uf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ff(t){var e,n,r,o,i,a,s,c=t.id.split("-")[1],l=this;if(e=t.bands,n=l.config.chrHeight,r=0,o=void 0!==e){var u=function(t,e,n,r){var o,i,a,s,c,l=0,u=e.id.split("-")[1],f=r.coordinateSystem,h=r.config.chrHeight;for(o=0;o<t.length;o++)a=(i=t[o])[f].stop-i[f].start,r._layout._isRotated?s=h*a/e.length:(c="relative"===r.config.chromosomeScale?r.maxLength[u][f]:r.maxLength[f],s=h*e.length/c*a/e.length),t[o].px={start:l,stop:l+s,width:s},l=t[o].px.stop,n&&"acen"===i.stain&&"p"===i.name[0]&&(e.pcenIndex=o);return[t,e,l]}(e,t,o,l),f=(s=3,function(t){if(Array.isArray(t))return t}(a=u)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(a,s)||function(t,e){if(t){if("string"==typeof t)return uf(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uf(t,e):void 0}}(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());e=f[0],t=f[1],r=f[2]}else i="relative"===l.config.chromosomeScale?l.maxLength[c][l.coordinateSystem]:l.maxLength[l.coordinateSystem],r=n*t.length/i;return t.width=r,t.scale=function(t,e,n){var r=n.config.chrHeight,o=t.length,i=n.maxLength,a=t.id.split("-")[1],s={};return s.bp=r/i.bp,!0===n.config.multiorganism?"relative"===n.config.chromosomeScale?(s.iscn=r*o/i[a].bp,s.bp=r/i[a].bp):s.iscn=r*o/i.bp:e&&(s.iscn=r/i.iscn),s}(t,o,l),t.bands=e,t}function hf(t,e,n,r){var o,i,a={},s=this;return o=void 0!==t,a=function(t,e,n,r){if(void 0!==e){var o=e.slice(-1)[0];t.name=n,t.length=o[r.coordinateSystem].stop,t.bpLength=o.bp.stop,t.type="nuclear"}else t=n;return t}(a,t,e,s),a.chrIndex=r,a.id="chr"+a.name+"-"+n,!0===s.config.fullChromosomeLabels&&(i=this.organisms[n],a.name=i.scientificName+" chr"+a.name),a.bands=t,(a=s.getChromosomePixels(a)).centromerePosition=function(t,e){if(!1===t)return"";var n=e[0],r=e.slice(-1)[0],o=(r.bp.stop-n.bp.start)/20;return"p"===n.name[0]&&"q"===e[1].name[0]&&n.bp.stop-n.bp.start<o?"telocentric-p":"p"===e.slice(-2)[0].name[0]&&"q"===r.name[0]&&r.bp.stop-r.bp.start<o?"telocentric-q":""}(o,t),a=function(t,e){return e&&1===t.bands.length&&delete t.bands,t}(a,o),a}function df(t){t.forEach((function(t){t.classList.remove("active")}))}function pf(){df(document.querySelectorAll("#tools > ul > li")),document.querySelectorAll(".ideo-modal, .ideo-tool-panel").forEach((function(t){t.remove()})),document.querySelector("#tools").style.display="none"}function mf(t){var e=document.querySelectorAll("#tools > ul > li");e.forEach((function(n){var r=function(t){return Array.from(t.classList).includes("ideo-tool-hover")?"mouseenter":"click"}(n);n.addEventListener(r,(function(o){df(e),n.classList+=" active";var i=n.id.split("-")[0],a=function(t){var e,n;return"download"===t&&(n=document.querySelectorAll(".annot").length,e='\n    <div id="download" class="ideo-tool-panel">\n      <li id="download-image">Image</li>\n      <li id="download-annots" class="'.concat(n>0?"":"ideo-disabled",'">Annotations</li>\n    </div>\n  ')),"about"===t&&(e='\n    <div id="about" class="ideo-modal">\n      '.concat('\n    <a href="https://github.com/eweitz/ideogram" target="_blank" rel="noopener">\n      Ideogram.js</a>',", version ").concat(c," ").concat('<span id="close">x</span>',"<br/>\n      <i>Chromosome visualization for the web</i>\n    </div>")),e.trim()}(i);"mouseenter"===r?(n.insertAdjacentHTML("beforeend",a),function(t,e,n,r){"mouseenter"===t&&n.addEventListener("mouseleave",(function(t){var n=t.toElement,o=n.id,i=document.querySelector(".ideo-tool-panel");document.querySelector("#tools").contains(n)&&i&&!i.contains(n)&&o!==e&&(df(r),i.remove())}))}(r,i,n,e),"download"===i&&(document.querySelector("#download-image").addEventListener("click",(function(e){pf(),function(t){var e=document.querySelector(t.selector),n="_ideo-undisplayed-dl-canvas";(r=document.createElement("canvas")).setAttribute("style","display: none"),r.setAttribute("id",n);var r,o=e.width.baseVal.value+30,i=e.cloneNode(!0);i.style.left="",r.setAttribute("width",o),document.body.appendChild(r),(r=document.getElementById(n)).width*=2,r.height*=2;var a=r.getContext("2d");a.setTransform(2,0,0,2,0,0),a.imageSmoothingEnabled=!1;var s=(new XMLSerializer).serializeToString(i),c=window.URL||window.webkitURL||window,l=new Image,u=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),f=c.createObjectURL(u);l.onload=function(){var t,e,n;a.drawImage(l,0,0),c.revokeObjectURL(f),t=r.toDataURL("image/png").replace("image/png","image/octet-stream"),e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),(n=document.createElement("a")).setAttribute("download","ideogram.png"),n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("id","_ideo-undisplayed-dl-image-link"),n.setAttribute("style","display: none;"),document.body.appendChild(n),n.dispatchEvent(e),r.remove()},l.src=f}(t)})),document.querySelector("#download-annots").addEventListener("click",(function(e){var n=document.querySelector("#download-annots");!1===Array.from(n.classList).includes("ideo-disabled")&&(pf(),t.downloadAnnotations())})))):document.querySelector("#gear").insertAdjacentHTML("beforeend",a)}))})),document.querySelectorAll("#close").forEach((function(t){t.addEventListener("click",(function(){pf()}))}))}function gf(t){var e="\n    ".concat('\n  <style>\n\n    #gear {\n      position: absolute;\n      right: 3px;\n      top: 24px;\n      z-index: 8001;\n      cursor: pointer;\n      height: 18px;\n      width: 18px;\n    }\n\n    #tools {\n      position: absolute;\n      width: 120px;\n      right: 27px;\n      top: 16px;\n      z-index: 8000;\n      background: white;\n      margin: 0;\n      border: 1px solid #CCC;\n      border-radius: 4px;\n      box-shadow: -2px 4px 6px #CCC;\n    }\n\n    #tools ul {\n      margin-block-start: 0;\n      margin-block-end: 0;\n      padding-inline-start: 0;\n    }\n\n    #tools li, #download li {\n      padding: 2px 12px 2px 12px;\n      cursor: pointer;\n    }\n\n    #tools li:hover,\n    #tools li.active,\n    #download li:hover {\n      background: #DDD;\n    }\n\n    #tools li.ideo-disabled,\n    #tools li.active.ideo-disabled,\n    #download li.ideo-disabled {\n      background: #FFF;\n      color: #CCC;\n      cursor: default;\n    }\n\n    #download {\n      position: absolute;\n      right: 3px;\n      top: 16px;\n      z-index: 8000;\n      background: white;\n      margin: 0;\n      padding-inline-start: 0;\n    }\n\n    #settings {\n      position: absolute;\n      right: 3px;\n      top: 16px;\n      z-index: 8000;\n      background: white;\n      margin: 0;\n      padding-inline-start: 0;\n    }\n\n    #about {\n      position: absolute;\n      right: 24px;\n      top: -8px;\n      z-index: 8000;\n      background: white;\n      width: 300px;\n      border: 1px solid #CCC;\n      padding: 10px;\n      border-radius: 4px;\n      box-shadow: -2px 4px 6px #CCC;\n      cursor: default;\n    }\n\n    #close {\n      float: right;\n      border: 1px solid #DDD;\n      border-radius: 4px;\n      padding: 0 6px;\n      background: #EEE;\n      font-weight: bold;\n      cursor: pointer;\n    }\n\n    #settings label {\n      display: inline;\n      text-decoration: underline;\n      text-decoration-style: dotted;\n      cursor: pointer;\n    }\n\n    #download {\n      position: absolute;\n      width: 120px;\n      top: -2px;\n      right: 120px;\n      z-index: 8000;\n      background: white;\n      margin: 0;\n      border: 1px solid #CCC;\n      border-radius: 4px;\n      box-shadow: -2px 4px 6px #CCC;\n    }\n\n    li {\n      list-style-type: none;\n    }\n\n    #settings .no-underline {\n      text-decoration: none;\n    }\n\n    #settings .setting {\n      margin-right: 8px;\n    }\n\n    #settings input[type="checkbox"], #settings input[type="radio"] {\n      position: relative;\n      top: 2px;\n    }\n\n    .area-header {\n      font-size: 16px;\n      font-weight: bold;\n      margin-bottom: 10px;\n      clear: both;\n    }\n\n    .area-content {\n      display: flex;\n      flex-wrap: wrap;\n    }\n\n    .area-content > div {\n      margin-right: 30px;\n      margin-bottom: 15px;\n    }\n\n    .tab-panel input[type="number"] {\n      width: 50px;\n    }\n\n    .tab-panel ul {\n      width: 600px;\n      list-style: none;\n      border-bottom: 1px solid #CCC;\n      box-sizing: border-box;\n      margin-bottom: 0;\n      padding-left: 0;\n    }\n\n    .tab-panel .nav:before, .tab-panel .nav:after {\n      content: " ";\n      display: table;\n      clear: both;\n    }\n\n    .tab-panel li {\n      float: left;\n      margin-right: 2px;\n      display: block;\n      margin-bottom: -1px;\n    }\n\n    .tab-panel li > a {\n      padding: 10px 15px;\n      text-decoration: none;\n      border-radius: 4px 4px 0 0;\n      display: block;\n      position: relative;\n    }\n\n    .tab-panel li.active > a {\n      border: 1px solid #CCC;\n      border-bottom: none;\n      background-color: white;\n    }\n\n    .tab-panel .tab-content {\n      width: 600px;\n    }\n\n    .tab-panel .tab-content > div {\n      display: none;\n      padding-top: 20px;\n      clear: both;\n    }\n\n    .tab-panel .tab-content > div {\n      padding: 20px 10px 5px 10px;\n    }\n\n    .tab-panel .tab-content > div.active {\n      display: block;\n      border: 1px solid #CCC;\n      border-top: none;\n    }\n\n  </style>','\n    <div id="gear" style="display: none">').concat('<svg viewBox="0 0 512 512"><path fill="#AAA" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"/></svg>','</div>\n    <div id="tools" style="display: none">\n      <ul>\n        <li id="download-tool" class="ideo-tool-hover">Download ').concat('<span style="float: right">&blacktriangleright;</span>','</li>\n        <li id="about-tool">About</li>\n      </ul>\n    </div>');document.querySelector(t.selector).insertAdjacentHTML("beforebegin",e),function(t){document.querySelector("#gear").addEventListener("click",(function(t){var e,n,r,o=document.querySelector("#tools");"none"===o.style.display?(o.style.display="",e=document.querySelectorAll("#gear, #tools"),n=function(t){var n=0;e.forEach((function(e){e.contains(t.target)||(n+=1)})),n===e.length&&(pf(),r())},r=function(){document.removeEventListener("click",n)},document.addEventListener("click",n)):(o.style.display="none",pf())})),mf(t)}(t),function(t){var e=document.querySelector(t.selector),n=document.querySelector("#gear"),r=document.querySelector("#tools");e.addEventListener("mouseover",(function(){return n.style.display=""})),e.addEventListener("mouseout",(function(){"none"===r.style.display&&(n.style.display="none")})),n.addEventListener("mouseover",(function(){return n.style.display=""}))}(t)}function yf(t){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(t)}function vf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vf=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bf(t)}function wf(t,e){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wf(t,e)}function xf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cf(r.key),r)}}function _f(t,e,n){return e&&Af(t.prototype,e),n&&Af(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cf(t){var e=function(t){if("object"!=yf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=yf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==yf(e)?e:e+""}var Sf=function(){function t(e){xf(this,t),this._model=e,this._class="ModelAdapter"}return _f(t,[{key:"getModel",value:function(){return this._model}},{key:"getCssClass",value:function(){return""}}],[{key:"getInstance",value:function(e){return e.bands?new t(e):new kf(e)}}])}(),kf=function(t){function e(t){var n,r,o,i;return xf(this,e),(r=this,o=e,i=[t],o=bf(o),n=function(t,e){if(e&&("object"==yf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(r,vf()?Reflect.construct(o,i||[],bf(r).constructor):o.apply(r,i)))._class="ModelNoBandsAdapter",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wf(t,e)}(e,t),_f(e,[{key:"getModel",value:function(){this._model.bands=[];var t,e="MT"===this._model.name,n=this._model.width;return(n>1||e)&&this._model.bands.push({name:"q",px:{start:0,stop:n,width:n},bp:{start:1,stop:null!==(t=this._model.bpLength)&&void 0!==t?t:this._model.length},iscn:{start:1,stop:this._model.length}}),this._model}},{key:"getCssClass",value:function(){return"noBands"}}])}(Sf);function Lf(t){return Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(t)}function Tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ef(r.key),r)}}function Ef(t){var e=function(t){if("object"!=Lf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Lf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Lf(e)?e:e+""}var Of=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._ploidy=new Ia(this._config)},e=[{key:"getArmColor",value:function(t,e,n){return this._config.armColors?this._config.armColors[n]:this._config.ancestors?this._getPolyploidArmColor(t,e,n):null}},{key:"getBorderColor",value:function(t,e,n){var r=this._config,o=r.chrBorderColor?r.chrBorderColor:"#000";return e<r.ploidy||this._ploidy.exists(t,e,n)?o:"#fff"}},{key:"getFillColor",value:function(){var t=this._config;if(!t.chrFillColor)return"#AAA";var e=t.chrFillColor;return"string"==typeof e?{arm:e,centromere:""}:e}},{key:"_getPolyploidArmColor",value:function(t,e,n){if(this._ploidy.exists(t,e,n)){var r=this._ploidy.getAncestor(t,e,n);return this._config.ancestors[r]}return"transparent"}}],e&&Tf(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Pf(t){return Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(t)}function jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mf(r.key),r)}}function Mf(t){var e=function(t){if("object"!=Pf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Pf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Pf(e)?e:e+""}var If=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this.start=e.start,this.stop=e.stop,this.length=this.stop-this.start},(e=[{key:"getColor",value:function(t){return"ploidy"in this._data?"ploidy"in this._data&&this._data.ploidy[t]?this._getColor(t):"transparent":this._getColor(t)}},{key:"_getColor",value:function(t){return Array.isArray(this._data.color)?this._data.color[t]:this._data.color}}])&&jf(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Nf(t){return Nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(t)}function Df(t,e,n){return e=Bf(e),function(t,e){if(e&&("object"==Nf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ff()?Reflect.construct(e,n||[],Bf(t).constructor):e.apply(t,n))}function Ff(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ff=function(){return!!t})()}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bf(t)}function Rf(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gf(t,e)}function Gf(t,e){return Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gf(t,e)}function Hf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zf(r.key),r)}}function qf(t,e,n){return e&&Wf(t.prototype,e),n&&Wf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zf(t){var e=function(t){if("object"!=Nf(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Nf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Nf(e)?e:e+""}var Uf=function(){return qf((function t(e,n,r){Hf(this,t),this._adapter=e,this._model=this._adapter.getModel(),this._config=n,this._ideo=r,this._color=new Of(this._config),this._bumpCoefficient=5}),[{key:"_addPArmShape",value:function(t,e){return e?t.concat(this._getPArmShape()):t}},{key:"_addQArmShape",value:function(t,e){return e?t.concat(this._getQArmShape()):t}},{key:"render",value:function(t,e,n){var r,o,i,a,s,c,l,u;if(r=this,t=t.append("g").attr("class","bands").attr("clip-path","url(#"+this._model.id+"-chromosome-set-clippath)"),o=this._renderArm(t,e,n,"p"),i=this._renderArm(t,e,n,"q"),this._renderRangeSet(t,e,n),a=[],a=this._addPArmShape(a,o),a=this._addQArmShape(a,i),s="0",c="",l=this.isFullyBanded(),"ancestors"in this._ideo.config&&!("rangeSet"in this._ideo.config)?(c=r._color.getArmColor(e,n,0),l&&(s="0.5")):l?(s=null,c="transparent"):"ancestors"in this._ideo.config||(s="1"),this._ideo.config.chrFillColor){var f=r._color.getFillColor();c=f.arm,u=f.centromere}return t.append("g").attr("class","chromosome-border").selectAll("path").data(a).enter().append("path").attr("fill",c).style("fill-opacity",s).style("fill",(function(t){if("acen"===t.class&&u)return u})).attr("stroke",(function(t,o){return r._color.getBorderColor(e,n,o)})).attr("stroke-width",(function(t){return"strokeWidth"in t?t.strokeWidth:1})).attr("d",(function(t){return t.path})).attr("class",(function(t){return t.class})),a}},{key:"_renderRangeSet",value:function(t,e,n){var r,o,i,a;"rangeSet"in this._config&&(o=this._config.rangeSet.filter((function(t){return t.chr-1===e})).map((function(t){return new If(t)})),i=t.append("g").attr("class","range-set"),a=(r=this)._ideo,i.selectAll("rect.range").data(o).enter().append("rect").attr("class","range").attr("x",(function(t){return a.convertBpToPx(r._model,t.start)})).attr("y",0).attr("width",(function(t){return a.convertBpToPx(r._model,t.length)})).attr("height",this._config.chrWidth).style("fill",(function(t){return t.getColor(n)})))}},{key:"_getShapeData",value:function(){var t,e,n,r;for(e=0;e<this._model.bands.length;e++)if("q"===this._model.bands[e].name[0]){t=this._model.bands[e];break}return n=this._model.bands.length-1,r=this._model.bands[n].px.stop,{x1:0,x2:t?t.px.start:r,x3:r,w:this._config.chrWidth,b:this._config.chrWidth/this._bumpCoefficient}}},{key:"_getPArmShape",value:function(){var t=this._getShapeData(),e=t.x2-t.b;return this.isFullyBanded()||"ancestors"in this._ideo.config?{class:"",path:"M"+t.b+",0 L"+e+",0 Q"+(t.x2+t.b)+","+t.w/2+","+e+","+t.w+" L"+t.b+","+t.w+" Q-"+t.b+","+t.w/2+","+t.b+",0"}:[{class:"",path:"M"+t.b+",0 L"+(e-2)+",0 L"+(e-2)+","+t.w+" L"+t.b+","+t.w+" Q-"+t.b+","+t.w/2+","+t.b+",0"},{class:"acen",path:"M"+e+",0 Q"+(t.x2+t.b)+","+t.w/2+","+e+","+t.w+" L"+e+","+t.w+" L"+(e-2)+","+t.w+" L"+(e-2)+",0"}]}},{key:"_getQArmShape",value:function(){var t=this._getShapeData(),e=t.x3-t.b,n=t.x2+t.b;return this.isFullyBanded()||"ancestors"in this._ideo.config?{class:"",path:"M"+n+",0 L"+e+",0 Q"+(t.x3+t.b)+","+t.w/2+","+e+","+t.w+" L"+n+","+t.w+" Q"+(t.x2-t.b)+","+t.w/2+","+n+",0"}:[{path:"M"+n+",0 L"+e+",0 Q"+(t.x3+t.b)+","+t.w/2+","+e+","+t.w+" L"+n+","+t.w+" L"+n+",0"},{class:"acen",path:"M"+n+",0Q"+(t.x2-t.b)+","+t.w/2+","+n+","+t.w+" L"+n+","+t.w+"L"+(n+2)+","+t.w+"L"+(n+2)+",0"}]}},{key:"isFullyBanded",value:function(){return this._model.bands&&(2!==this._model.bands.length||"q"===this._model.bands[0].name[0])}},{key:"_renderBands",value:function(t,e,n,r,o){var i,a,s;a="p"===o?0:1,s="","ancestors"in(i=this)._ideo.config&&!i.isFullyBanded()&&(s=i._color.getArmColor(e,n,a)),t.selectAll("path.band."+o).data(r).enter().append("path").attr("id",(function(t){return i._model.id+"-"+t.name.replace(".","-")})).attr("class",(function(t){return"band "+o+"-band "+t.stain})).attr("d",(function(t){var e;return"M "+i._ideo.round(t.px.start)+", 0l "+(e=i._ideo.round(t.px.width))+" 0 l 0 "+i._config.chrWidth+" l -"+e+" 0 z"})).style("fill",s)}},{key:"_renderArm",value:function(t,e,n,r){var o=this._model.bands.filter((function(t){return t.name[0]===r}));return this._renderBands(t,e,n,o,r),Boolean(o.length)}}],[{key:"getInstance",value:function(t,e,n){var r=t.getModel().centromerePosition;return"telocentric-p"===r?new Yf(t,e,n):"telocentric-q"===r?new Vf(t,e,n):new $f(t,e,n)}}])}(),$f=function(t){function e(t,n,r){var o;return Hf(this,e),(o=Df(this,e,[t,n,r]))._class="MetacentricChromosome",o}return Rf(e,t),qf(e)}(Uf),Yf=function(t){function e(t,n,r){var o;return Hf(this,e),(o=Df(this,e,[t,n,r]))._class="TelocentricPChromosome",o._pArmOffset=3,o}return Rf(e,t),qf(e,[{key:"_addPArmShape",value:function(t){return t.concat(this._getPArmShape())}},{key:"_getPArmShape",value:function(){var t=this._getShapeData();return t.o=this._pArmOffset,[{class:"acen",path:"M"+(t.x2+2)+",1L"+(t.x2+t.o+3.25)+",1 L"+(t.x2+t.o+3.25)+","+(t.w-1)+" L"+(t.x2+2)+","+(t.w-1)},{class:"gpos66",path:"M"+(t.x2-t.o+5)+",0L"+(t.x2-t.o+3)+",0 L"+(t.x2-t.o+3)+","+t.w+" L"+(t.x2-t.o+5)+","+t.w,strokeWidth:.5}]}},{key:"_getQArmShape",value:function(){var t=this._getShapeData(),e=t.x3-t.b,n=this._pArmOffset+3;return{class:"",path:"M"+(t.x2+n)+",0 L"+e+",0 Q"+(t.x3+t.b)+","+t.w/2+","+e+","+t.w+" L"+(t.x2+n)+","+t.w}}}])}(Uf),Vf=function(t){function e(t,n,r){var o;return Hf(this,e),(o=Df(this,e,[t,n,r]))._class="TelocentricQChromosome",o._qArmOffset=3,o}return Rf(e,t),qf(e,[{key:"_getPArmShape",value:function(){var t=this._getShapeData(),e=t.x3-t.b,n=this._qArmOffset;return{class:"",path:"M"+(t.x2+n)+",0 L"+(e+n)+",0 L"+(e+n)+","+t.w+" L"+t.b+","+t.w+" Q-"+t.b+","+t.w/2+","+t.b+",0"}}},{key:"_addQArmShape",value:function(t){return t.concat(this._getQArmShape())}},{key:"_getQArmShape",value:function(){var t=this._getShapeData();return t.o=this._qArmOffset,[{class:"acen",path:"M"+(t.x2+2)+",1 L"+(t.x2+t.o+3.25)+",1 L"+(t.x2+t.o+3.25)+","+(t.w-1)+" L"+(t.x2+2)+","+(t.w-1)},{class:"gpos66",path:"M"+(t.x2+t.o+5)+",0 L"+(t.x2+t.o+3)+",0 L"+(t.x2+t.o+3)+","+t.w+" L"+(t.x2+t.o+5)+","+t.w,strokeWidth:.5}]}}])}(Uf);function Xf(t,e,n,r){var o,i,a,s,c;s=ko.select(this.selector+" defs"),c=Sf.getInstance(t),o=n*this.config.chrMargin,i=r.append("g").attr("id",t.id).attr("class","chromosome "+c.getCssClass()).attr("transform","translate(0, "+o+")"),a=Uf.getInstance(c,this.config,this).render(i,e,n),ko.select("#"+t.id+"-chromosome-set-clippath").remove(),s.append("clipPath").attr("id",t.id+"-chromosome-set-clippath").selectAll("path").data(a).enter().append("path").attr("d",(function(t){return t.path})).attr("class",(function(t){return t.class})),t.width<1&&ko.select("#"+t.id+" .bands").style("opacity",0)}function Kf(t){var e,n,r,o,i,a;if(e=t.chrIndex,o=this._layout.getChromosomeSetTranslate(e),a=this.selector+" #"+t.id+"-chromosome-set",ko.selectAll(a+" g").remove(),0===(n=ko.select(a)).nodes().length&&(n=ko.select(this.selector).append("g").attr("class","chromosome-set").attr("transform",o).attr("id",t.id+"-chromosome-set")),"sex"in this.config&&2===this.config.ploidy&&this.sexChromosomes.index===e)this.drawSexChromosomes(n,e);else for(r=1,this.config.ploidy>1&&(r=this._ploidy.getChromosomesNumber(e)),i=0;i<r;i++)this.appendHomolog(t,e,i,n)}function Qf(t){var e,n;this.unhighlight(),this.config.taxid&&(e=t.id.split("-")[0].replace("chr",""),n=this.chromosomes[this.config.taxid][e].chrIndex,this._layout.rotate(n,n,t))}function Jf(){var t,e,n,r,o,i,a,s;e=(t=this).config,i=ko.select(e.container+" svg#_ideogram"),r=ko.select(e.container+" #_ideogramInnerWrap"),o=ko.select(e.container+" #_ideogramMiddleWrap"),s=1===(a=e.ploidy)?a:1.12*a;var c=0;"annotationsLayout"in e&&(c=e.annotationHeight*e.numAnnotTracks),"vertical"===e.orientation&&"comparative"!==e.perspective&&"collinear"!==e.geometry&&(n=t.numChromosomes*(e.chrWidth+e.chrMargin+c),"heatmap-2d"!==e.annotationsLayout&&(n=Math.ceil(n*s/e.rows),"SmallLayout"===t._layout._class&&(n+=100),n+=35,o.style("height",t._layout.getHeight()+"px"),r.style("max-width",n+"px").style("overflow-x","scroll").style("position","absolute"),i.style("min-width",n-5+"px"),t.config.showTools&&gf(t)))}function Zf(){(function(t){var e=t._layout;ko.selectAll(t.selector+" .chromosome-set").insert("text",":first-child").data(t.chromosomesArray).attr("class",e.getChromosomeLabelClass()).attr("transform",e.getChromosomeSetLabelTranslate()).attr("x",e.getChromosomeSetLabelXPosition()).attr("y",(function(t,n){return e.getChromosomeSetLabelYPosition(n)})).attr("text-anchor",e.getChromosomeSetLabelAnchor()).each((function(e,n){!function(t,e,n,r){var o=function(t,e,n){var r;return r=-1===t.name.indexOf(" ")?[t.name]:t.name.match(/^(.*)\s+([^\s]+)$/).slice(1).reverse(),"sex"in n.config&&2===n.config.ploidy&&e===n.sexChromosomes.index&&(r="male"===n.config.sex?["XY"]:["XX"]),r}(t,e,r);ko.select(n).selectAll("tspan").data(o).enter().append("tspan").attr("dy",(function(t,e){return-1.2*e+"em"})).attr("x",r._layout.getChromosomeSetLabelXPosition()).attr("class",(function(t,e){var n=r.config.fullChromosomeLabels;return 1===e&&n?"italic":null})).text(String)}(e,n,this,t)}))})(this),function(t){var e=t._layout;ko.selectAll(t.selector+" .chromosome-set").each((function(n,r){ko.select(this).selectAll(".chromosome").append("text").attr("class","chrLabel").attr("transform",e.getChromosomeSetLabelTranslate()).attr("x",(function(t,n){return e.getChromosomeLabelXPosition(n)})).attr("y",(function(t,n){return e.getChromosomeLabelYPosition(n)})).text((function(e,n){return t._ploidy.getAncestor(r,n)})).attr("text-anchor","middle")}))}(this)}function th(t,e,n,r){var o;e-=1,o=function(t){var e,n,r;return void 0===t||!t.hasOwnProperty("x")||1===t.x&&1===t.y?(e=-8,n=-16,t={x:1,y:1},r=""):(r="scale("+t.x+","+t.y+")",e=-6,n=""===t?-16:-14),{x:e,y:n,scaleSvg:r,scale:t}}(r),"vertical"===n||""===n?function(t,e,n,r){var o,i,a,s=r.config;e=function(t,e){return(e.numAnnotTracks>1||""===e.orientation)&&(t-=1),t}(e,s),o=-4,!0===s.showBandLabels&&(o=s.chrMargin+s.chrWidth+26),i=s.chrMargin*e,s.numAnnotTracks>1==0&&(i+=1),a=i+o,t.selectAll("text.chrLabel").attr("transform",n.scaleSvg).selectAll("tspan").attr("x",n.x).attr("y",a)}(t,e,o,this):function(t,e,n,r){var o,i,a,s=r.config;o=-s.chrWidth-2,!0===s.showBandLabels&&(o=s.chrMargin+8),i=s.annotTracksHeight,"overlay"!==s.annotationsLayout&&(i*=2),a=3-(s.chrMargin*e+o)+i,a/=n.scale.x,t.selectAll("text.chrLabel").attr("transform","rotate(-90)"+n.scaleSvg).selectAll("tspan").attr("x",a).attr("y",n.y)}(t,e,o,this)}function eh(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function nh(t){return t instanceof eh(t).Element||t instanceof Element}function rh(t){return t instanceof eh(t).HTMLElement||t instanceof HTMLElement}function oh(t){return"undefined"!=typeof ShadowRoot&&(t instanceof eh(t).ShadowRoot||t instanceof ShadowRoot)}var ih=Math.max,ah=Math.min,sh=Math.round;function ch(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function lh(){return!/^((?!chrome|android).)*safari/i.test(ch())}function uh(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),o=1,i=1;e&&rh(t)&&(o=t.offsetWidth>0&&sh(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&sh(r.height)/t.offsetHeight||1);var a=(nh(t)?eh(t):window).visualViewport,s=!lh()&&n,c=(r.left+(s&&a?a.offsetLeft:0))/o,l=(r.top+(s&&a?a.offsetTop:0))/i,u=r.width/o,f=r.height/i;return{width:u,height:f,top:l,right:c+u,bottom:l+f,left:c,x:c,y:l}}function fh(t){var e=eh(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function hh(t){return t?(t.nodeName||"").toLowerCase():null}function dh(t){return((nh(t)?t.ownerDocument:t.document)||window.document).documentElement}function ph(t){return uh(dh(t)).left+fh(t).scrollLeft}function mh(t){return eh(t).getComputedStyle(t)}function gh(t){var e=mh(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function yh(t,e,n){void 0===n&&(n=!1);var r,o,i=rh(e),a=rh(e)&&function(t){var e=t.getBoundingClientRect(),n=sh(e.width)/t.offsetWidth||1,r=sh(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),s=dh(e),c=uh(t,a,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&(("body"!==hh(e)||gh(s))&&(l=(r=e)!==eh(r)&&rh(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:fh(r)),rh(e)?((u=uh(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=ph(s))),{x:c.left+l.scrollLeft-u.x,y:c.top+l.scrollTop-u.y,width:c.width,height:c.height}}function vh(t){var e=uh(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function bh(t){return"html"===hh(t)?t:t.assignedSlot||t.parentNode||(oh(t)?t.host:null)||dh(t)}function wh(t){return["html","body","#document"].indexOf(hh(t))>=0?t.ownerDocument.body:rh(t)&&gh(t)?t:wh(bh(t))}function xh(t,e){var n;void 0===e&&(e=[]);var r=wh(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=eh(r),a=o?[i].concat(i.visualViewport||[],gh(r)?r:[]):r,s=e.concat(a);return o?s:s.concat(xh(bh(a)))}function Ah(t){return["table","td","th"].indexOf(hh(t))>=0}function _h(t){return rh(t)&&"fixed"!==mh(t).position?t.offsetParent:null}function Ch(t){for(var e=eh(t),n=_h(t);n&&Ah(n)&&"static"===mh(n).position;)n=_h(n);return n&&("html"===hh(n)||"body"===hh(n)&&"static"===mh(n).position)?e:n||function(t){var e=/firefox/i.test(ch());if(/Trident/i.test(ch())&&rh(t)&&"fixed"===mh(t).position)return null;var n=bh(t);for(oh(n)&&(n=n.host);rh(n)&&["html","body"].indexOf(hh(n))<0;){var r=mh(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var Sh="top",kh="bottom",Lh="right",Th="left",Eh="auto",Oh=[Sh,kh,Lh,Th],Ph="start",jh="end",Mh="viewport",Ih="popper",Nh=Oh.reduce((function(t,e){return t.concat([e+"-"+Ph,e+"-"+jh])}),[]),Dh=[].concat(Oh,[Eh]).reduce((function(t,e){return t.concat([e,e+"-"+Ph,e+"-"+jh])}),[]),Fh=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Bh(t){var e=new Map,n=new Set,r=[];function o(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&o(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||o(t)})),r}var Rh={placement:"bottom",modifiers:[],strategy:"absolute"};function Gh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Hh(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,o=e.defaultOptions,i=void 0===o?Rh:o;return function(t,e,n){void 0===n&&(n=i);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rh,i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,u={state:s,setOptions:function(n){var o="function"==typeof n?n(s.options):n;f(),s.options=Object.assign({},i,s.options,o),s.scrollParents={reference:nh(t)?xh(t):t.contextElement?xh(t.contextElement):[],popper:xh(e)};var a,l,h=function(t){var e=Bh(t);return Fh.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),l=a.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(l).map((function(t){return l[t]}))));return s.orderedModifiers=h.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var i=o({state:s,name:e,instance:u,options:r});c.push(i||function(){})}})),u.update()},forceUpdate:function(){if(!l){var t=s.elements,e=t.reference,n=t.popper;if(Gh(e,n)){s.rects={reference:yh(e,Ch(n),"fixed"===s.options.strategy),popper:vh(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var o=s.orderedModifiers[r],i=o.fn,a=o.options,c=void 0===a?{}:a,f=o.name;"function"==typeof i&&(s=i({state:s,options:c,name:f,instance:u})||s)}else s.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(t){u.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(o())}))}))),a}),destroy:function(){f(),l=!0}};if(!Gh(t,e))return u;function f(){c.forEach((function(t){return t()})),c=[]}return u.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var Wh={passive:!0};function qh(t){return t.split("-")[0]}function zh(t){return t.split("-")[1]}function Uh(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function $h(t){var e,n=t.reference,r=t.element,o=t.placement,i=o?qh(o):null,a=o?zh(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case Sh:e={x:s,y:n.y-r.height};break;case kh:e={x:s,y:n.y+n.height};break;case Lh:e={x:n.x+n.width,y:c};break;case Th:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var l=i?Uh(i):null;if(null!=l){var u="y"===l?"height":"width";switch(a){case Ph:e[l]=e[l]-(n[u]/2-r[u]/2);break;case jh:e[l]=e[l]+(n[u]/2-r[u]/2)}}return e}var Yh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vh(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.variation,a=t.offsets,s=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=a.x,d=void 0===h?0:h,p=a.y,m=void 0===p?0:p,g="function"==typeof u?u({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),b=Th,w=Sh,x=window;if(l){var A=Ch(n),_="clientHeight",C="clientWidth";A===eh(n)&&"static"!==mh(A=dh(n)).position&&"absolute"===s&&(_="scrollHeight",C="scrollWidth"),(o===Sh||(o===Th||o===Lh)&&i===jh)&&(w=kh,m-=(f&&A===x&&x.visualViewport?x.visualViewport.height:A[_])-r.height,m*=c?1:-1),o!==Th&&(o!==Sh&&o!==kh||i!==jh)||(b=Lh,d-=(f&&A===x&&x.visualViewport?x.visualViewport.width:A[C])-r.width,d*=c?1:-1)}var S,k=Object.assign({position:s},l&&Yh),L=!0===u?function(t,e){var n=t.x,r=t.y,o=e.devicePixelRatio||1;return{x:sh(n*o)/o||0,y:sh(r*o)/o||0}}({x:d,y:m},eh(n)):{x:d,y:m};return d=L.x,m=L.y,c?Object.assign({},k,((S={})[w]=v?"0":"",S[b]=y?"0":"",S.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",S)):Object.assign({},k,((e={})[w]=v?m+"px":"",e[b]=y?d+"px":"",e.transform="",e))}const Xh={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];rh(o)&&hh(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});rh(r)&&hh(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]},Kh={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=void 0===o?[0,0]:o,a=Dh.reduce((function(t,n){return t[n]=function(t,e,n){var r=qh(t),o=[Th,Sh].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[Th,Lh].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,i),t}),{}),s=a[e.placement],c=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}};var Qh={left:"right",right:"left",bottom:"top",top:"bottom"};function Jh(t){return t.replace(/left|right|bottom|top/g,(function(t){return Qh[t]}))}var Zh={start:"end",end:"start"};function td(t){return t.replace(/start|end/g,(function(t){return Zh[t]}))}function ed(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&oh(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function nd(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function rd(t,e,n){return e===Mh?nd(function(t,e){var n=eh(t),r=dh(t),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;var l=lh();(l||!l&&"fixed"===e)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s+ph(t),y:c}}(t,n)):nh(e)?function(t,e){var n=uh(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):nd(function(t){var e,n=dh(t),r=fh(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=ih(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ih(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+ph(t),c=-r.scrollTop;return"rtl"===mh(o||n).direction&&(s+=ih(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:c}}(dh(t)))}function od(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function id(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function ad(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=void 0===r?t.placement:r,i=n.strategy,a=void 0===i?t.strategy:i,s=n.boundary,c=void 0===s?"clippingParents":s,l=n.rootBoundary,u=void 0===l?Mh:l,f=n.elementContext,h=void 0===f?Ih:f,d=n.altBoundary,p=void 0!==d&&d,m=n.padding,g=void 0===m?0:m,y=od("number"!=typeof g?g:id(g,Oh)),v=h===Ih?"reference":Ih,b=t.rects.popper,w=t.elements[p?v:h],x=function(t,e,n,r){var o="clippingParents"===e?function(t){var e=xh(bh(t)),n=["absolute","fixed"].indexOf(mh(t).position)>=0&&rh(t)?Ch(t):t;return nh(n)?e.filter((function(t){return nh(t)&&ed(t,n)&&"body"!==hh(t)})):[]}(t):[].concat(e),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(e,n){var o=rd(t,n,r);return e.top=ih(o.top,e.top),e.right=ah(o.right,e.right),e.bottom=ah(o.bottom,e.bottom),e.left=ih(o.left,e.left),e}),rd(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(nh(w)?w:w.contextElement||dh(t.elements.popper),c,u,a),A=uh(t.elements.reference),_=$h({reference:A,element:b,strategy:"absolute",placement:o}),C=nd(Object.assign({},b,_)),S=h===Ih?C:A,k={top:x.top-S.top+y.top,bottom:S.bottom-x.bottom+y.bottom,left:x.left-S.left+y.left,right:S.right-x.right+y.right},L=t.modifiersData.offset;if(h===Ih&&L){var T=L[o];Object.keys(k).forEach((function(t){var e=[Lh,kh].indexOf(t)>=0?1:-1,n=[Sh,kh].indexOf(t)>=0?"y":"x";k[t]+=T[n]*e}))}return k}const sd={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,m=n.allowedAutoPlacements,g=e.options.placement,y=qh(g),v=c||(y!==g&&p?function(t){if(qh(t)===Eh)return[];var e=Jh(t);return[td(t),e,td(e)]}(g):[Jh(g)]),b=[g].concat(v).reduce((function(t,n){return t.concat(qh(n)===Eh?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?Dh:c,u=zh(r),f=u?s?Nh:Nh.filter((function(t){return zh(t)===u})):Oh,h=f.filter((function(t){return l.indexOf(t)>=0}));0===h.length&&(h=f);var d=h.reduce((function(e,n){return e[n]=ad(t,{placement:n,boundary:o,rootBoundary:i,padding:a})[qh(n)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}(e,{placement:n,boundary:u,rootBoundary:f,padding:l,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=e.rects.reference,x=e.rects.popper,A=new Map,_=!0,C=b[0],S=0;S<b.length;S++){var k=b[S],L=qh(k),T=zh(k)===Ph,E=[Sh,kh].indexOf(L)>=0,O=E?"width":"height",P=ad(e,{placement:k,boundary:u,rootBoundary:f,altBoundary:h,padding:l}),j=E?T?Lh:Th:T?kh:Sh;w[O]>x[O]&&(j=Jh(j));var M=Jh(j),I=[];if(i&&I.push(P[L]<=0),s&&I.push(P[j]<=0,P[M]<=0),I.every((function(t){return t}))){C=k,_=!1;break}A.set(k,I)}if(_)for(var N=function(t){var e=b.find((function(e){var n=A.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},D=p?3:1;D>0&&"break"!==N(D);D--);e.placement!==C&&(e.modifiersData[r]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function cd(t,e,n){return ih(t,ah(e,n))}const ld={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,g=ad(e,{boundary:c,rootBoundary:l,padding:f,altBoundary:u}),y=qh(e.placement),v=zh(e.placement),b=!v,w=Uh(y),x="x"===w?"y":"x",A=e.modifiersData.popperOffsets,_=e.rects.reference,C=e.rects.popper,S="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,T={x:0,y:0};if(A){if(i){var E,O="y"===w?Sh:Th,P="y"===w?kh:Lh,j="y"===w?"height":"width",M=A[w],I=M+g[O],N=M-g[P],D=d?-C[j]/2:0,F=v===Ph?_[j]:C[j],B=v===Ph?-C[j]:-_[j],R=e.elements.arrow,G=d&&R?vh(R):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=H[O],q=H[P],z=cd(0,_[j],G[j]),U=b?_[j]/2-D-z-W-k.mainAxis:F-z-W-k.mainAxis,$=b?-_[j]/2+D+z+q+k.mainAxis:B+z+q+k.mainAxis,Y=e.elements.arrow&&Ch(e.elements.arrow),V=Y?"y"===w?Y.clientTop||0:Y.clientLeft||0:0,X=null!=(E=null==L?void 0:L[w])?E:0,K=M+$-X,Q=cd(d?ah(I,M+U-X-V):I,M,d?ih(N,K):N);A[w]=Q,T[w]=Q-M}if(s){var J,Z="x"===w?Sh:Th,tt="x"===w?kh:Lh,et=A[x],nt="y"===x?"height":"width",rt=et+g[Z],ot=et-g[tt],it=-1!==[Sh,Th].indexOf(y),at=null!=(J=null==L?void 0:L[x])?J:0,st=it?rt:et-_[nt]-C[nt]-at+k.altAxis,ct=it?et+_[nt]+C[nt]-at-k.altAxis:ot,lt=d&&it?function(t,e,n){var r=cd(t,e,n);return r>n?n:r}(st,et,ct):cd(d?st:rt,et,d?ct:ot);A[x]=lt,T[x]=lt-et}e.modifiersData[r]=T}},requiresIfExists:["offset"]},ud={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=qh(n.placement),c=Uh(s),l=[Th,Lh].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(t,e){return od("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:id(t,Oh))}(o.padding,n),f=vh(i),h="y"===c?Sh:Th,d="y"===c?kh:Lh,p=n.rects.reference[l]+n.rects.reference[c]-a[c]-n.rects.popper[l],m=a[c]-n.rects.reference[c],g=Ch(i),y=g?"y"===c?g.clientHeight||0:g.clientWidth||0:0,v=p/2-m/2,b=u[h],w=y-f[l]-u[d],x=y/2-f[l]/2+v,A=cd(b,x,w),_=c;n.modifiersData[r]=((e={})[_]=A,e.centerOffset=A-x,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&ed(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fd(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function hd(t){return[Sh,Lh,kh,Th].some((function(e){return t[e]>=0}))}var dd=Hh({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,c=eh(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach((function(t){t.addEventListener("scroll",n.update,Wh)})),s&&c.addEventListener("resize",n.update,Wh),function(){i&&l.forEach((function(t){t.removeEventListener("scroll",n.update,Wh)})),s&&c.removeEventListener("resize",n.update,Wh)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=$h({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,c=void 0===s||s,l={placement:qh(e.placement),variation:zh(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Vh(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Vh(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Xh,Kh,sd,ld,ud,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,a=ad(e,{elementContext:"reference"}),s=ad(e,{altBoundary:!0}),c=fd(a,r),l=fd(s,o,i),u=hd(c),f=hd(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}}]}),pd="tippy-content",md="tippy-arrow",gd="tippy-svg-arrow",yd={passive:!0,capture:!0},vd=function(){return document.body};function bd(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function wd(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function xd(t,e){return"function"==typeof t?t.apply(void 0,e):t}function Ad(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout((function(){t(r)}),e)};var n}function _d(t){return[].concat(t)}function Cd(t,e){-1===t.indexOf(e)&&t.push(e)}function Sd(t){return[].slice.call(t)}function kd(t){return Object.keys(t).reduce((function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e}),{})}function Ld(){return document.createElement("div")}function Td(t){return["Element","Fragment"].some((function(e){return wd(t,e)}))}function Ed(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function Od(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function Pd(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[r](e,n)}))}function jd(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var Md={isTouch:!1},Id=0;function Nd(){Md.isTouch||(Md.isTouch=!0,window.performance&&document.addEventListener("mousemove",Dd))}function Dd(){var t=performance.now();t-Id<20&&(Md.isTouch=!1,document.removeEventListener("mousemove",Dd)),Id=t}function Fd(){var t=document.activeElement;if(function(t){return!(!t||!t._tippy||t._tippy.reference!==t)}(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var Bd=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),Rd=Object.assign({appendTo:vd,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Gd=Object.keys(Rd);function Hd(t){var e=(t.plugins||[]).reduce((function(e,n){var r,o=n.name,i=n.defaultValue;return o&&(e[o]=void 0!==t[o]?t[o]:null!=(r=Rd[o])?r:i),e}),{});return Object.assign({},t,e)}function Wd(t,e){var n=Object.assign({},e,{content:xd(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(Hd(Object.assign({},Rd,{plugins:e}))):Gd).reduce((function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},Rd.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function qd(t,e){t.innerHTML=e}function zd(t){var e=Ld();return!0===t?e.className=md:(e.className=gd,Td(t)?e.appendChild(t):qd(e,t)),e}function Ud(t,e){Td(e.content)?(qd(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?qd(t,e.content):t.textContent=e.content)}function $d(t){var e=t.firstElementChild,n=Sd(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(pd)})),arrow:n.find((function(t){return t.classList.contains(md)||t.classList.contains(gd)})),backdrop:n.find((function(t){return t.classList.contains("tippy-backdrop")}))}}function Yd(t){var e=Ld(),n=Ld();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ld();function o(n,r){var o=$d(e),i=o.box,a=o.content,s=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Ud(a,t.props),r.arrow?s?n.arrow!==r.arrow&&(i.removeChild(s),i.appendChild(zd(r.arrow))):i.appendChild(zd(r.arrow)):s&&i.removeChild(s)}return r.className=pd,r.setAttribute("data-state","hidden"),Ud(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props),{popper:e,onUpdate:o}}Yd.$$tippy=!0;var Vd=1,Xd=[],Kd=[];function Qd(t,e){var n,r,o,i,a,s,c,l,u=Wd(t,Object.assign({},Rd,Hd(kd(e)))),f=!1,h=!1,d=!1,p=!1,m=[],g=Ad(Y,u.interactiveDebounce),y=Vd++,v=(l=u.plugins).filter((function(t,e){return l.indexOf(t)===e})),b={id:y,reference:t,popper:Ld(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:v,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(e){if(!b.state.isDestroyed){M("onBeforeUpdate",[b,e]),U();var n=b.props,r=Wd(t,Object.assign({},n,kd(e),{ignoreAttributes:!0}));b.props=r,z(),n.interactiveDebounce!==r.interactiveDebounce&&(D(),g=Ad(Y,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?_d(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded"),N(),j(),A&&A(n,r),b.popperInstance&&(Q(),Z().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}))),M("onAfterUpdate",[b,e])}},setContent:function(t){b.setProps({content:t})},show:function(){var t=b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,r=Md.isTouch&&!b.props.touch,o=bd(b.props.duration,0,Rd.duration);if(!(t||e||n||r||T().hasAttribute("disabled")||(M("onShow",[b],!1),!1===b.props.onShow(b)))){if(b.state.isVisible=!0,L()&&(x.style.visibility="visible"),j(),G(),b.state.isMounted||(x.style.transition="none"),L()){var i=O();Ed([i.box,i.content],0)}var a,c,l;s=function(){var t;if(b.state.isVisible&&!p){if(p=!0,x.offsetHeight,x.style.transition=b.props.moveTransition,L()&&b.props.animation){var e=O(),n=e.box,r=e.content;Ed([n,r],o),Od([n,r],"visible")}I(),N(),Cd(Kd,b),null==(t=b.popperInstance)||t.forceUpdate(),M("onMount",[b]),b.props.animation&&L()&&function(t){W(t,(function(){b.state.isShown=!0,M("onShown",[b])}))}(o)}},c=b.props.appendTo,l=T(),(a=b.props.interactive&&c===vd||"parent"===c?l.parentNode:xd(c,[l])).contains(x)||a.appendChild(x),b.state.isMounted=!0,Q()}},hide:function(){var t=!b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,r=bd(b.props.duration,1,Rd.duration);if(!(t||e||n)&&(M("onHide",[b],!1),!1!==b.props.onHide(b))){if(b.state.isVisible=!1,b.state.isShown=!1,p=!1,f=!1,L()&&(x.style.visibility="hidden"),D(),H(),j(!0),L()){var o=O(),i=o.box,a=o.content;b.props.animation&&(Ed([i,a],r),Od([i,a],"hidden"))}I(),N(),b.props.animation?L()&&function(t,e){W(t,(function(){!b.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&e()}))}(r,b.unmount):b.unmount()}},hideWithInteractivity:function(t){E().addEventListener("mousemove",g),Cd(Xd,g),g(t)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){b.state.isVisible&&b.hide(),b.state.isMounted&&(J(),Z().forEach((function(t){t._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x),Kd=Kd.filter((function(t){return t!==b})),b.state.isMounted=!1,M("onHidden",[b]))},destroy:function(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),U(),delete t._tippy,b.state.isDestroyed=!0,M("onDestroy",[b]))}};if(!u.render)return b;var w=u.render(b),x=w.popper,A=w.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+b.id,b.popper=x,t._tippy=b,x._tippy=b;var _=v.map((function(t){return t.fn(b)})),C=t.hasAttribute("aria-expanded");return z(),N(),j(),M("onCreate",[b]),u.showOnCreate&&tt(),x.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&E().addEventListener("mousemove",g)})),b;function S(){var t=b.props.touch;return Array.isArray(t)?t:[t,0]}function k(){return"hold"===S()[0]}function L(){var t;return!(null==(t=b.props.render)||!t.$$tippy)}function T(){return c||t}function E(){var t,e,n=T().parentNode;return n?null!=(e=_d(n)[0])&&null!=(t=e.ownerDocument)&&t.body?e.ownerDocument:document:document}function O(){return $d(x)}function P(t){return b.state.isMounted&&!b.state.isVisible||Md.isTouch||i&&"focus"===i.type?0:bd(b.props.delay,t?0:1,Rd.delay)}function j(t){void 0===t&&(t=!1),x.style.pointerEvents=b.props.interactive&&!t?"":"none",x.style.zIndex=""+b.props.zIndex}function M(t,e,n){var r;void 0===n&&(n=!0),_.forEach((function(n){n[t]&&n[t].apply(n,e)})),n&&(r=b.props)[t].apply(r,e)}function I(){var e=b.props.aria;if(e.content){var n="aria-"+e.content,r=x.id;_d(b.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(b.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var o=e&&e.replace(r,"").trim();o?t.setAttribute(n,o):t.removeAttribute(n)}}))}}function N(){!C&&b.props.aria.expanded&&_d(b.props.triggerTarget||t).forEach((function(t){b.props.interactive?t.setAttribute("aria-expanded",b.state.isVisible&&t===T()?"true":"false"):t.removeAttribute("aria-expanded")}))}function D(){E().removeEventListener("mousemove",g),Xd=Xd.filter((function(t){return t!==g}))}function F(e){if(!Md.isTouch||!d&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!b.props.interactive||!jd(x,n)){if(_d(b.props.triggerTarget||t).some((function(t){return jd(t,n)}))){if(Md.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else M("onClickOutside",[b,e]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),h=!0,setTimeout((function(){h=!1})),b.state.isMounted||H())}}}function B(){d=!0}function R(){d=!1}function G(){var t=E();t.addEventListener("mousedown",F,!0),t.addEventListener("touchend",F,yd),t.addEventListener("touchstart",R,yd),t.addEventListener("touchmove",B,yd)}function H(){var t=E();t.removeEventListener("mousedown",F,!0),t.removeEventListener("touchend",F,yd),t.removeEventListener("touchstart",R,yd),t.removeEventListener("touchmove",B,yd)}function W(t,e){var n=O().box;function r(t){t.target===n&&(Pd(n,"remove",r),e())}if(0===t)return e();Pd(n,"remove",a),Pd(n,"add",r),a=r}function q(e,n,r){void 0===r&&(r=!1),_d(b.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,r),m.push({node:t,eventType:e,handler:n,options:r})}))}function z(){k()&&(q("touchstart",$,{passive:!0}),q("touchend",V,{passive:!0})),function(t){return t.split(/\s+/).filter(Boolean)}(b.props.trigger).forEach((function(t){if("manual"!==t)switch(q(t,$),t){case"mouseenter":q("mouseleave",V);break;case"focus":q(Bd?"focusout":"blur",X);break;case"focusin":q("focusout",X)}}))}function U(){m.forEach((function(t){var e=t.node,n=t.eventType,r=t.handler,o=t.options;e.removeEventListener(n,r,o)})),m=[]}function $(t){var e,n=!1;if(b.state.isEnabled&&!K(t)&&!h){var r="focus"===(null==(e=i)?void 0:e.type);i=t,c=t.currentTarget,N(),!b.state.isVisible&&function(t){return wd(t,"MouseEvent")}(t)&&Xd.forEach((function(e){return e(t)})),"click"===t.type&&(b.props.trigger.indexOf("mouseenter")<0||f)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:tt(t),"click"===t.type&&(f=!n),n&&!r&&et(t)}}function Y(t){var e=t.target,n=T().contains(e)||x.contains(e);if("mousemove"!==t.type||!n){var r=Z().concat(x).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean);(function(t,e){var n=e.clientX,r=e.clientY;return t.every((function(t){var e=t.popperRect,o=t.popperState,i=t.props.interactiveBorder,a=o.placement.split("-")[0],s=o.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,l="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,f="left"===a?s.right.x:0,h=e.top-r+c>i,d=r-e.bottom-l>i,p=e.left-n+u>i,m=n-e.right-f>i;return h||d||p||m}))})(r,t)&&(D(),et(t))}}function V(t){K(t)||b.props.trigger.indexOf("click")>=0&&f||(b.props.interactive?b.hideWithInteractivity(t):et(t))}function X(t){b.props.trigger.indexOf("focusin")<0&&t.target!==T()||b.props.interactive&&t.relatedTarget&&x.contains(t.relatedTarget)||et(t)}function K(t){return!!Md.isTouch&&k()!==t.type.indexOf("touch")>=0}function Q(){J();var e=b.props,n=e.popperOptions,r=e.placement,o=e.offset,i=e.getReferenceClientRect,a=e.moveTransition,c=L()?$d(x).arrow:null,l=i?{getBoundingClientRect:i,contextElement:i.contextElement||T()}:t,u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(L()){var n=O().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}}];L()&&c&&u.push({name:"arrow",options:{element:c,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),b.popperInstance=dd(l,x,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:u}))}function J(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Z(){return Sd(x.querySelectorAll("[data-tippy-root]"))}function tt(t){b.clearDelayTimeouts(),t&&M("onTrigger",[b,t]),G();var e=P(!0),r=S(),o=r[0],i=r[1];Md.isTouch&&"hold"===o&&i&&(e=i),e?n=setTimeout((function(){b.show()}),e):b.show()}function et(t){if(b.clearDelayTimeouts(),M("onUntrigger",[b,t]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&f)){var e=P(!1);e?r=setTimeout((function(){b.state.isVisible&&b.hide()}),e):o=requestAnimationFrame((function(){b.hide()}))}}else H()}}function Jd(t,e){void 0===e&&(e={});var n=Rd.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Nd,yd),window.addEventListener("blur",Fd);var r=Object.assign({},e,{plugins:n}),o=function(t){return Td(t)?[t]:function(t){return wd(t,"NodeList")}(t)?Sd(t):Array.isArray(t)?t:Sd(document.querySelectorAll(t))}(t).reduce((function(t,e){var n=e&&Qd(e,r);return n&&t.push(n),t}),[]);return Td(t)?o[0]:o}Jd.defaultProps=Rd,Jd.setDefaultProps=function(t){Object.keys(t).forEach((function(e){Rd[e]=t[e]}))},Jd.currentInput=Md,Object.assign({},Xh,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),Jd.setDefaultProps({render:Yd});const Zd=Jd;var tp='.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}';function ep(t){return ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(t)}function np(){np=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(P([])));A&&A!==n&&r.call(A,a)&&(w=A);var _=b.prototype=y.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ep(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?m:d,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(ep(e)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(_),l(_,c,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function rp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function op(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ip(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){op(i,r,o,a,s,"next",t)}function s(t){op(i,r,o,a,s,"throw",t)}a(void 0)}))}}var ap="https://cdn.jsdelivr.net/npm/@wikipathways/pvjs@5.0.1/dist/pvjs.vanilla.js",sp="_ideogramPathwayContainer";function cp(t){return lp.apply(this,arguments)}function lp(){return(lp=ip(np().mark((function t(e){var n,r,o;return np().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat("https://raw.githubusercontent.com").concat("/wikipathways/wikipathways-assets/main","/pathways/").concat(e,"/").concat(e,".json"),t.next=5,fetch(n);case 5:return r=t.sent,t.next=8,r.json();case 8:return o=t.sent,window.pathwayJson=o,t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function up(){return fp.apply(this,arguments)}function fp(){return(fp=ip(np().mark((function t(){var e;return np().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=document.createElement("script")).setAttribute("src",ap),document.querySelector("body").appendChild(e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function hp(t,e){var n=function(t,e){return Object.entries(e.entitiesById).filter((function(e){var n,r,o,i=(o=2,function(t){if(Array.isArray(t))return t}(r=e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(r,o)||function(t,e){if(t){if("string"==typeof t)return rp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rp(t,e):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return i[0],null===(n=i[1].textContent)||void 0===n?void 0:n.split(" ").some((function(e){return e===t}))}))}(t,e);return n.map((function(t){return t[0]}))}function dp(t,e,n){return hp(t,e).map((function(t){return[null,t,n]}))}function pp(t,e,n){var r=e.pathway.name,o="https://wikipathways.org/pathways/".concat(t),i='href="'.concat(o,'" target="_blank" style="margin-left: 4px;"'),a="<a ".concat(i,">").concat(r,"</a>"),s='class="_ideoPathwayCloseButton" '.concat('style="float: right; background-color: #aaa; border: none; color: white; font-weight: bold; font-size: 16px; padding: 0px 4px; border-radius: 3px; cursor: pointer;"'),c="<button ".concat(s,"}>x</button>"),l='<div class="_ideoPathwayHeader">'.concat(a).concat(c,"</div>");n.insertAdjacentHTML("afterBegin",l),document.querySelector("._ideoPathwayCloseButton").addEventListener("click",(function(t){document.querySelector("#".concat(sp)).remove()}))}function mp(t,e,n){return gp.apply(this,arguments)}function gp(){return gp=ip(np().mark((function t(e,n,r){var o,i,a,s,c,l,u,f,h,d,p,m,g,y,v,b,w,x,A,_,C,S,k,L=arguments;return np().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=L.length>3&&void 0!==L[3]?L[3]:{height:440,width:900},i=L.length>4&&void 0!==L[4]?L[4]:0,document.querySelector('script[src="'.concat(ap,'"]'))||up(),a="#".concat(sp),"undefined"!=typeof Pvjs){t.next=12;break}if(!(i<=40)){t.next=11;break}return setTimeout((function(){mp(e,n,r,o,i++)}),250),t.abrupt("return");case 11:throw Error("Pvjs is undefined.  Possible causes include unavailable network or CDN.");case 12:return t.next=14,cp(e);case 14:s=t.sent,c=hp(n,s)[0],hp(r,s)[0],l=dp(n,s,"red"),u=dp(r,s,"purple"),f=l.concat(u),h=document.querySelector(a),d=document.querySelector("#_ideogramOuterWrap"),h&&h.remove(),p=o.width,m=o.height,g="height: ".concat(m,"px; width: ").concat(p-2,"px;"),y="height: ".concat(m+20,"px; width: ").concat(p,"px;"),v="border: 0.5px solid #DDD; border-radius: 3px; position: relative; margin: auto; background-color: #FFF; z-index: 99; "+"".concat(y," margin: auto;"),b='<div id="_ideogramPvjsContainer" style="'.concat(g,'"></div>'),w='id="'.concat(sp,'" style="').concat(v,'" ')+'data-ideo-pathway-searched="'.concat(n,'" ')+'data-ideo-pathway-interacting="'.concat(r,'"'),x="<div ".concat(w,">").concat(b,"</div>"),d.insertAdjacentHTML("beforeEnd",x),A=document.querySelector(a),_=document.querySelector("#_ideogramPvjsContainer"),C={theme:"plain",opacities:[],highlights:f,panned:[c],zoomed:[c],pathway:s.pathway,entitiesById:s.entitiesById,detailPanelOpen:!1,selected:null},S=new Pvjs(_,C),pp(e,s,A),k=new CustomEvent("ideogramDrawPathway",{detail:{pathwayViewer:S,pwId:e,sourceGene:n,destGene:r,dimensions:o}}),document.dispatchEvent(k);case 40:case"end":return t.stop()}}),t)}))),gp.apply(this,arguments)}function yp(t){return Math.round(performance.now()-t)}function vp(){var t=this.annotDescriptions.annots,e=Object.values(t).slice(),n=e.filter((function(t){return t.type&&t.type.includes("paralogous")})),r=e.filter((function(t){return t.type&&t.type.includes("interacting gene")}));return{related:e,paralogous:n,interacting:r,searched:Object.entries(t).filter((function(t){return t[1].type&&t[1].type.includes("searched gene")}))[0][0]}}function bp(t){var e=this,n=performance.now()-e.time.prevTooltipOff,r=e.time.prevTooltipAnnotDomId;if(n<300&&t.domId===r)return null;var o=t.name,i=e.annotDescriptions.annots[t.name].type.split(" ")[0],a=wp(e);return Object.assign({tooltipGene:o,tooltipRelatedType:i},a)}function wp(t){var e=t.getRelatedGenesByType();return{numRelatedGenes:e.related.length,numParalogs:e.paralogous.length,numInteractingGenes:e.interacting.length,searchedGene:e.searched}}function xp(t){var e=wp(t),n=t.time.rg.total,r=t.time.rg.totalFirstPlot,o=t.time.rg.totalLastPlotDiff,i=t.time.rg.paralogs,a=t.time.rg.interactions,s=t.time.rg.searchedGene,c=t._relatedGenesFirstPlotType,l=Object.assign({firstPlotType:c,timeTotal:n,timeTotalFirstPlot:r,timeTotalLastPlotDiff:o,timeSearchedGene:s,timeInteractingGenes:a,timeParalogs:i},e);t.relatedGenesAnalytics=l}var Ap="#F55",_p="#A00",Cp="#922D5E",Sp="#D26D9E",kp="#CAA",Lp="#866",Tp="#FFC0CB",Ep="#CF909B",Op="#99D",Pp="#22C",jp="#CCF",Mp="#33D",Ip="#66B",Np="#116",Dp="#7D7",Fp="#393",Bp="#3A3",Rp="#060",Gp="#93E9BE",Hp="#53AC7E",Wp="#880ED4",qp="#5800A4",zp="#B24BF3",Up="#520B83",$p="#D7A1F9",Yp="#A771C9",Vp="#964B00",Xp="#660B00",Kp="#DACDBA",Qp="#A99A89",Jp="#FFA500",Zp="#DD8000";function tm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function em(t){return"_"===t[0][0]}var nm={_H:"Helical",_E:"Extracellular",_C:"Cytoplasmic"};function rm(t,e,n,r){var o=t[0],i=t[3],a=e.px.start+i.x,s=i.width;n||(a=e.px.length+e.px.start-(i.x+i.width));var c=30,l=14,u=em(t),f=function(t){return"S"===t[0]}(t),h="";if(r&&(c=38,u)){o=function(t){return t in nm?nm[t]:t.slice(1)}(t[0]),c=30,l=30;var d="".concat(t[0]," ").concat(t[1]," ").concat(t[2]);if((n&&i.x+i.width>e.px.length+3||!n&&i.x+i.width>e.px.length+3)&&(console.debug("Truncate protein topology feature: ".concat(d)),s-=i.x+i.width-e.px.length,n||(a+=s)),h='data-topology="true"',s<0)return console.debug("".concat("Width < 0, omit protein topology feature",": ").concat(d)),""}var p,m,g,y=(m="S"===(p=o)?["#FF2","#F99"]:"Extracellular"===p?["#EEF","#AAF"]:"Cytoplasmic"===p?["#FFFBCC","#CCC89A"]:"Helical"===p||p.startsWith("Helical ---")?[Kp,Qp]:"Lumenal"===p?["#FFEA66","#FFB466"]:"Lumenal, melanosome"===p?["#EEBB00","#A99A89"]:"Mitochondrial matrix"===p?["#DFD","#CDC"]:"Mitochondrial intermembrane"===p?["#BCB","#9A9"]:"Perinuclear space"===p?["#EEDDFF","#A771C9"]:"Nuclear"===p?[$p,Yp]:"Beta stranded"===p?[Op,Pp]:p.includes("conserved site")||p.includes("conserved domain")||"WGR domain"===p||"R3H domain"===p||p.includes("QLQ")||"Sema domain"===p||"Proteasome component (PCI) domain"===p||"Sterol-sensing domain"===p||"Erythropoietin/thrombopoietin"===p||"SPRY domain"===p||"Anaphylatoxin/fibulin"===p||"Tetratricopeptide repeat"===p||"Doublecortin domain"===p||p.includes("Glycosyl transferase")||p.toLowerCase().includes("lethal")&&p.toLowerCase().includes("c-terminal")||p.includes("PUB")||p.includes("Myogenic determination")||"Globin"===p||"GPS motif"===p||p.includes("D-like")||p.toLowerCase().includes("insertion domain")||"Macro domain"===p?[Cp,Sp]:p.includes("active site")||p.includes("hydroxylation site")||p.includes("catalytic domain")||p.includes("Lipid transport")||"BRCA1, serine-rich domain"===p||"Tower domain"===p||p.endsWith("attachment site")||p.endsWith("amyloid-beta peptide")||"Reverse transcriptase domain"===p||"Membrane attack complex component/perforin (MACPF) domain"===p||"Alpha-2-macroglobulin"===p||"Kinesin motor domain"===p||"Adenomatous polyposis coli tumour suppressor protein"===p||p.includes("endostatin")?[Ap,_p]:"Cyclin, C-terminal domain"===p||p.includes("OB C-terminal domain")||"Cationic amino acid transporter, C-terminal"===p||"High mobility group box domain"===p||"HMG-box domain"===p||p.includes("CUB domain")||"C-5 cytosine methyltransferase"===p||p.includes("(G-protein), alpha subunit")||"SCAN domain"===p||"Apolipoprotein A/E"===p||p.includes("Clusterin")||p.includes("SMAD domain")||"PLAC"===p||p.endsWith("tripeptidyl peptidase II")||"Prohormone convertase enzyme"===p||p.includes("rod domain")||"Osteopontin"===p||"SPRY-associated"===p||"C1q domain"===p||"OAR domain"===p||p.includes("FTO, C-terminal")||p.includes("ATPase, C-terminal")||p.includes("Hint domain")||"Laminin IV"===p||"NACHT-associated domain"===p||p.includes("FANCD2")||p.startsWith("Acyl-CoA")&&p.endsWith("C-terminal")||"Kinesin-like"===p||"GUCT"===p||p.includes("(APC) repeat")||p.includes("IP3R")?[kp,Lp]:p.includes("trypsin domain")||p.includes("scaffold dimerization")||p.includes("eIF-4 gamma, MA3")||"Troponin"===p||"SKI/SNO/DAC domain"===p||p.toLowerCase().includes("large ribosom")||p.includes("KA1")||"V(D)J recombination-activating protein 1"===p||p.toLowerCase().includes("opiod")||"Corticotropin-releasing factor"===p||p.includes("2Fe-2S ferredoxin")||p.includes("acidic domain")?["#E88","#A55"]:"EGF-like calcium-binding domain"===p||p.includes("PTX/LNS")||"HSR domain"===p||p.includes("MutS, clamp")||p.includes("S5 domain 2-like")||p.endsWith("CC1/2")||p.includes("MUN")||p.includes("second molybdopterin")?[Bp,Rp]:p.includes("binding site")||"EF-hand domain"===p||p.includes("EF hand-like")||"Zinc finger, nuclear hormone receptor-type"===p||p.includes("Serpin domain")||"Peptidase C14,  p20 domain"===p||"PWWP domain"===p||"Peptidoglycan binding-like"===p||"MAD homology 1, Dwarfin-type"===p||"F-actin binding"===p||p.includes("Glycoside hydrolase")&&p.endsWith("domain")||"p53 tumour suppressor family"===p||"Menin"===p||p.includes("von Hippel")&&p.includes("beta")||"Pointed domain"===p||p.includes("DNA binding")||"Helix-hairpin-helix domain"===p||"Helix-hairpin-helix motif"===p||"MIR motif"===p||"Rad52 family"===p||"Oxidoreductase FAD/NAD(P)-binding"===p||p.endsWith("NAD-binding")||p.endsWith("NAD binding")||p.includes("Bromo adjacent")||"HARP domain"===p||"FATC domain"===p||p.startsWith("XRN2-binding")||"SRCR-like domain"===p||p.includes("SRCR")||"Gamma-carboxyglutamic acid-rich (GLA) domain"===p||"Pterin-binding domain"===p||"Receptor, ligand binding region"===p||p.includes("DHEX domain")||"SANT/Myb domain"===p||p.includes("Forkhead-associated")||"Rap/Ran-GAP domain"===p||p.endsWith("C2 domain")||p.includes("tri-helix bundle domain")||p.includes("Cx50")||p.includes("tyrosine-rich")||"Filaggrin"===p?[Op,Pp]:p.includes("dehydrogenase, molybdopterin binding")||"Zinc finger CCHC HIVEP-type"===p||"Cyclin, N-terminal"===p||"MAD homology, MH1"===p||"Sodium ion transport-associated"===p||"Sodium ion transport-associated domain"===p||p.endsWith("head")||p.includes("Pleckstrin homology domain")||"PH domain"===p||p.endsWith("pleckstrin homology-like domain")||"DEP domain"===p||"Post-SET domain"===p||p.includes("Glycoside hydrolase")||"Pyridoxal phosphate-dependent decarboxylase"===p||p.includes("OB1")||p.includes("OB3")||p.includes("OB domain")||"Fork head domain"===p||"Histone deacetylase domain"===p||p.includes("MG1")||"Homocysteine-binding domain"===p||p.startsWith("Acyl-CoA")&&p.endsWith("N-terminal")||"Clathrin light chain"===p||"Hexokinase, N-terminal"===p?[jp,Mp]:p.includes("zinc-binding")||p.includes("DNA-binding")||"RUNT domain"===p||"G protein-coupled receptor, rhodopsin-like"===p||p.includes("CXC domain")||p.includes("Homeobox domain")||p.includes("BRCT domain")||p.includes("EF-hand")||"Laminin G domain"===p||"Peptidase C14, caspase non-catalytic subunit p10"===p||"ADD domain"===p||"PDZ domain"===p||"Krueppel-associated box"===p||"Ets domain"===p||"P domain"===p||p.includes("bHLH")||"Ras-associating (RA) domain"===p||"Ras-associating domain"===p||"Calcium/calmodulin-dependent protein kinase II, association-domain"===p||"Bromodomain"===p||"Bromodomain associated domain"===p||"SLIDE domain"===p||"Peptidase M24"===p||"Pentraxin-related"===p||p.includes("Notch ligand")||"Anti-proliferative protein"===p||p.includes("transpeptidase")||"Tuberin-type domain"===p||"Ras-like guanine nucleotide exchange factor, N-terminal"===p||p.includes("factor-binding protein")||p.includes("GPD")||"ELM2 domain"===p?[Ip,Np]:"SH2 domain"===p||p.includes("SH2-like domain")||p.includes("Furin-like")||p.includes("heparin-binding")||"SRCR domain"===p||"EGF-like domain"===p||"Basic leucine zipper domain, Maf-type"===p||p.startsWith("Leucine zipper")||p.includes("Interleukin")&&p.includes("propeptide")||"Sirtuin family"===p||"Amino acid/polyamine transporter I"===p||"Peptidase M10, metallopeptidase"===p||"Metallothionein"===p||"DDHD domain"===p||"Zinc finger C2H2-type"===p||"Zinc finger, PARP-type"===p||p.endsWith("tail domain")||"SET domain"===p||"Hamartin"===p||p.includes("von Hippel")&&p.includes("alpha")||p.includes("transactivation domain 2")||"Phosphopantetheine binding ACP domain"===p||"Multicopper oxidase, second cupredoxin domain"===p||"Helicase, C-terminal"===p||p.includes("Carboxylesterase")||p.includes("presequence")||p.endsWith("CC3")?[Dp,Fp]:"Insulin-like"===p||"Fibroblast growth factor family"===p||"Nerve growth factor-related"===p||"Transforming growth factor-beta, C-terminal"===p||"Telomere-length maintenance and DNA damage repair"===p||"PDGF/VEGF domain"===p||p.includes("SH3-RhoGEF")||p.includes("MG4")||p.includes("RING domain")||p.includes("RING-type")||p.startsWith("DEAD/DEAH")||"Laminin alpha, domain I"===p||p.toLowerCase().includes("nuclear/hormone receptor")||"P-type trefoil domain"===p||p.includes("KHDRBS")?[Bp,Rp]:"SH3 domain"===p||"Variant SH3 domain"===p||p.endsWith("SH3 domain")||p.includes("copper-binding")||"Sushi/SCR/CCP domain"===p||p.includes("Coagulation factor 5/8")||"Basic-leucine zipper domain"===p||"Basic region leucine zipper"===p||"Sirtuin family, catalytic core domain"===p||"Amine oxidase"===p||p.includes("peroxidase")||p.includes("lid domain")||p.includes("prodomain")||"Pre-SET domain"===p||p.includes("transactivation domain")||p.includes(" activation domain")||p.includes("activating region")||"Thioesterase"===p||p.toLowerCase().includes("thiored")||p.includes("esterase")||p.endsWith("Claudin superfamily")||"Retinoblastoma-associated protein, A-box"===p||p.includes("Between PH and SH2")||p.includes("inter-SH2")||"Chromogranin A/B/C"===p||p.toLowerCase().includes("helicase")||p.endsWith("pro-domain")||"Brix domain"===p||"Coagulation Factor Xa inhibitory site"===p||"Trypsin Inhibitor-like, cysteine rich domain"===p||"WIF domain"===p||p.toLowerCase().includes("cystatin")||"EGF domain"===p||"Axin beta-catenin binding"===p||"Peptidase M2, peptidyl-dipeptidase A"===p||p.endsWith("phosphatase domain")||"PIGA, GPI anchor biosynthesis"===p||p.startsWith("Acyl-CoA")&&p.endsWith("middle domain")||p.includes("(COR)")||"K Homology domain, type 2"===p||p.includes("Phox")||p.includes("PB1")||p.includes("multifunctional domain")||p.includes("MutS, core")||"RAP domain"===p||p.endsWith("CC5")||p.includes("first molybdopterin")?[Gp,Hp]:"Immunoglobulin-like domain"===p||p.toLowerCase().endsWith("immunoglobulin-like domain")||p.endsWith("Ig domain")||p.endsWith("Ig-like domain")||"Major facilitator superfamily domain"===p||p.includes("interface")||"Class I myosin tail homology domain"===p||"Myosin tail"===p||"Acyl transferase"===p||p.endsWith("transferase")||p.startsWith("Acyl-CoA")||"JAK, FERM F2 lobe domain"===p||"Sodium/solute symporter"===p||p.includes("foci domain")||p.includes("Receptor L-domain")||"Wnt"===p||"R-spondin, Fu-CRD domain"===p||p.endsWith("merisation domain")||p.endsWith("merization domain")||p.endsWith("merisation motif")||p.endsWith("merization motif")||p.endsWith("BTB/POZ domain")||p.includes("CBS domain")||"DZF domain"===p||"GS domain"===p||p.includes("kinase domain")||p.includes("FAT")||p.startsWith("von Willebrand factor, type A")||p.includes("VWA")||"Reeler domain"===p||"BMP/retinoic acid-inducible neural-specific protein"===p||"Low-density lipoprotein (LDL) receptor class A repeat"===p||"TILa domain"===p||p.includes("chromosome condensation")||"Immunoglobulin I-set"===p||"Kinesin-associated"===p||"SMCs flexible hinge"===p||p.includes("Cys-His rich domain")?[Tp,Ep]:"Immunoglobulin"===p||"Immunoglobulin domain"===p||"CD20-like family"===p||"Calponin homology domain"===p||p.endsWith("Calponin-homology domain")||p.includes("ATPase")||p.includes("ATP coupling domain")||p.includes("globular domain")||"Mitochondrial substrate/solute carrier"===p||"Major facilitator,  sugar transporter-like"===p||"Major facilitator, sugar transporter-like"===p||"Sodium:neurotransmitter symporter"===p||p.toLowerCase().includes("methyltransferase")||"Rhodanese-like domain"===p||p.startsWith("Thyroglobulin")||"Retinoblastoma-associated protein, B-box"===p||"C-type lectin-like"===p||"Galectin, carbohydrate recognition domain"===p||"VWFC domain"===p||p.includes("CFC domain")||"POLO box domain"===p||p.endsWith("domain 1")||p.endsWith("domain II")||"Fibronectin, type I"===p||"Cadherin-like"===p||"G-protein gamma-like domain"===p||"GoLoco motif"===p||"MyTH4 domain"===p||p.endsWith("isomerase")||"BTB/Kelch-associated"===p||"Stathmin family"===p?[$p,Yp]:"Immunoglobulin C1-set"===p||p.includes("GTPase")||"RGS domain"===p||"Major facilitator superfamily"===p||"Fibronectin type II domain"===p||p.includes("ectodomain")||p.endsWith("receptor domain")||p.endsWith("receptor domain 4")||"MAM domain"===p||"IPT domain"===p||p.endsWith("extracellular")||"Link domain"===p||p.includes("connector domain")||"WW domain"===p||"WHIM1 domain"===p||"TNFR/NGFR cysteine-rich region"===p||"Frizzled domain"===p||"Netrin module, non-TIMP type"===p||"CFTR regulator domain"===p||p.endsWith("domain 2")||"GNAT domain"===p||"NIDO domain"===p||"Myosin head, motor domain"===p||"von Willebrand domain, type D domain"===p||"Kinesin-like KIF1-type"===p||p.includes("Paxillin")||"Clathrin, heavy chain/VPS, 7-fold repeat"===p||"Collagen IV, non-collagenous"===p?[zp,Up]:"Fibronectin type III"===p||"Tissue factor"===p||"Immunoglobulin C2-set"===p||p.includes("immunoglobulin C2-set")||p.includes("protein interaction")||"SWIRM domain"===p||p.includes("(DSL) protein")||"Dishevelled protein domain"===p||p.endsWith("domain 3")||"DnaJ domain"===p||p.toLowerCase().includes("nuclear receptor")||"Gonadal family"===p?[Wp,qp]:"Immunoglobulin V-set domain"===p||p.includes("V-set domain")||p.includes("V-like")||"Frizzled/Smoothened, 7TM"===p||p.endsWith("domain 4")||"Integrin alpha-2"===p||"Calcium-activated potassium channel BK, alpha subunit"===p||p.includes("Dbl homology (DH) domain")||p.includes("Glycine rich")||p.toLowerCase().includes("exonuclease")||"WHIM2 domain"===p||p.includes("Coactivator CBP")||p.includes("cryptic polo")?["#51087E","#8138AE"]:"Desmoplakin, spectrin-like domain"===p||"Spectrin repeat"===p||p.endsWith("TED domain")||"Polyadenylate-binding protein/Hyperplastic disc protein"===p||p.includes(" cap domain")||p.toLowerCase().includes("agenet")||p.includes("TATA")||p.includes("Citron")||"RIH domain"===p||p.toLowerCase().includes("sclerostin")||"ZU5 domain"===p||"Piezo domain"===p||"Histone H2A/H2B/H3"===p?["#FF3","#AA0"]:"Armadillo"===p||p.includes("Apple domain")||"Protocadherin"===p||"DIX domain"===p||"Ferritin-like diiron domain"===p||"4Fe-4S dicluster domain"===p||"Transferrin-like domain"===p||"PAS domain"===p||"PAS fold"===p||"Polyketide synthase, dehydratase domain"===p||"Flavodoxin/nitric oxide synthase"===p||"Flavodoxin-like fold"===p||"G-patch domain"===p||"Chromo domain"===p||p.toLowerCase().includes("tudor")||"Cytochrome P450"===p||"Potassium channel domain"===p||"G2 nidogen/fibulin G2F"===p||p.includes("bait region")||"WWE domain"===p||p.endsWith("deiodinase")||"Cobalamin (vitamin B12)-binding domain"===p||"Laminin domain II"===p||"Troponin I residues 1-32"===p||"KI67R"===p||p.includes("FAD-binding")?[Jp,Zp]:p.includes("Kringle")||p.includes("Peptidase M12A")||"TGF-beta, propeptide"===p||p.includes("autopeptidase")||p.includes("GAIN")||"PIK-related kinase"===p||p.includes("(PIK) domain")||"LDLR class B repeat"===p||"Actin family"===p||"Ferritin/DPS protein domain"===p||"PAS fold-3"===p||"Polyketide synthase, ketoreductase domain"===p||p.startsWith("Heat shock protein")&&p.endsWith("family")||"BAG domain"===p||"MCM domain"===p||p.endsWith("reductase-like")||"Lipase"===p||"Phospholipase A2 domain"===p||"Notch domain"===p||p.includes("LCCL domain")||p.includes("SANT-like")||"VWF/SSPO/Zonadhesin-like, cysteine-rich domain"===p||"Kappa casein"===p||"Casein, alpha/beta"===p||"Natriuretic peptide"===p||"EMI domain"===p||"Neurohypophysial hormone"===p||"Synuclein"===p||p.includes("Hydroxymethylglutaryl-CoA reductase")||p.includes("Perilipin")||p.includes("lipase")||p.includes("CRAL")||p.includes("SAND")||p.toLowerCase().includes("hsp")||p.toLowerCase().includes("bombesin")?[Kp,Qp]:"Notch, NOD domain"===p||"Cadherin, Y-type LIR-motif"===p||"Protein patched/dispatched"===p||p.includes("membrane-proximal")||"LicD family"===p||p.includes("MoaB/Mog")?["#C87D32","#722810"]:p.includes("transmembrane domain")||p.includes("trans-membrane domain")||p.includes("Transmembrane protein")||p.includes("7TM")||"Major intrinsic protein"===p||p.includes("Triadin")||p.includes("Collectrin")||p.includes("membrane glycoprotein")||"SEA domain"===p||"CD36 family"===p||p.includes("CD34")||"Hypoxia-inducible factor, alpha subunit"===p||"Hypoxia-inducible factor, alpha subunit-like"===p||"PKD domain"===p||p.includes("regulatory domain")||p.endsWith("E2 domain")||"PLAT/LH2 domain"===p||"Notch, NODP domain"===p||"Syndecan/Neurexin domain"===p||"Zona pellucida domain"===p||p.includes("Ion transport domain")||p.endsWith("Membrane transport protein MMPL domain")||p.includes("Caveolin")||"Band 7 domain"===p||p.includes("Shisa")||"ABC-2 family transporter protein"===p||"Anoctamin"===p||"Sodium-dependent phosphate transport protein"===p||p.includes("MHC II-interacting")?[Vp,Xp]:"DAPIN domain"===p||"Death effector domain"===p||"Death domain"===p||p.includes("death protein")||p.toLowerCase().includes("lethal")||p.includes("UBA domain")||p.includes("HECT domain")||p.toLowerCase().includes("ubiquitin")||p.includes("necrosis")||p.toLowerCase().includes("death")||p.includes("Bcl-2")||p.includes("CIDE-N")||"Disintegrin domain"===p||p.includes("TRAF")||p.includes("TIR")||p.toLowerCase().includes("caspase")||"Pellino family"===p?["#888","#333"]:p.includes("unknown function")||p.toLowerCase().includes("unstructured")||p.startsWith("Uncharacterised")?["#AAA","#555"]:p.toLowerCase().includes("leucine rich repeat")||p.includes("HIN")||p.includes("calcium")||p.toLowerCase().includes("calreticulin")||p.includes("cytokine receptor")||p.includes("pore forming")||p.includes("RHIM")||p.includes("SWIB")||"Ryanodine receptor Ryr"===p||p.includes("Armadillo")||"UME domain"===p||p.includes("WD40 domain")||"WSTF/Acf1/Cbp146"===p||"BCL7"===p||p.endsWith("repeat ring region")||p.includes("PANDER")||"GPCR, rhodopsin-like, 7TM"===p||"GPCR, family 2, secretin-like"===p||"GPCR, family 3, nine cysteines domain"===p||"G-protein coupled receptor"===p||p.toLowerCase().includes("orexin")||"[2Fe-2S]-binding"===p?["#DD8300","#883000"]:p.includes("repeat")||"Vitellinogen, open beta-sheet"===p||p.includes("Interleukin")&&p.includes("family")||/Interleukin-\d+$/.test(p)||"Chemokine interleukin-8-like domain"===p||p.includes("beta-ribbon")||p.includes("cytoplasmic domain")||p.toLowerCase().includes("interleukin")||"Citrate transporter-like domain"===p||p.toLowerCase().includes("calsequestrin")?[Jp,Zp]:p.includes("inhibit")||p.includes("central")||p.endsWith("tail")||p.endsWith("helical domain")||p.endsWith("helical domain HD2")||p.endsWith("coiled-coil domain")||p.endsWith("coiled-coil region")||p.includes("zinc ribbon fold")||p.includes("zinc-ribbon")||p.toLowerCase().includes("anhydrase")||"Macroglobulin domain"===p||p.includes("KH0")||p.includes("EGF")||p.toLowerCase().includes("olfact")||p.toLowerCase().includes("mucin")?[Gp,Hp]:p.includes("Peptidase")||p.includes("Ras-binding")||p.includes("CRIB domain")?[Op,Pp]:p.toLowerCase().includes("zinc finger")||p.toLowerCase().includes("zinc-finger")||p.includes("RING finger")||p.toLowerCase().includes("transcription factor")||"Paired domain"===p||"JmjC domain"===p||"BRK domain"===p||p.includes("MG3")||p.toLowerCase().includes("polycomb")||p.toLowerCase().includes("metallopeptidase")||p.toLowerCase().includes("metallo-peptidase")||p.toLowerCase().includes("metalloenzyme")||"K Homology domain, type 1"===p||p.includes("winged helix")||p.toLowerCase().includes("dehydrogenase")||p.includes("BAR")||p.includes("metal")||p.includes("redoxin")?[Dp,Fp]:p.startsWith("Tyrosine-protein kinase receptor")||"PTB/PI domain"===p||p.endsWith("receptor")||p.includes("cysteine rich")||p.includes("cysteine-rich")||"AWS domain"===p||p.toLowerCase().includes("somatomedin b")||p.includes("MHC class II")&&!p.includes("C-terminal")?[zp,Up]:p.toLowerCase().includes("golgi")||"GOLD domain"===p||p.includes("deaminase")||p.includes("C-terminal core")||p.includes("nucleoside triphosphatase")||p.includes("globin")||p.includes("IspD/TarI")||"Telethonin"===p||p.includes("Sarcoglycan")||p.includes("toxin")||p.includes("ShKT")||p.includes("SAM")||p.includes("Sterile alpha motif")||p.includes("Unconventional myosin-X")||"CARD domain"===p||p.includes("endonuclease")||p.toLowerCase().includes("splicing factor")||p.toLowerCase().includes("interferon")||"Tropomyosin"===p||p.includes("R1 domain")?[Cp,Sp]:p.includes("TM")||p.toLowerCase().includes("transmembrane")||p.toLowerCase().includes("trans-membrane")?[Vp,Xp]:p.includes("binding domain")||p.includes("binding protein")?[Ip,Np]:p.includes("Ribosomal protein")||p.toLowerCase().includes("ribosomal subunit")||p.toLowerCase().includes("ribosom")||p.toLowerCase().includes("ribonuclease")?[Bp,Rp]:p.includes("lectin")||p.includes("recognition")||p.toLowerCase().includes("solute carrier")||p.includes("isomerase")||"Clathrin-H-link"===p?[$p,Yp]:p.startsWith("von Willebrand factor")||p.endsWith("receptor-binding")||p.toLowerCase().includes("link")||p.includes("basic domain")||p.includes("interacting")||p.includes("domain IV")||p.toLowerCase().includes("immunoglobulin domain")?[Wp,qp]:p.includes("transferase")||p.includes("merisation")?[Tp,Ep]:p.includes("oxygenase")?[Ap,_p]:p.includes("phosphatase")||p.includes("RNA polymerase")||p.includes("catenin")?[Gp,Hp]:p.includes("bind")||p.includes("EF")?[Op,Pp]:p.includes("C-termin")||p.includes("C termin")||p.includes("kinase")?[kp,Lp]:p.includes("N-termin")||p.includes("N-teminal")||p.includes("N termin")||p.toLowerCase().includes("decarboxylase")||p.toLowerCase().includes("hydrolase")||p.includes("PH domain")||p.includes("cytosolic")||p.toLowerCase().includes("homeobox")?[jp,Mp]:["#D8D8D8","#888"],g=2,function(t){if(Array.isArray(t))return t}(m)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(m,g)||function(t,e){if(t){if("string"==typeof t)return tm(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tm(t,e):void 0}}(m,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=y[0],b=y[1];f&&(o="Signal peptide",l=8,c+=3),u&&("Helical"===o?o="Transmembrane":o.startsWith("Helical --- Name=")&&(o=o.replace("Helical --- Name=","Transmembrane: ")));var w="".concat(t[2],"&nbsp;aa"),x='data-subpart="'.concat(o," ").concat(am," ").concat(w,'"'),A='x="'.concat(a,'" width="').concat(s,'" y="').concat(c,'" height="').concat(l,'"'),_='class="subpart domain'.concat(u?" topology":"",'" '),C=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=e+r,s='stroke="'.concat(o,'"'),c='x1="'.concat(t,'" x2="').concat(t,'" y1="').concat(e,'" y2="').concat(a,'" ').concat(s),l=t+n,u='x1="'.concat(l,'" x2="').concat(l,'" y1="').concat(e,'" y2="').concat(a,'" ').concat(s),f='<line class="subpart-line" '.concat(c," />"),h='<line class="subpart-line" '.concat(u," />"),d="",p="";if(i){var m='x1="'.concat(t,'" x2="').concat(l,'" y1="').concat(e,'" y2="').concat(e,'" ').concat(s),g='x1="'.concat(t,'" x2="').concat(l,'" y1="').concat(a,'" y2="').concat(a,'" ').concat(s);d='<line class="subpart-line" '.concat(m," />"),p='<line class="subpart-line" '.concat(g," />")}return f+h+d+p}(a,c,s,l,b,!u);return"<rect ".concat(_,' rx="1.5" fill="').concat(v,'" ').concat(A," ").concat(x," ").concat(h,"/>")+C}function om(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return im(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?im(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function im(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var am="<span style='color: #CCC'>|</span>",sm="5'-UTR",cm="3'-UTR",lm={"5'-UTR":20,exon:20,intron:20,"3'-UTR":20},um={"5'-UTR":"#155069",exon:"#DAA521",intron:"#FFFFFF00","3'-UTR":"#357089"},fm={"5'-UTR":"#70A099",exon:"#BA8501","3'-UTR":"#90C0B9"},hm={"5'-UTR":"five-prime-utr",exon:"exon","3'-UTR":"three-prime-utr",intron:"intron"},dm="<style>\n  ._ideoGeneStructureContainerName {\n    position: relative;\n    left: 45px;\n    margin-right: 20px;\n  }\n  ._ideoGeneStructureContainerName.pre-mRNA {\n    left: 70px;\n    margin-right: 70px;\n  }\n  ._ideoGeneStructureContainer rect:hover + line {\n    visibility: hidden;\n  }\n  ._ideoGeneStructureContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n  }\n  ._ideoGeneStructureContainer:hover ._ideoSpliceToggle {\n    visibility: visible;\n  }\n  ._ideoGeneStructureContainer ._ideoSpliceToggle {\n    visibility: hidden;\n  }\n  ._ideoSpliceToggle {\n    margin-left: 53px; background-color: #EEE;\n  }\n  ._ideoSpliceToggle.pre-mRNA {\n    margin-left: 43px; background-color: #F8F8F8;\n  }\n  ._ideoHoveredSubpart {\n    stroke: #D0D0DD !important; stroke-width: 3px;\n  }\n  #_ideoGeneStructureTip {\n    font-style: italic;\n  }\n\n  ".concat(tp,"\n\n  .tippy-box {\n    font-size: 12px;\n  }\n\n  .tippy-content {\n    padding: 3px 7px;\n  }\n  </style>"),pm='<span id="_ideoGeneStructureTip">Hover for details</span>';function mm(){return document.querySelector("._ideoGeneStructureFooter")}function gm(t){var e=mm(),n=t.querySelector("svg").getAttribute("data-ideo-footer");e.innerHTML="&nbsp;<br/>".concat(n)}function ym(t){var e=om(bm(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),2),n=e[0],r=e[1],o=0===r;document.querySelector("#_ideoGeneStructureMenu").options[r].selected=!0;var i=Hm(n,t,t.spliceExons)[0],a=document.querySelector("._ideoGeneStructureSvgContainer");a.innerHTML=i,Dm(t.spliceExons,o),gm(a),t.addedSubpartListeners=!1,Om(t),jm(t)}function vm(t){return t.split("-").slice(0,-1).join("-")}function bm(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=document.querySelector("#_ideoGeneStructureMenu");if(o){var i=o.options.length;(e=o.selectedIndex+r)>=i?e=0:e<0&&(e=i-1),n=o.options[e].value}else{var a=document.querySelector("._ideoGeneStructure");if(!a)return null;n=a.getAttribute("data-ideo-gene-structure-name"),e=0}var s=vm(n);return[t.geneStructureCache[s].find((function(t){return t.name===n})),e]}function wm(t){if("s"===t.key){var e=document.querySelector("._ideoSpliceToggle input");if(!e)return;var n=document.querySelector("#_ideoSubpartText");n&&(n.innerHTML="&nbsp;"),e.dispatchEvent(new MouseEvent("click"))}}function xm(t,e){var n=t.slice(),r=e?cm:sm,o=t.some((function(t){return t[0]===r}));return t.forEach((function(r,i){if(0!==i){var a=t[i-1],s=a[0]===cm,c=a[0]===sm;"exon"===r[0]&&o&&(!e&&s||e&&c)&&r[1]!==a[1]+a[2]-1&&2!==a[2]&&(n[i]=a,n[i-1]=r)}})),n}function Am(t,e){return t.classList.contains(e)}function _m(t,e,n,r){var o="five-prime-utr",i="three-prime-utr",a=Am(e,o),s=Am(e,i),c=!Am(t,i),l=!Am(t,o);return r&&(!n&&s&&c||n&&a&&l)}function Cm(t,e,n,r){var o=e[0]===sm,i=e[0]===cm,a=t[0]!==cm,s=t[0]!==sm;return r&&(!n&&i&&a||n&&o&&s)}function Sm(){var t="_ideoHoveredSubpart";document.querySelectorAll(".".concat(t)).forEach((function(e){return e.classList.remove(t)}))}function km(t){var e=Array.from(document.querySelectorAll("rect.subpart")),n="+"===document.querySelector("._ideoGeneStructure").getAttribute("data-ideo-strand"),r=function(t,e){var n,r=t.slice(),o=Array.isArray(t[0]);if(o){var i=e?cm:sm;n=t.some((function(t){return t[0]===i}))}else{var a=e?"three-prime-utr":"five-prime-utr";n=t.some((function(t){return Am(t,a)}))}return t.forEach((function(i,a){if(a!==r.length-1){var s=t[a+1];(o?Cm:_m)(i,s,e,n)&&(r.splice(a,1,s),r.splice(a+1,1,i))}})),r}(e,n);if(0!==r.length){var o,i="_ideoHoveredSubpart",a=document.querySelector(".".concat(i));if(!a)return t.stopPropagation(),void t.preventDefault();r.forEach((function(t,e){t.classList.contains(i)&&(o=e)}));var s,c={view:window,bubbles:!1,cancelable:!0},l=new MouseEvent("mouseenter",c),u=new MouseEvent("mouseleave",c),f=n?"ArrowLeft":"ArrowRight",h=n?"ArrowRight":"ArrowLeft";if(t.key===f?s="left":t.key===h&&(s="right"),void 0===s||function(t,e,n){var r="left"===n;return 0===t&&r||t===e.length-1&&!r}(o,r,s))return t.stopPropagation(),void t.preventDefault();Sm();var d=t.altKey,p=t.metaKey;if(t.key===f){a.dispatchEvent(u);var m=o-1;d&&(m=o-10<0?0:o-10),p&&(m=0),r[m].dispatchEvent(l)}else if(t.key===h){a.dispatchEvent(u);var g=r.length-1,y=o+1;d&&(y=o+10>g?g:o+10),p&&(y=g),r[y].dispatchEvent(l)}t.stopPropagation(),t.preventDefault()}}function Lm(){return document.querySelector("#_ideoGeneStructureMenuContainer")}function Tm(t,e){mm().innerHTML=t,jm(e)}function Em(t,e){var n=t;n.addEventListener("mouseenter",(function(t){Sm(),t.target.classList.add("_ideoHoveredSubpart");var r=mm();e.originalTooltipFooter=r.innerHTML;var o=n.getAttribute("data-subpart"),i=r.innerHTML.replace("&nbsp;","");Tm("<div ".concat('id="_ideoSubpartText"'," ").concat('style="margin-bottom: -10px; max-width: 260px;"','">').concat(o,"</div>").concat(i),e);var a=Lm();a&&(a.style.marginTop="")})),n.addEventListener("mouseleave",(function(t){t.target.classList.remove("_ideoHoveredSubpart"),Tm(e.originalTooltipFooter,e);var n=Lm();n&&(n.style.marginTop="4px")}))}function Om(t){var e=document.querySelectorAll("rect.subpart");if(0!==e.length){t.subparts=e;var n=document.querySelector("._ideoGeneStructureContainer");n.addEventListener("mouseenter",(function(){document.addEventListener("keydown",km),t.addedMenuListeners||(t.addedMenuListeners=!0,gm(n),document.querySelector("._ideogramTooltip").addEventListener("change",(function(){ym(t),t.oneTimeDelayTooltipHideMs=2e3})),t.tissueCache&&(document.querySelector("._ideoTooltipFooter").style.display="none"))})),n.addEventListener("mouseleave",(function(e){t.oneTimeDelayTooltipHideMs=2e3,t.tissueCache&&(document.querySelector("._ideoTooltipFooter").style.display="");var n=function(t){var e=document.querySelector("._ideogramTooltip").getBoundingClientRect(),n=t.screenX,r=t.screenY;return n>e.left&&n<e.right&&r>e.top&&r<e.bottom}(e);!0===n&&Tm(pm,t),t.addedMenuListeners=!1,document.removeEventListener("keydown",km)})),t.addedSubpartListeners||(t.addedSubpartListeners=!0,e.forEach((function(e){Em(e,t)})))}}function Pm(t){return{theme:"light-border",popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:t}}]},onShow:function(){document.querySelectorAll("[data-tippy-root]").forEach((function(t){return t.remove()}))}}}function jm(t){var e=Pm(["top-start","top"]);t.tippy=Zd("._ideoSpliceToggle[data-tippy-content]",e);var n=Pm(["bottom"]);n.popperOptions.modifiers.push({name:"offset",options:{offset:[-5,20]}});var r=Zd("._ideoMenuArrow[data-tippy-content]",n);t.tippy=t.tippy.concat(r)}function Mm(t){null!==bm(t)&&(function(t){document.addEventListener("keydown",wm);var e=document.querySelector("._ideoGeneStructureContainer"),n=document.querySelector("._ideoSpliceToggle");e&&n.addEventListener("change",(function(e){!function(t){t.spliceExons=!t.spliceExons;var e=t.spliceExons,n=om(bm(t),2),r=n[0],o=0===n[1],i=om(Hm(r,t,e),3),a=i[1],s=i[2],c=document.querySelector("#_ideoProtein");c&&!e&&(c.style.display="none");var l=document.querySelectorAll(".intron").length>0;e||l?document.querySelectorAll(".intron").forEach((function(t){return t.remove()})):function(t,e,n){var r=0,o=document.querySelectorAll(".subpart");t.forEach((function(t,n){var i=n-r;if(e[i][0]!==t[0]){var a=t[3].summary,s='y="'.concat(5,'" height="20" fill="#FFFFFF00" ').concat(a),c='<rect class="subpart intron" '.concat(s," />");o[i].insertAdjacentHTML("beforebegin",c),r+=1}})),document.querySelectorAll(".intron").forEach((function(t){Em(t,n)}))}(a,s,t),document.querySelectorAll(".subpart-line.rna").forEach((function(t){return t.remove()}));var u=e?s:a;ko.select("._ideoGeneStructure").selectAll(".subpart").data(u).transition().duration(750).attr("x",(function(t,e){return u[e][3].x})).attr("width",(function(t,e){return u[e][3].width})).on("end",(function(n,r){if(r===u.length-1){c&&e&&(c.style.display=""),document.querySelectorAll(".subpart:not(.domain)").forEach((function(t,e){var n=Gm(u[e]);t.insertAdjacentHTML("afterend",n)})),Dm(e,o);var i=document.querySelector("#_ideoTranscriptLengthBp");if(i){var a=Fm(u,e).toLocaleString();i.innerText="".concat(a," bp"),t.tippy[0].show()}}}))}(t),Om(t),e.stopPropagation()}))}(t),Om(t),function(t){document.querySelector("._ideoGeneStructureContainer").addEventListener("click",(function(e){"_ideoGeneStructureMenu"===e.target.id&&e.stopPropagation();var n=e.target;if("svg"===n.parentElement.tagName&&(n=n.parentElement),Array.from(n.classList).includes("_ideoMenuArrow")){var r=n.getAttribute("data-dir");ym(t,"down"===r?1:-1),e.stopPropagation()}}))}(t),function(t){var e=bm(t)[0].strand;if("+"!==e){var n=document.querySelector("._ideoTooltipFooter");n.innerText=n.innerText.replace(")",", ".concat(e,")"))}}(t),jm(t))}function Im(t){return t?"Unsplice exons (s)":"Splice exons (s)"}function Nm(t){var e="",n=" and protein",r="without";t||(e="pre-",n="",r="with");var o=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?"Alternative":"Canonical";return{title:"".concat(o," transcript per Ensembl, ").concat(r," introns"),name:"".concat(o," ").concat(e,"mRNA ").concat(n)}}function Dm(t,e){var n=document.querySelector("._ideoGeneStructureContainerName"),r=document.querySelector("._ideoSpliceToggle");if(n&&r){[n,r].forEach((function(t){return t.classList.remove("pre-mRNA")})),t||[n,r].forEach((function(t){return t.classList.add("pre-mRNA")}));var o=Nm(t,e),i=o.title,a=o.name;n.textContent=a,n.title=i}}function Fm(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.filter((function(t){return"exon"===t[0]}));e&&(t=n);var r=t.slice(-1)[0];return r[1]+r[2]+(e?n.length-1:0)}function Bm(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Fm(t)/250/(e?3:1),r=null!=e?e:t,o=0;o<r.length;o++){var i=r[o];if(3===i.length){var a=i[2],s=i[1]/n,c=a/n,l=i[0];r[o].push({type:l,x:s,width:c})}}return r}function Rm(t,e,n,r,o){"-"===r&&(n=e-n+1);var i=e>1?"".concat(n," of ").concat(e," "):"",a=t[0].toUpperCase()+t.slice(1),s=o.toLocaleString(),c="".concat(a," ").concat(i).concat(am," ").concat(s," bp");return'data-subpart="'.concat(c,'"')}function Gm(t){var e=t[0],n=t[3].x,r=5+lm[e],o='stroke="'.concat(fm[e],'"'),i='x1="'.concat(n,'" x2="').concat(n,'" y1="').concat(5,'" y2="').concat(r,'" ').concat(o);return'<line class="subpart-line rna" '.concat(i," />")}function Hm(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.strand,i=t.subparts,a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t[r],i=om(o.slice(1),2),a=i[0],s=i[1];if(a>n){var c=n,l=a-n-1;e.push(["intron",c,l])}n=a+s,e.push(o)}return Bm(e)}(i),s=function(t){for(var e=[],n=0,r=0,o=0;o<t.length;o++){var i=om(t[o],3),a=i[0],s=i[1],c=i[2],l=s===r,u=void 0,f=void 0;if(o>0){var h=om(t[o-1],3);u=h[1],f=h[2]}var d,p=(d=l?s:o>0&&s===u?r:o>0&&s<=u+f?r+f-c:n)+c,m=[a,d,c+1];e.push(m),n=p,r=d}return Bm(e)}(i);n=r?s:a;var c=document.querySelector("._ideoSpliceToggle");if(c){var l=Im(r);c.setAttribute("data-tippy-placement","right"),c.setAttribute("data-tippy-content",l),jm(e)}var u=[],f='x="0" width="'.concat(248,'" y="').concat(15,'" height="').concat(1,'"'),h='<rect fill="black" '.concat(f,"/>");u.push(h);var d={"5'-UTR":0,exon:0,intron:0,"3'-UTR":0},p={"5'-UTR":0,exon:0,intron:0,"3'-UTR":0},m="+"===o;n=xm(n,m),a=xm(a,m),s=xm(s,m);for(var g=0;g<n.length;g++){var y=n[g][0];y in p&&(p[y]+=1)}for(var v=0;v<n.length;v++){var b=n[v],w=b[0],x="black";w in um&&(x=um[w]);var A=lm[w],_=b[2],C=b[3].x,S=b[3].width,k='x="'.concat(C,'" width="').concat(S,'" y="').concat(5,'" height="').concat(A,'"'),L='class="subpart '.concat(hm[w],'" '),T=p[w];d[w]+=1;var E=Rm(w,T,d[w],o,_);r?"intron"!==w&&(s[v][3].summary=E):a[v][3].summary=E;var O="<rect ".concat(L,' rx="1.5" fill="').concat(x,'" ').concat(k," ").concat(E,"/>")+Gm(b);u.push(O)}var P="position: relative; width: 274px; margin: auto;",j='style="'.concat(P,' left: 10px;"');"-"===o&&(j='transform="scale(-1 1)" '+'style="'.concat(P,' left: -10px;"'));var M=t.name,I=vm(M),N=function(t,e,n){var r="_ideoGeneStructureMenuContainer",o="margin-bottom: 4px; margin-top: 4px; clear: both;",i=e.geneStructureCache[t];if(1===i.length){var a=i[0].name;return'<div id="'.concat(r,'" style="').concat(o,'">Transcript: ').concat(a,"</div>")}var s=i.map((function(t){var e=t.name,r="";return n&&n===t.name&&(r=" selected"),'<option value="'.concat(e,'" ').concat(r,">").concat(e,"</option>")})).join(""),c="_ideoGeneStructureMenu",l=function(){var t="width: 12px; height: 12px; cursor: pointer;user-select: none;",e='style="'.concat(t,'; margin-left: 5px;"'),n='style="'.concat(t,'; margin-left: 2px;"'),r='class="_ideoMenuArrow"',o='data-tippy-placement="bottom-start"',i='data-tippy-content="'.concat("Next transcript",'" ').concat(o),a='data-tippy-content="'.concat("Previous transcript",'" ').concat(o),s="".concat(e," ").concat(r,' data-dir="down" ').concat(i),c="".concat(n," ").concat(r,' data-dir="up" ').concat(a),l=Nc({shape:"triangle",color:"#888"},{config:{orientation:"down"}}),u=Nc({shape:"triangle",color:"#888"},{config:""});return"<svg ".concat(s,">").concat(l,"</svg>")+"<svg ".concat(c,">").concat(u,"</svg>")}();return'<div id="'.concat(r,'" style="').concat(o,'">')+'<label for="'.concat(c,'">Transcript:</label> ')+'<select id="'.concat(c,'" name="').concat(c,'">').concat(s,"</select>")+l+"</div>"}(I,e,M).replaceAll('"',"'"),D=function(t,e){var n;return null===(n=e.proteinCache[t])||void 0===n?void 0:n.some((function(t){return t.protein.some((function(t){return em(t)}))}))}(I,e),F=function(t,e,n,r,o){var i=[],a=vm(t),s=function(t,e){return e.config.showProteinInTooltip&&!("proteinCache"in e==0||t in e.proteinCache==0||"spliceExons"in e==0||!1===e.spliceExons)}(a,o);if(!s)return["<br/>",null];var c=o.proteinCache[a].find((function(e){return e.transcriptName===t}));if(!c)return["<br/>",null];for(var l=c.protein,u=function(t,e){e||(t=t.slice().reverse());var n,r,o=e?"5'-UTR":"3'-UTR",i=t.filter((function(t){return t[0]===o})).slice(-1)[0];i?(n=i[3].x+i[3].width,r=i[1]+i[2]):(n=0,r=0);var a,s,c=e?"3'-UTR":"5'-UTR",l=t.filter((function(t){return t[0]===c})).slice(-1)[0];if(l)a=l[3].x,s=l[1];else{var u=t.slice(-1)[0];a=u[3].x+u[3].width,s=u[1]+u[2]}return{px:{start:n,length:a-n},bp:{start:r,length:s-r}}}(e,n),f=Bm(e,l),h=[],d=0;d<f.length;d++){var p=f[d],m=em(p),g=rm(p,u,n,r);m?h.push(g):i.push(g)}var y=function(t,e){var n=e?"43":"35",r=e?"BBB":"DDD",o=e?"555":"777";return'<rect class="_ideoProteinLine"'+'x="'.concat(t.px.start,'" width="').concat(t.px.length,'" ')+'y="'.concat(n,'" height="4" ')+'fill="#'.concat(r,'" ')+'stroke="#'.concat(o,'" ')+"/>"}(u,r);return h.push(y),i=h.concat(i),['<g id="_ideoProtein">'.concat(i.join(""),"</g>"),null]}(M,n,m,D,e),B=om(F,2),R=B[0],G=B[1],H=Fm(n,r).toLocaleString(),W=["".concat(p.exon," exons"),"<span id='_ideoTranscriptLengthBp'>".concat(H," bp</span> ")];if(G){var q=G.toLocaleString();W.push("<span id='_ideoProteinLengthAa'>".concat(q," aa</span> "))}var z=t.biotype.replace(/_/g," ");"protein coding"!==z&&W.push(z);var U=N+W.join(" ".concat(am," ")),$=""===R?"30":"50";return D&&($="60"),['<svg class="_ideoGeneStructure" '+'data-ideo-gene-structure-name="'.concat(M,'" ')+'data-ideo-strand="'.concat(o,'" data-ideo-footer="').concat(U,'" ')+'width="'.concat(268,'" height="').concat($,'" ').concat(j)+">"+u.join("")+R+"</svg>",a,s]}function Wm(t){return Wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(t)}function qm(){qm=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(P([])));A&&A!==n&&r.call(A,a)&&(w=A);var _=b.prototype=y.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Wm(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?m:d,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Wm(e)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(_),l(_,c,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function zm(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Um(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){zm(i,r,o,a,s,"next",t)}function s(t){zm(i,r,o,a,s,"throw",t)}a(void 0)}))}}function $m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ym(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ym(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ym(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}window.swapUTRsForward=xm;var Vm={Arrow:["acts on","acted on by"],TBar:["inhibits","inhibited by"],"mim-binding":["binds","binds"],"mim-catalysis":["catalyzes","catalyzed by"],"mim-cleavage":["cleaves","cleaved by"],"mim-conversion":["converts","converted by"],"mim-gap":["interacts with","interacts with"],"mim-inhibition":["inhibits","inhibited by"],"mim-modification":["modifies","modified by"],"mim-necessary-stimulation":["necessarily stimulates","necessarily stimulated by"],"mim-stimulation":["stimulates","stimulated by"],"mim-transcription-translation":["transcribes / translates","transcribed / translated by"]};function Xm(t){return Object.values(t).find((function(t){return t.length>0&&"ixnType"in t[0]}))[0].ixnType.toLowerCase()}function Km(t,e){if(void 0===t||""===t)return[[],[]];var n=Array.from(t.querySelectorAll('DataNode[TextLabel="'.concat(e,'"]'))).map((function(t){return{type:"node",matchedLabel:e,textLabel:t.getAttribute("TextLabel"),graphId:t.getAttribute("GraphId"),groupRef:t.getAttribute("GroupRef")}})),r=n.map((function(t){return t.graphId})),o=n.map((function(t){return t.groupRef})).map((function(t){return'Group[GroupId="'.concat(t,'"]')})).join(","),i=[];if(""!==o){var a=t.querySelectorAll(o);i=Array.from(a).map((function(t){return{type:"group",matchedLabel:e,graphId:t.getAttribute("GraphId"),groupId:t.getAttribute("GroupId")}}))}var s=i.map((function(t){return t.graphId}));return[r.concat(s),n.concat(i)]}function Qm(t){return Jm.apply(this,arguments)}function Jm(){return Jm=Um(qm().mark((function t(e){var n,r,o,i,a,s,c;return qm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(navigator.onLine){t.next=2;break}return t.abrupt("return","");case 2:return n="".concat(e,".xml.gz"),r="https://cdn.jsdelivr.net/npm/ixn2/".concat(n),t.next=6,fetch(r);case 6:if((o=t.sent).ok){t.next=10;break}return console.log("Gracefully degrading as request failed for: ".concat(r)),t.abrupt("return","");case 10:return t.next=12,o.blob();case 12:return i=t.sent,t.t0=Uint8Array,t.next=16,i.arrayBuffer();case 16:return t.t1=t.sent,a=new t.t0(t.t1),s=Fi(Ni(a)),c=(new DOMParser).parseFromString(s,"text/xml"),t.abrupt("return",c);case 21:case"end":return t.stop()}}),t)}))),Jm.apply(this,arguments)}function Zm(t){var e={};Object.entries(t.annotDescriptions.annots).forEach((function(t){var n=$m(t,2),r=n[0],o=n[1];"type"in o&&o.type.includes("interacting gene")&&(e[r]=o.pathwayIds)}));var n={};Object.entries(e).forEach((function(t){var e=$m(t,2),r=e[0],o=e[1];n[r]={},o.map(function(){var t=Um(qm().mark((function t(e){var o;return qm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qm(e);case 2:o=t.sent,n[r][e]=o;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),t.gpmlsByInteractingGene=n}function tg(t,e){return null==t?e:"function"==typeof t?t:e=>e[t]}function eg(t,e=!1){const n=new Float64Array(5),r=new Float64Array(4);!function(t,e,n){const r=Float64Array.of(.84,1.8675,.84,-1.8675,-.34015,-.1299,-.34015,.1299),o=Math.exp(-1.783/n),i=Math.exp(-1.723/n),a=.6318/n,s=1.997/n,c=Float64Array.of(-o*Math.cos(a),o*Math.sin(a),-o*Math.cos(-a),o*Math.sin(-a),-i*Math.cos(s),i*Math.sin(s),-i*Math.cos(-s),i*Math.sin(-s)),l=2.5066282746310007*n,u=Float64Array.of(r[0],r[1],0,0,0,0,0,0),f=Float64Array.of(1,0,c[0],c[1],0,0,0,0,0,0);let h,d;for(d=2;d<8;d+=2){for(u[d]=c[d]*u[d-2]-c[d+1]*u[d-1],u[d+1]=c[d]*u[d-1]+c[d+1]*u[d-2],h=d-2;h>0;h-=2)u[h]+=c[d]*u[h-2]-c[d+1]*u[h-1],u[h+1]+=c[d]*u[h-1]+c[d+1]*u[h-2];for(h=0;h<=d;h+=2)u[h]+=r[d]*f[h]-r[d+1]*f[h+1],u[h+1]+=r[d]*f[h+1]+r[d+1]*f[h];for(f[d+2]=c[d]*f[d]-c[d+1]*f[d+1],f[d+3]=c[d]*f[d+1]+c[d+1]*f[d],h=d;h>0;h-=2)f[h]+=c[d]*f[h-2]-c[d+1]*f[h-1],f[h+1]+=c[d]*f[h-1]+c[d+1]*f[h-2]}for(d=0;d<4;++d)h=d<<1,e[d]=u[h]/l,t[d+1]=f[h+2]}(n,r,t);const o=Float64Array.of(0,r[1]-n[1]*r[0],r[2]-n[2]*r[0],r[3]-n[3]*r[0],-n[4]*r[0]),i=1+n[1]+n[2]+n[3]+n[4];return{sigma:t,negative:e,a:n,b_causal:r,b_anticausal:o,sum_causal:(r[0]+r[1]+r[2]+r[3])/i,sum_anticausal:(o[1]+o[2]+o[3]+o[4])/i}}function ng(t,e,n,r=1,o=new Float64Array(n),i=new Float64Array(n),a=new Float64Array(5),s=o,c=rg){const l=2*r,u=3*r,f=4*r,h=r*n;let d,p;for(c(o,e,n,r,t.b_causal,3,t.a,4,t.sum_causal,a,t.sigma),p=4,d=f;p<n;++p,d+=r)o[p]=t.b_causal[0]*e[d]+t.b_causal[1]*e[d-r]+t.b_causal[2]*e[d-l]+t.b_causal[3]*e[d-u]-t.a[1]*o[p-1]-t.a[2]*o[p-2]-t.a[3]*o[p-3]-t.a[4]*o[p-4];for(c(i,e,n,-r,t.b_anticausal,4,t.a,4,t.sum_anticausal,a,t.sigma),p=4,d=h-5*r;p<n;++p,d-=r)i[p]=t.b_anticausal[1]*e[d+r]+t.b_anticausal[2]*e[d+l]+t.b_anticausal[3]*e[d+u]+t.b_anticausal[4]*e[d+f]-t.a[1]*i[p-1]-t.a[2]*i[p-2]-t.a[3]*i[p-3]-t.a[4]*i[p-4];if(t.negative)for(p=0,d=0;p<n;++p,d+=r)s[d]=o[p]+i[n-p-1];else for(p=0,d=0;p<n;++p,d+=r)s[d]=Math.max(0,o[p]+i[n-p-1]);return s}function rg(t,e,n,r,o,i,a,s,c,l){const u=Math.abs(r)*n,f=r<0?u+r:0;let h,d,p;for(d=0;d<s;++d)for(l[d]=d<=i?o[d]:0,p=1;p<=s&&p<=d;++p)l[d]-=a[p]*l[d-p];for(p=0;p<s;++p)for(t[p]=0,d=1;d<=p;++d)h=f+r*d,h>=0&&h<u&&(t[p]+=l[p-d]*e[h]);const m=e[f];if(m>0)for(p=0;p<s;++p)t[p]+=l[p]*m}function og(t,e){const n=t.length;if(!n)return NaN;if((e=+e)<=0||n<2)return t[0];if(e>=1)return t[n-1];const r=(n-1)*e,o=Math.floor(r),i=t[o];return i+(t[o+1]-i)*(r-o)}function ig(t,e={}){const{adjust:n=1,pad:r=3,bins:o=512}=e,i=tg(e.x,(t=>t)),a=tg(e.weight,(()=>1/t.length));let s=e.bandwidth??n*function(t,e){const n=t.map(e).filter((t=>null!=t&&t>=t));n.sort(((t,e)=>t-e));const r=function(t){const e=t.length;let n,r=0,o=0,i=0;for(let a=0;a<e;++a){const e=t[a];n=e-o,o+=n/++r,i+=n*(e-o)}return r>1?Math.sqrt(i/(r-1)):NaN}(n),o=og(n,.25),i=og(n,.75),a=n.length,s=(i-o)/1.34;return 1.06*(Math.min(r,s)||r||Math.abs(o)||1)*Math.pow(a,-.2)}(t,i);const[c,l]=e.extent??function(t,e,n=0){const r=t.length;let o,i;for(let n=0;n<r;++n){const r=e(t[n],n,t);null!=r&&(void 0===o?r>=r&&(o=i=r):(r<o&&(o=r),r>i&&(i=r)))}return[o-n,i+n]}(t,i,r*s),u=function(t,e,n,r,o,i){const a=new Float64Array(i),s=(i-1)/(o-r);for(let o=0;o<t.length;++o){const c=t[o],l=e(c,o,t),u=n(c,o,t);if(!Number.isFinite(l)||!Number.isFinite(u))continue;const f=(l-r)*s,h=Math.floor(f),d=h+1;0<=h&&d<i?(a[h]+=(d-f)*u,a[d]+=(f-h)*u):-1===h?a[d]+=(f-h)*u:d===i&&(a[h]+=(d-f)*u)}return a}(t,i,a,c,l,o),f=(l-c)/(o-1),h=u.some((t=>t<0));let d,p=eg(s/f,h);function*m(t="x",e="y"){const n=g.grid(),r=1/f;for(let i=0;i<o;++i)yield{[t]:c+i*f,[e]:n[i]*r}}const g={[Symbol.iterator]:m,points:m,grid:()=>d||(d=ng(p,u,o)),extent:()=>[c,l],bandwidth(t){return arguments.length?(t!==s&&(s=t,d=null,p=eg(s/f,h)),g):s}};return g}function ag(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||sg(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sg(t,e){if(t){if("string"==typeof t)return cg(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cg(t,e):void 0}}function cg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var lg=48;function ug(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=function(t,e){for(var n=0,r=0;r<t.length;r++){var o=t[r],i=o.expression.max;if(e){if(o.tissue===e){n=i;break}}else i>n&&(n=i)}return n}(t,o),a=0;if(o){var s=t.find((function(t){return t.tissue===o}));a=s.expression.min}var c=["max","q3","median","q1","min"];return t.map((function(t){if(t.px={},n)for(var o=0;o<c.length;o++){var s=c[o],l=t.expression[s],u=e*(l-a)/(i-a)+r;Math.round(u)>e&&(t.px[s+"Raw"]=u,u+=e-u),u+=r,t.px[s]=u}else for(var f=t.expression.min,h=t.expression.max,d=0;d<c.length;d++){var p=c[d],m=t.expression[p],g=e*(m-f)/(h-f)+r;t.px[p]=g}return t})),t}function fg(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t[e],a=!1;o&&i>lg&&(i=49,a=!0);var s=a?12:t[e+"Height"];isNaN(s)&&(s=12);var c=r-s,l=c+n+.5,u=c+n+s,f="median"===e,h=t.max-t.min<=8&&f;return{x:i,y1:l,y2:u,style:h?"display: none":"",endStyle:a&&f||h?"display: none;":""}}function hg(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=t[0].toUpperCase()+t.slice(1),s=fg(e,t,r,o),c=s.x,l=s.y1,u=s.y2,f=s.style,h=""===f?"":'style="'.concat(f,'"'),d=$o(Zo(n,.55),n),p=i?'stroke-dasharray="3" ':"",m='x1="'.concat(c,'" y1="').concat(l,'" x2="').concat(c,'" y2="').concat(u,'" ').concat(h," ")+p+'class="_ideoExpression'.concat(a,'" ');return'<line stroke="'.concat(d,'" ').concat(m," />")}function dg(t,e,n,r){return[hg("median",t,r,e,n,!1),hg("q1",t,r,e,n,!0),hg("q3",t,r,e,n,!0)]}function pg(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t.expression.quantiles,a=t.px,s=t.samples,c=[];i.map((function(t,e){for(var n=0;n<t;n++)c.push(e)}));var l=ig(c,{bins:r,bandwidth:s>=70?.7:1.5}),u=Array.from(l).filter((function(t){return 0<=t.x&&t.x<=10}));if(0===u.length)return"";var f,h=Math.max.apply(Math,function(t){if(Array.isArray(t))return cg(t)}(f=u.map((function(t){return t.y})))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(f)||sg(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0].x,p=u.slice(-1)[0].x-d,m=(("maxRaw"in a?a.maxRaw:a.max)-a.min)/p,g=n+e,y=0,v=u.map((function(t,e){var r=(t.x-d)*m+a.min;o&&r>lg&&(r=lg);var i=n*(t.y/h),s=g-i;return e>0&&["q1","median","q3"].forEach((function(t){var e=a[t];y<e&&e<=r&&(a[t+"Height"]=i)})),y=r,"".concat(r,",").concat(s)})),b=a.max,w=a.min;o&&(a.max>lg&&(b=lg),a.min>lg&&(w=lg)),v.push(b+","+g),v.push(w+","+g);var x=v[0];return v.push(x),[v.join(" "),a]}function mg(t,e,n,r,o){var i=ag(pg(t,e,n,arguments.length>5&&void 0!==arguments[5]?arguments[5]:64),2),a=i[0],s=i[1],c='fill="'.concat(r,'" ')+'stroke="'.concat(o,'" ')+'points="'.concat(a,'" ')+'class="tissue-curve" '+'data-tissue-curve="'.concat(t.tissue,'"');return["<polyline ".concat(c," />"),s]}function gg(t,e){return 1+t*(e+2)}function yg(t,e,n){e=ug(e,48,!0,0);var r,o=12,i=function(t,e,n,r){var o=function(t){var e="https://www.gtexportal.org/home/gene/".concat(t),n='<a href="'.concat(e,'" ').concat('class="_ideoGtexLink"',' target="_blank">GTEx</a>');return"<i>Full detail: ".concat(n,"</i>")}(t);if(n.length<=3)return"<br/>".concat(o,"<br/><br/>");var i="<span ".concat('style="margin: 0 6px; color: #CCC;"',">|</span>").concat(o),a=r.showTissuesMore?"More...":"Less...",s="left: ".concat(r.showTissuesMore?-50:1,"px;"),c='style="position: relative; '.concat(s," ").concat("top: -1px;"," font-size: ").concat(12,'px"');return"<div ".concat(c,">")+'<a class="_ideoMoreOrLessTissue" '.concat('style="cursor: pointer;px;"',">").concat(a,"</a>")+"".concat(r.showTissuesMore?"":i)+"</div>"}(t,0,e,n),a=n.showTissuesMore?3:10,s=e.slice(0,a).map((function(e,n){r=gg(n,o);var i=function(t){var e=t.replace(/_/g," ").toLowerCase();return["ba24","ba9","basal ganglia","omentum","suprapubic","lower leg","cervical c-1"].forEach((function(t){return e=e.replace(t,"("+t+")")})),["ba24","ba9","ebv"].forEach((function(t){e=e.replace(t,t.toUpperCase())})),["adipose","artery","brain","breast","cells","cervix","colon","heart","kidney","muscle","nerve","skin","small intestine"].forEach((function(t){e=e.replace(t,t+" -")})),e=(e=e.replace("basal ganglia","BG"))[0].toUpperCase()+e.slice(1)}(e.tissue),a="#".concat(e.color),s=Zo(a,.85),c=ag(mg(e,r,o,a,s),2),l=c[0],u=ag(dg(c[1],r,o,a),1)[0],f='data-tissue="'.concat(e.tissue,'"'),h='height="'.concat(14,'" ')+'width="'.concat(48,'px" ')+'fill="#FFF" opacity="0" x="0" '+'y="'.concat(r,'" ')+'data-gene="'.concat(t,'" ')+f,d='y="'.concat(r+o,'" ')+'style="font-size: '.concat(o,'px;" ')+'x="'.concat(58,'" ')+f;return'<g data-group-tissue="'.concat(e.tissue,'">')+"<text ".concat(d,">").concat(i,"</text>")+l+u+"<rect ".concat(h,' class="_ideoExpressionTrace" />')+"</g>"})).join(""),c="";t in n.geneStructureCache||(c='style="margin-bottom: 10px;"');var l="".concat('class="_ideoTissuePlotTitle"',' style="margin-bottom: 4px;"');return'<div class="_ideoTissuePlotContainer" '.concat(c,">")+'<div class="_ideoTissueExpressionPlot" '.concat('style="margin-top: 15px; margin-bottom: -15px;"',">\n        <div ").concat(l,'>Reference expression by tissue</div>\n        <svg width="275" height="').concat(r+o+2,'" ').concat('style="position: relative; left: 10px"',">").concat(s,"</svg>\n        ").concat(i,"\n      </div>")+"</div>"}function vg(t,e){var n=t.getAttribute("data-tissue");document.querySelector('text[data-tissue="'.concat(n,'"]')).setAttribute("fill",e)}function bg(t){var e=document.querySelector("._ideoMoreOrLessTissue");e&&e.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),t.showTissuesMore=!t.showTissuesMore,function(t){var e=document.querySelector("._ideoTissueExpressionPlot").parentElement,n=document.querySelector("#ideo-related-gene").innerText,r=yg(n,t.tissueExpressionsByGene[n],t);e.innerHTML=r,bg(t)}(t)}));var n=document.querySelectorAll("._ideoExpressionTrace");n.forEach((function(e){e.addEventListener("mouseenter",(function(){vg(e,"#338"),wg(e,t),function(t,e){var n=t.getAttribute("data-gene"),r=t.getAttribute("data-tissue"),o=e.tissueExpressionsByGene[n].find((function(t){return t.tissue===r}));o=ug([o],225,!1,35)[0];var i,a="#".concat(o.color),s=ag(mg(o,1,50,a,Zo(a,.85),256),2),c=s[0],l=ag(dg(s[1],0,50,a),3),u=l[0],f=l[1],h=l[2],d=function(t){var e=t.px.min,n=t.expression.min,r=t.px.max,o=t.expression.max,i=t.px.median,a=t.expression.median,s=r/2,c='stroke="#CCC" stroke-width="1px"',l={config:{weight:400,annotLabelSize:12}},u=r-qo("Max",l).width/2,f=r-qo(o,l).width/2,h='x1="'.concat(r,'" x2="').concat(r,'" y1="').concat(52,'" y2="').concat(60,'" ').concat(c),d="<line ".concat(h," />")+'<text x="'.concat(u,'" y="').concat(71,'">').concat("Max",".</text>")+'<text x="'.concat(f,'" y="').concat(82,'">').concat(o,"</text>"),p=qo("Min",l).width,m=qo(n,l).width,g=e-p/2,y=e-m/2,v=e+p,b='x1="'.concat(e,'" x2="').concat(e,'" y1="').concat(52,'" y2="').concat(60,'" ').concat(c),w=i-qo("Median",l).width/2,x=i-qo(a,l).width/2,A='x1="'.concat(i,'" x2="').concat(i,'" y1="').concat(52,'" y2="').concat(60,'" ').concat(c),_=w,C=x;v>=_&&(_=i,C=i),v>=_&&(_+=1.5,C+=1.5,g=e-p-1.5,y=e-m-1.5);var S="<line ".concat(A," />")+'<text x="'.concat(_,'" y="').concat(71,'">Median</text>')+'<text x="'.concat(C,'" y="').concat(82,'">').concat(a,"</text>"),k="<line ".concat(b," />")+'<text x="'.concat(g,'" y="').concat(71,'" >').concat("Min",".</text>")+'<text x="'.concat(y,'" y="').concat(82,'" >').concat(n,"</text>"),L='x="'.concat(s-40,'" y="').concat(101,'"'),T='x="'.concat(s-70,'" y="').concat(114,'"');return"<g>"+k+d+S+"<text ".concat(L,">Expression (TPM)</text>")+"<text ".concat(T,">Samples: ").concat(t.samples," | Source: GTEx</text>")+"</g>"}(o),p=document.querySelector("._ideoGeneStructureContainer"),m=document.querySelector("._ideoTooltipFooter");p?(i=p,p.style.display="none",m.style.display="none"):(i=m,document.querySelector("._ideoTissuePlotContainer").setAttribute("style","margin-bottom: 20px"));var g='style="position: relative; height: '.concat(119.5,'px"'),y='<div class="_ideoDistributionContainer" '.concat(g,">")+'<svg width="280px" height="'.concat(119.5,'px" ').concat('style="position: absolute; top: 2px; left: -5px;"',">")+d+c+u+f+h+"</svg></div>";i.insertAdjacentHTML("beforebegin",y)}(e,t)})),e.addEventListener("mouseleave",(function(){vg(e,"#000"),wg(n[0],t,!0),function(){var t=document.querySelector("._ideoDistributionContainer");if(t){t.remove();var e=document.querySelector("._ideoGeneStructureContainer");e&&(e.style.display=""),document.querySelector("._ideoTooltipFooter").style.display=""}}()}))}))}function wg(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.getAttribute("data-gene"),o=n?null:t.getAttribute("data-tissue"),i=e.showTissuesMore?3:10,a=e.tissueExpressionsByGene[r];(a=ug(a,48,!0,0,o).slice(0,i)).forEach((function(t,e){var r=t.tissue,o=a.find((function(t){return t.tissue===r})),i=gg(e,12),s=!n,c=ag(pg(o,i,12,64,s),2),l=c[0],u=c[1];a[e].points=l;var f=fg(u,"median",i,12,s);a[e].medianLine=f})),ko.select("._ideoTissueExpressionPlot").selectAll("polyline").data(a).transition().duration(500).attr("points",(function(t,e){return a[e].points})),ko.select("._ideoTissueExpressionPlot").selectAll("._ideoExpressionMedian").data(a).attr("style",(function(t,e){return a[e].medianLine.style})).transition().duration(500).attr("x1",(function(t,e){return a[e].medianLine.x})).attr("x2",(function(t,e){return a[e].medianLine.x})).attr("y1",(function(t,e){return a[e].medianLine.y1})).attr("y2",(function(t,e){return a[e].medianLine.y2})).attr("style",(function(t,e){return a[e].medianLine.endStyle}))}function xg(t){return xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(t)}function Ag(){Ag=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(P([])));A&&A!==n&&r.call(A,a)&&(w=A);var _=b.prototype=y.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==xg(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?m:d,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(xg(e)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(_),l(_,c,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function _g(t){return function(t){if(Array.isArray(t))return Tg(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Lg(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cg(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Sg(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Cg(i,r,o,a,s,"next",t)}function s(t){Cg(i,r,o,a,s,"throw",t)}a(void 0)}))}}function kg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||Lg(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lg(t,e){if(t){if("string"==typeof t)return Tg(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tg(t,e):void 0}}function Tg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Eg(t,e,n,r,o){var i;return i="geneCache"in o&&e.name?t.toLowerCase()in o.geneCache.nameCaseMap:function(t,e){return""!==t&&!t.includes(" ")&&!t.includes("/")&&t.toLowerCase()!==e.name.toLowerCase()}(t,e),i&&!(n in r)}function Og(t,e){return Pg.apply(this,arguments)}function Pg(){return Pg=Sg(Ag().mark((function t(e,n){var r,o,i,a,s,c,l,u,f,h,d,p,m,g,y;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},o={},i=n.config.organism.replace(/-/g," "),a=e.name.toUpperCase(),s={result:[]},!n.interactionCache){t.next=9;break}a in n.interactionCache&&(s=n.interactionCache[a]),t.next=23;break;case 9:return c="https://cdn.jsdelivr.net/npm/ixn2/".concat(a,".json.gz"),t.next=12,fetch(c);case 12:if(!(l=t.sent).ok){t.next=23;break}return t.next=16,l.blob();case 16:return u=t.sent,t.t0=Uint8Array,t.next=20,u.arrayBuffer();case 20:t.t1=t.sent,f=new t.t0(t.t1),s=JSON.parse(Fi(Ni(f)));case 23:return s.result.forEach((function(t){if(t.species.toLowerCase()===i){var a=t.fields.right.values,s=t.fields.left.values,c=a.concat(s),l=t.name,u=t.id,f=Sl(c.map((function(t){return{name:t,color:""}})),n).map((function(t){return t.name}));f.forEach((function(t){var i=t.toLowerCase();if(!i.includes(e.name.toLowerCase())){var a=l+u+i;if(Eg(i,e,a,o,n)){o[a]=1;var s={name:l,pathwayId:u};i in r?r[i].push(s):r[i]=[s]}}}))}})),h=Object.entries(r),d=h.length,p={},d>20?(m=n.geneCache.interestingNames.map((function(t){return t.toLowerCase()})),g=Object.keys(r),y=g.map((function(t){var e=1e10;return m.includes(t)&&(e=m.indexOf(t)+1),[t,e]})).filter((function(t){var e=kg(t,2),n=e[0];return e[1],n in r})).sort((function(t,e){return t[1]-e[1]})),y.slice(0,20).forEach((function(t){var e=kg(t,2),n=e[0];return e[1],p[n]=r[n]}))):p=r,t.abrupt("return",p);case 30:case"end":return t.stop()}}),t)}))),Pg.apply(this,arguments)}function jg(t){return Mg.apply(this,arguments)}function Mg(){return(Mg=Sg(Ag().mark((function t(e){var n,r;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,fetch("https://mygene.info/v3/query"+e+"&size=400");case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ig(t){var e=t.name,n=t.genomic_pos.ensemblgene,r=n;return void 0===n&&(r=t.genomic_pos.filter((function(t){return!t.chr.includes("_")}))[0].ensemblgene),{name:e,ensemblId:r}}function Ng(t,e,n){var r=[],o=[],i="";if(void 0!==e){var a=e.map((function(t){"".concat("https://classic.wikipathways.org/index.php/Pathway:").concat(t.pathwayId),r.push(t.pathwayId),o.push(t.name);var e='class="ideo-pathway-link" style="cursor: pointer" title="View pathway diagram from WikiPathways" '+'data-pathway-id="'.concat(t.pathwayId,'"');return"<a ".concat(e,">").concat(t.name,"</a>")}));a=a.join("<br/>"),i="Interacts with ".concat(n.name," in:<br/>").concat(a)}var s=Ig(t),c=s.name;return{description:i,ixnsDescription:i,ensemblId:s.ensemblId,name:c,type:"interacting gene",pathwayIds:r,pathwayNames:o}}function Dg(t,e){var n=e.organismScientificName;throw Error('"'.concat(t,'" is not a known gene in ').concat(n))}function Fg(t,e){var n;if(!e.synonymCache)return null;var r=t.toLowerCase();if(null===(n=e.synonymCache)||void 0===n||!n.nameCaseMap){var o={};for(var i in e.synonymCache.byGene){var a=e.synonymCache.byGene[i];o[i.toLowerCase()]=a.map((function(t){return t.toLowerCase()}))}e.synonymCache.nameCaseMap=o}var s=e.synonymCache.nameCaseMap;for(var c in s)if(s[c].includes(r))return e.geneCache.nameCaseMap[c];return null}function Bg(t,e,n){var r=n.geneCache,o="symbol"===e,i=o?r.lociByName:r.lociById,a=o?r.idsByName:r.namesById;return t.map((function(t){var e=t.toLowerCase();if(!i[t]&&!r.nameCaseMap[e]&&!Fg(t,n)){if(!o)return;Dg(t,n)}var s=!1,c=null;o&&!i[t]&&(r.nameCaseMap[e]?t=r.nameCaseMap[e]:(t=Fg(c=t,n),s=!0));var l=i[t],u=o?t:a[t],f=o?a[t]:t;return{symbol:u,name:r.fullNamesById[f],source:"cache",genomic_pos:{chr:l[0],start:l[1],end:l[2],ensemblgene:f},isSynonym:s,synonym:c}})).filter((function(t){return void 0!==t}))}function Rg(t){return new Promise((function(e){return setTimeout(e,t)}))}function Gg(t,e,n,r){return Hg.apply(this,arguments)}function Hg(){return(Hg=Sg(Ag().mark((function t(e,n,r,o){var i,a;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=Wg[e])>n)){t.next=4;break}throw new TypeError("Failed to fetch from Ideogram third-party service for: "+e);case 4:return Wg[e]+=1,s=i,c=500,l=void 0,l=10*Math.random(),a=Math.round(c+l)*Math.pow(s,2),console.log("Failed fetch for ".concat(e," ").concat(i," times, ")+"retrying in ".concat(a," ms")),t.next=10,Rg(a);case 10:return t.next=12,r.apply(void 0,_g(o));case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}var s,c,l}),t)})))).apply(this,arguments)}var Wg={genes:0};function qg(t,e,n){return zg.apply(this,arguments)}function zg(){return zg=Sg(Ag().mark((function t(e,n,r){var o,i,a,s,c,l;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof e&&(e=[e]),i=e.map((function(t){return"".concat(n,":").concat(t.trim())})).join(" OR "),a=r.config.taxid,s="?q=".concat(i,"&species=").concat(a,"&fields="),!r.geneCache){t.next=10;break}(c=Bg(e,n,r)).forEach((function(t){var e=t.symbol,n=t.name,o=t.isSynonym,i=t.synonym;e in r.annotDescriptions.annots?(r.annotDescriptions.annots[e].name=n,r.annotDescriptions.annots[e].isSynonym=t.isSynonym,r.annotDescriptions.annots[e].synonym=t.synonym):r.annotDescriptions.annots[e]={name:n,isSynonym:o,synonym:i}})),o={hits:c,fromGeneCache:!0},t.next=24;break;case 10:return l="".concat(s,"symbol,genomic_pos,name"),t.prev=11,t.next=14,jg(l);case 14:o=t.sent,t.next=24;break;case 17:if(t.prev=17,t.t0=t.catch(11),"Failed to fetch"!==t.t0.message||!navigator.onLine){t.next=24;break}return t.next=23,Gg("genes",3,qg,[e,n,r]);case 23:o=t.sent;case 24:return t.abrupt("return",o);case 25:case"end":return t.stop()}}),t,null,[[11,17]])}))),zg.apply(this,arguments)}function Ug(t,e,n){return $g.apply(this,arguments)}function $g(){return($g=Sg(Ag().mark((function t(e,n,r){var o,i;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=[],0!==(i=Object.keys(e)).length){t.next=4;break}return t.abrupt("return",o);case 4:return t.next=6,qg(i,"symbol",r);case 6:return t.sent.hits.forEach((function(t){if("genomic_pos"in t!=0&&t.symbol!==n.name){var i=ty(t,r,"purple");o.push(i);var a=e[t.symbol.toLowerCase()];cy(i,Ng(t,a,n),r)}})),Zm(r),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Yg(t,e,n){return Vg.apply(this,arguments)}function Vg(){return(Vg=Sg(Ag().mark((function t(e,n,r){var o,i,a;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],i=e.length&&"string"==typeof e[0],a=i?e:e.map((function(t){return t.id})),t.next=5,qg(a,"ensemblgene",r);case 5:return t.sent.hits.forEach((function(t){if("genomic_pos"in t!=0&&"name"in t!=0){var e=ty(t,r,"pink");o.push(e);var i=r.tissueCache?"":"Paralog of ".concat(n.name),a=Ig(t),s=a.name;cy(e,{description:i,ensemblId:a.ensemblId,name:s,type:"paralogous gene"},r)}})),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xg(t,e){t=oy(t,e),e.drawAnnots(t,"overlay",!0,!0),ry(e)}function Kg(t,e){var n;if(e.config.showParalogNeighborhoods){if((null===(n=e.neighborhoodAnnots)||void 0===n?void 0:n.length)>0)return e.neighborhoodAnnots.forEach((function(t){e.annotDescriptions.annots[t.name]=t})),void Xg(e.neighborhoodAnnots,e);var r=e.relatedAnnots[0];if((t=oy(t,e)).unshift(r),!(t.length<2)){var o={};o[t[0].chr]={},o[t[0].chr][t[0].start]=[t[0]];for(var i=1;i<t.length;i++){var a=t[i],s=a.chr,c=a.start;if(s in o)for(var l=Object.keys(o[s]),u=0;u<l.length;u++){var f=parseInt(l[u]);Math.abs(c-f)<2e6?o[s][f].push(a):o[s][c]=[a]}else o[s]={},o[s][c]=[a]}var h=15e6,d=r.name,p=Object.entries(o).map((function(t,n){var o=kg(t,2),i=o[0],a=o[1],s=parseInt(Object.keys(a)[0]),c=Object.values(a)[0];if(c.length<2)return{paralogs:c};var l=!1;c[0].name===r.name&&(c=c.slice(1),l=!0);var u="paralog"+(c.length>1?"s":""),f="".concat(c.length," nearby ").concat(u," of ").concat(d),p=e.chromosomes[e.config.taxid][i].bpLength,m=s-75e5,g=s+75e5;g>p?(m=s-h,g=p):m<1&&(m=1,g=h),"geneCache"in e&&(c=c.map((function(t){t.fullName=e.geneCache.fullNamesById[t.id];var n=e.geneCache.interestingNames;return n.includes(t.name)?t.rank=n.indexOf(t.name)+1:t.rank=1e10,t})));var y="paralogNeighborhood-"+n,v=s.toLocaleString(),b={name:y,chr:i,start:m,stop:g,color:"pink",description:f,paralogs:c,type:"paralog neighborhood",displayCoordinates:"chr".concat(i,":").concat(v," ± ").concat("2 Mbp"),includesSearched:l};return e.annotDescriptions.annots[b.name]=b,b})).filter((function(t){return t.paralogs.length>1||t.includesSearched}));e.neighborhoodAnnots=p,p.length>0&&Xg(p,e)}}}function Qg(t,e){return Jg.apply(this,arguments)}function Jg(){return(Jg=Sg(Ag().mark((function t(e,n){var r,o,i,a,s,c,l,u;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.config.taxid,!n.paralogCache){t.next=8;break}i=n.paralogCache.paralogsByName,a=e.name.toUpperCase(),o=a in i?i[a]:[],t.next=14;break;case 8:return s="&format=condensed&type=paralogues&target_taxon=".concat(r),c="/homology/id/".concat(e.id,"?").concat(s),t.next=12,Ideogram.fetchEnsembl(c);case 12:l=t.sent,o=l.data[0].homologies;case 14:return t.next=16,Yg(o,e,n);case 16:return u=(u=t.sent).filter((function(t){return!t.name.match(/^AC[0-9.]+$/)})),t.abrupt("return",u);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Zg(t,e){return Array.isArray(t.genomic_pos)?t.genomic_pos.filter((function(t){return t.chr in e.chromosomes[e.config.taxid]}))[0]:t.genomic_pos}function ty(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"red",r=Zg(t,e);return{name:t.symbol,chr:r.chr,start:r.start,stop:r.end,id:r.ensemblgene,color:n}}function ey(t){var e,n=t.innerText.toLowerCase();return n.includes("interacting")&&(e="interacting"),n.includes("paralogous")&&(e="paralogous"),n.includes("searched")&&(e="searched"),e}function ny(t){function e(e){(function(t,e){t.classList+=" active";var n=function(t){return{interacting:"purple",paralogous:"pink",searched:"red"}[ey(t)]}(t);if(e.config.showAnnotLabels){e.clearAnnotLabels(),e.flattenAnnots().forEach((function(t){t.color!==n&&(document.getElementById(t.domId).style.display="none")}));var r=e.flattenAnnots().sort((function(t,n){return e.annotSortFunction(t,n)})).filter((function(t){return t.color===n})),o=Math.min(r.length,20);e.fillAnnotLabels(r,o)}})(e.target,t),t.onHoverLegendCallback&&t.onHoverLegendCallback()}function n(){!function(t){if(document.querySelectorAll("#_ideogramLegend li").forEach((function(t){t.classList.remove("active")})),t.flattenAnnots().forEach((function(t){document.getElementById(t.domId).style.display=null})),t.config.showAnnotLabels){var e=t.flattenAnnots().sort((function(e,n){return t.annotSortFunction(e,n)}));t.fillAnnotLabels(e)}}(t)}document.querySelectorAll("#_ideogramLegend li._ideoLegendEntry").forEach((function(t){t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",n);var r=ey(t),o='data-tippy-content="'.concat({interacting:"Adjacent to searched gene in a biochemical pathway, per WikiPathways",paralogous:"Evolutionarily related to searched gene by a duplication event, per Ensembl"}[r],'" ').concat(""),i='style="'.concat("position: inherit; left: inherit",'"'),a='class="_ideoLegendEntry" '.concat(i," ").concat(o);"paralogous"===r?t.innerHTML="<span ".concat(a,">Paralogous genes</span>"):"interacting"===r&&(t.innerHTML="<span ".concat(a,">Interacting genes</span>"))}));var r="<style>\n    ".concat(tp,"\n\n    .tippy-box {\n      font-size: 12px;\n    }\n\n    .tippy-content {\n      padding: 3px 7px;\n    }\n\n    #_ideogramLegend li {\n      padding-left: 5px;\n      border-radius: 2px;\n    }\n\n    #_ideogramLegend li.active {\n      color: #00C;\n      background-color: #EEF;\n    }\n    </style>");document.querySelector("#_ideogramLegend").insertAdjacentHTML("afterBegin",r);var o=ti();o.maxWidth=180,o.offset=[-30,10],t.legendTippy=Zd("._ideoLegendEntry[data-tippy-content]",o)}function ry(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.querySelector("#_ideogramInnerWrap"),r=Cy({}).legendPad,o="position: absolute; top: 15px; left: ".concat(r+20+e,"px"),i=document.querySelector("#_ideogramLegend");n.prepend(i),i.style=o,ny(t)}function oy(t,e){if("all"===e.config.annotsInList)return t;var n=[];return t.forEach((function(t){e.config.annotsInList.includes(t.name.toLowerCase())&&n.push(t)})),n}function iy(t,e){return new Promise(function(){var n=Sg(Ag().mark((function n(r){var o,i,a,s;return Ag().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=performance.now(),n.next=3,Og(t,e);case 3:return a=n.sent,n.next=6,Ug(a,t,e);case 6:s=n.sent,(o=e.relatedAnnots).push.apply(o,_g(s)),hy("interacting",e),e.time.rg.interactions=yp(i),Kg(s,e),r();case 12:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}function ay(t,e){return new Promise(function(){var n=Sg(Ag().mark((function n(r){var o,i,a;return Ag().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=performance.now(),n.next=3,Qg(t,e);case 3:a=n.sent,(o=e.relatedAnnots).push.apply(o,_g(a)),hy("paralogous",e),Kg(a,e),e.time.rg.paralogs=yp(i),r();case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}function sy(t,e){var n,r;"name"in t?(t.name,e.name,n=t.color,r=e.color):(n=[t[0],t[3]][1],r=[e[0],e[3]][1]);if("initRank"in t==0){if("red"===n)return-1;if("red"===r)return 1;if("purple"===n&&"pink"===r)return-1;if("purple"===r&&"pink"===n)return 1}return t.rank-e.rank}function cy(t,e,n){var r,o=n.annotDescriptions.annots;if(t.name in o){var i=o[t.name];if(r=e,e.type===i.type)return;Object.keys(i).forEach((function(t){t in r==0&&(r[t]=i[t])})),"type"in i&&!n.tissueCache&&(r.type+=", "+i.type,r.description+="<br/><br/>".concat(i.description))}else r=e;n.annotDescriptions.annots[t.name]=r}function ly(t,e,n){setTimeout((function(){n<40&&(e.tissueCache?uy(t,e):ly(t,e,n+1))}),50)}function uy(t,e){return fy.apply(this,arguments)}function fy(){return fy=Sg(Ag().mark((function t(e,n){var r,o,i;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.tissueCache){t.next=3;break}return ly(e,n,0),t.abrupt("return");case 3:return r={},o=n.tissueCache,i=[],e.forEach(function(){var t=Sg(Ag().mark((function t(e){var a;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Promise(function(){var t=Sg(Ag().mark((function t(i){var a;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.getTissueExpressions(e,n);case 2:a=t.sent,r[e]=a,i();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i.push(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=9,Promise.all(i);case 9:n.tissueExpressionsByGene=r;case 10:case"end":return t.stop()}}),t)}))),fy.apply(this,arguments)}function hy(t,e){var n,r,o=e.relatedAnnots;if(o.length>1&&e.onFindGenesCallback&&e.onFindGenesCallback(),n={},r=[],o.forEach((function(t){t.name in n==0?(r.push(t),n[t.name]=1):"purple"===t.color&&(r=r.map((function(e){return t.name===e.name?t:e})))})),function(t,e){t=oy(t,e),e.drawAnnots(t)}(o=r,e),e.config.showAnnotLabels){var i=e.flattenAnnots().sort((function(t,n){return e.annotSortFunction(t,n)}));e.fillAnnotLabels(i)}ry(e),function(t,e){if("pathway"!==t){var n=e.getRelatedGenesByType(),r={paralogous:"interacting",interacting:"paralogous"}[t],o=n[t].length,i=n[r]?n[r].length:0;if(e._didRelatedGenesFirstPlot)if(o>0&&i>0){var a=e.time.rg.timestampFirstPlot;e.time.rg.totalLastPlotDiff=yp(a)}else o>0&&0===i?(e.time.rg.timestampFirstPlot=performance.now(),e.time.rg.totalFirstPlot=yp(e.time.rg.t0),e._relatedGenesFirstPlotType=t,e.time.rg.totalLastPlotDiff=0):(0===o&&i>0||(e._relatedGenesFirstPlotType="searched"),e.time.rg.totalLastPlotDiff=0);else e._didRelatedGenesFirstPlot=!0,e.time.rg.totalFirstPlot=yp(e.time.rg.t0),o>0&&(e.time.rg.timestampFirstPlot=performance.now(),e._relatedGenesFirstPlotType=t)}}(t,e)}function dy(t,e){return py.apply(this,arguments)}function py(){return(py=Sg(Ag().mark((function t(e,n){var r,o,i,a,s,c,l;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=performance.now(),t.next=3,qg(e,"symbol",n);case 3:if(0!==(o=t.sent).hits.length){t.next=6;break}return t.abrupt("return");case 6:return i=o.hits.find((function(t){var e=Zg(t,n);return e&&e.ensemblgene})),a=i.genomic_pos.ensemblgene,s={description:"",ensemblId:a,type:"searched gene"},i.symbol in n.annotDescriptions.annots?(c=n.annotDescriptions.annots[i.symbol],s=Object.assign(c,s)):s.name=i.name,n.annotDescriptions.annots[i.symbol]=s,l=ty(i,n),n.relatedAnnots.push(l),n.time.rg.searchedGene=yp(r),t.abrupt("return",l);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function my(t){var e=document.querySelector(t.config.container);e.style.visibility="",e.style.position="absolute",e.style.width="100%";var n=document.querySelector("#_ideogramInnerWrap");n.style.position="relative",n.style.marginLeft="auto",n.style.marginRight="auto",n.style.overflowY="hidden",document.querySelector("#_ideogramMiddleWrap").style.overflowY="hidden";var r=t.config.legendPad;if(void 0===t.didAdjustIdeogramLegend){var o=document.querySelector("#_ideogram");n.style.maxWidth=parseInt(n.style.maxWidth)+160+r+"px",o.style.minWidth=parseInt(o.style.minWidth)+r+"px",o.style.maxWidth=parseInt(o.style.minWidth)+r+"px",o.style.position="relative",o.style.left="160px",t.didAdjustIdeogramLegend=!0}}function gy(t,e){var n=t.getScientificName(t.config.taxid),r=Ideogram.version,o=["# ".concat(e),"# Organism: ".concat(n),"# Generated by Ideogram.js version ".concat(r,", https://github.com/eweitz/ideogram"),"# Generated at ".concat(window.location.href)].join("\n");delete t.annotDescriptions,t.annotDescriptions={headers:o,annots:{}}}function yy(){return vy.apply(this,arguments)}function vy(){return vy=Sg(Ag().mark((function t(){var e,n,r,o,i,a,s=arguments;return Ag().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this,e=s.length>0&&void 0!==s[0]?s[0]:null){t.next=4;break}return t.abrupt("return",ky());case 4:return n.clearAnnotLabels(),(r=document.querySelector("#_ideogramLegend"))&&r.remove(),n.config=Cy(n.config),gy(n,"Related genes for ".concat(e)),o=n.selector,i=o+" .annot",document.querySelectorAll(i).forEach((function(t){return t.remove()})),n.startHideAnnotTooltipTimeout(),document.querySelectorAll(".chromosome").forEach((function(t){t.style.cursor=""})),my(n),n.relatedAnnots=[],n.neighborhoodAnnots=[],t.next=19,dy(e,n);case 19:return void 0===(a=t.sent)&&Dg(e,n),n.config.legend=Ay,Bc(n),ry(n),t.next=26,Promise.all([iy(a,n),ay(a,n)]);case 26:n.time.rg.total=yp(n.time.rg.t0),xp(n),n.onPlotFoundGenesCallback&&n.onPlotFoundGenesCallback();case 29:case"end":return t.stop()}}),t,this)}))),vy.apply(this,arguments)}function by(t){return Object.entries(t.annotDescriptions.annots).find((function(t){var e=kg(t,2);return e[0],"searched gene"===e[1].type}))[0]}var wy="triangle";function xy(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n='<div style="'.concat("font-size: 14px; font-weight: bold; font-color: #333;",'">').concat(t,"</div>");return e&&(n=e),'\n    <div style="position: relative; left: 30px;">\n      '.concat(n,"\n      <i>Click gene to search</i>\n    </div>\n  ")}var Ay=[{name:xy("Related genes"),nameHeight:50,rows:[{name:"Interacting gene",color:"purple",shape:wy},{name:"Paralogous gene",color:"pink",shape:wy},{name:"Searched gene",color:"red",shape:wy}]}],_y=(xy("Related genes"),[{name:xy("Highly cited genes"),nameHeight:30,rows:[]}]);function Cy(t){return t.legendPad=t.showAnnotLabels?70:30,t}var Sy={chrWidth:9,chrHeight:100,chrLabelSize:12,annotationHeight:7,showFullyBanded:!1,rotatable:!1,legend:Ay,chrBorderColor:"#333",chrLabelColor:"#333",onBeforeDrawAnnots:function(){var t=this;!function(t){var e=[],n=t.chromosomesArray.map((function(t){return t.name}));if("relatedAnnots"in t){t.relatedAnnots=oy(t.relatedAnnots,t);var r={};t.relatedAnnots=t.relatedAnnots.filter((function(t){return!(t.name in r)&&(r[t.name]=1,!0)}))}var o={};t.annots.forEach((function(e){var n=e.annots.sort((function(e,n){return-t.annotSortFunction(e,n)}));o[e.chr]=n}));var i={};Object.entries(o).forEach((function(t){var r=kg(t,2),o=r[0],a=r[1];i[o]={chr:o,annots:[]},a.forEach((function(t,e){var r=n.indexOf(o);t.domId=al(r,e),i[o].annots.push(t)})),e.push(i[o])})),t.annots=e}(t);for(var e=[],n=t.annots,r=0;r<n.length;r++)for(var o=n[r].annots,i=0;i<o.length;i++){var a,s=o[i];if(e.push(s.name),t.config.colorMap&&null!==(a=s.differentialExpression)&&void 0!==a&&a.length){var c=t.config.colorMap,l=s.differentialExpression[0].group;s.color=c[l],t.annots[r].annots[i]=s}}uy(e,t)},onWillShowAnnotTooltip:function(t){var e,n,r=this;if(t.name===(null===(e=r.prevClickedAnnot)||void 0===e?void 0:e.name)&&r.isTooltipCooling)return null;var o=r.annotDescriptions.annots[t.name];"related"===r.config.relatedGenesMode&&(o=function(t,e,n){if("type"in e&&e.type.includes("interacting gene")){var r=e.pathwayIds,o=by(n),i=n.gpmlsByInteractingGene[t.name],a=function(t,e,n,r){var o=null;if(!navigator.onLine)return"Interacts with";var i=function(t,e,n,r){var o={};return n.map((function(n){var i=r[n],a=function(t,e,n){if(void 0===n||""===n)return[];var r=$m(Km(n,e),2),o=r[0],i=r[1],a=$m(Km(n,t),2),s=a[0],c={searchedGene:i,interactingGene:a[1]},l=o.concat(s),u={searchedGeneGraphIds:o,matchingGraphIds:l},f=[],h=n.querySelectorAll("Interaction Graphics");return Array.from(h).forEach((function(t){var e=function(t,e){var n=null,r=e.searchedGeneGraphIds,o=e.matchingGraphIds,i=[],a=0,s=!1,c=null,l=null;return Array.from(t.children).forEach((function(t){if("Point"===t.nodeName){var e=t,n=e.getAttribute("GraphRef");if(null!==n&&o.includes(n)&&(a+=1,i.push(n),r.includes(n)&&(s=!0),e.getAttribute("ArrowHead"))){var u=e.getAttribute("ArrowHead"),f=r.includes(n);null===l&&(l=f?0:1);try{c=Vm[u][f?0:1]}catch(t){}}}})),a>=2&&s&&(null!==l&&null!==c||(c="interacts with"),c=c[0].toUpperCase()+c.slice(1),n={interactionId:t.parentNode.getAttribute("GraphId"),endIds:i,ixnType:c}),n}(t,u);null!==e&&(e.elements=c,f.push(e))})),f}(t,e,i);o[n]=a})),o}(t,e,n,r),a=i[n[0]];if(a.length>0){var s={ixnsByPwid:i,isSameByPwid:{},isSame:null,isDirectionSameByPwid:{},isDirectionSame:null,directionsByPwid:{}};s=function(t){var e=!0,n=t.ixnsByPwid,r=Xm(n);return Object.entries(n).map((function(n){var o=$m(n,2),i=o[0],a=function(t,e){var n=!0,r=!0;if(0===t.length)return{isRefMatch:n,thisIsSame:r};var o=t[0].ixnType.toLowerCase();return t.forEach((function(t){var i=t.ixnType.toLowerCase();i!==e&&(n=!1),i!==o&&(r=!1)})),{isRefMatch:n,thisIsSame:r}}(o[1],r),s=a.isRefMatch,c=a.thisIsSame;c&&s||(e=!1),t.isSameByPwid[i]=c})),t.isSame=e,t}(s),s.isSame?o=a[0].ixnType:(s=function(t){var e=!0,n=[],r=[];Object.values(Vm).forEach((function(t){r.push(t[0]),n.push(t[1])}));var o="Acts on",i="Acted on by",a=t.ixnsByPwid,s=Xm(a),c=r.includes(s)?o:i;return Object.entries(a).map((function(n){var a=$m(n,2),s=a[0],l=a[1],u=!0;if(l.length>0){var f=l[0].ixnType.toLowerCase(),h=r.includes(f)?o:i;l.forEach((function(n){var a=n.ixnType.toLowerCase(),l=r.includes(a)?o:i;t.directionsByPwid[s]=l,l!==c&&(e=!1),l!==h&&(u=!1)}))}t.isDirectionSameByPwid[s]=u})),t.isDirectionSame=e,!0===e&&(t.direction=c),t}(s),o=s.isDirectionSame?s.direction:"Interacts with")}return o}(t.name,o,r,i);null!==a&&(e.description=e.description.replace("Interacts with",a))}return e}(t,o,r));var i=o.description.length>0?"<br/>".concat(o.description):"",a=o.name,s="color: #0366d6; cursor: pointer;",c=a;if("rank"in t){var l="Ranked "+t.rank+" in general or scholarly interest";c='<span title="'.concat(l,'">').concat(a,"</span>")}var u="";if(null!==(n=o)&&void 0!==n&&n.isSynonym){var f=o.synonym;u="<div ".concat('style="font-style: italic"',">Synonym: ").concat(f,"</div>")}var h=t.name.includes("paralogNeighborhood"),d=function(t,e,n){var r="",o=t.name;if(e.config.showGeneStructureInTooltip&&!n&&"geneStructureCache"in e!=0&&o in e.geneStructureCache!=0){e.addedSubpartListeners=!1,"spliceExons"in e==0&&(e.spliceExons=!0);var i=e.spliceExons,a=Hm(e.geneStructureCache[o][0],e,i)[0],s=function(t){var e=t.spliceExons,n='class="_ideoSpliceToggle '.concat(e?"":"pre-",'mRNA"'),r=e?"checked":"",o=Im(e),i='data-tippy-content="'.concat(o,'" ').concat('data-tippy-placement="right"'),a='type="checkbox" '.concat(r," ")+'style="display: none;"',s="".concat(n," ").concat('style="position: relative; top: -10px; user-select: none; float: right; cursor: pointer; font-size: 16px; padding: 2px 4px; border: 1px solid #CCC; border-radius: 3px;"'," ").concat(i);return"<label ".concat(s,"><input ").concat(a," />&#x2702;</label>")}(e),c='class="_ideoGeneStructureContainerName'.concat(i?"":" pre-mRNA",'"'),l=Nm(i),u=l.name,f=l.title,h="".concat(c,' title="').concat(f,'"');r="<br/><br/>"+dm+"<div ".concat('class="_ideoGeneStructureContainer"',">")+"<div><span ".concat(h,">").concat(u,"</span>").concat(s,"</div>")+'<span class="_ideoGeneStructureSvgContainer" '.concat("",">")+a+'</span><div class="_ideoGeneStructureFooter">'+pm+"</div></div>"}return r}(t,r,h),p=function(t,e){if(!e.tissueCache||!(t.name in e.tissueCache.byteRangesByName))return"<br/>";void 0===e.showTissuesMore&&(e.showTissuesMore=!0);var n=t.name,r=e.tissueExpressionsByGene[n];return r?yg(n,r,e):void 0}(t,r),m='<span id="_ideoGeneSymbolAndFullName">\n      <span id="ideo-related-gene" style="'.concat(s,'">').concat(t.name,"</span><br/>")+"".concat(c,"<br/>\n    </span>")+u+i+p+d;if(h){var g=function(t,e,n){var r=e.paralogs.sort((function(t,e){return t.rank-e.rank})),o="Paralog neighborhood<br/><br/>"+e.description+":<br/>"+"".concat(r.map((function(t){var e="";if(t.fullName&&(e=t.fullName),t.rank){var r=t.rank;e+=" &#013;Ranked ".concat(r," in general or scholarly interest")}return""!==e&&(e='title="'.concat(e,'"')),'<span class="ideo-paralog-neighbor" '.concat(e,' style="').concat(n,"\"'>").concat(t.name,"</span>")})).join("<br/>"))+"<br/>";return t.displayCoordinates=e.displayCoordinates,[t,o]}(t,o,s),y=kg(g,2);t=y[0],m=y[1]}return t.displayName=m,t},onDidShowAnnotTooltip:function(){var t,e,n=this;n.tissueCache&&((t=document.querySelector("#_ideogramTooltip")).getBoundingClientRect().top>(e=document.querySelector("#_ideogram").getBoundingClientRect().top)&&(t.style.top=e+"px")),function(t){var e=document.querySelector("._ideogramTooltip");t.addedTooltipClickHandler||(e.addEventListener("click",(function(e){if(!["input","label"].includes(e.target.localName)){var n=document.querySelector("#ideo-related-gene");n||(n=e.target);var r=function(t,e){var n;return e.annots.forEach((function(e){e.annots.forEach((function(e){t===e.name&&(n=e)}))})),null===n&&(n=e.annotDescriptions.annots[t]),n}(n.textContent,t);t.onClickAnnot(r)}})),t.addedTooltipClickHandler=!0)}(n),Mm(n),bg(n),function(t){var e=document.querySelectorAll(".ideo-pathway-link");e.length>0&&!t.addedPathwayClickHandler&&e.forEach((function(e){e.addEventListener("click",(function(e){mp(e.target.getAttribute("data-pathway-id"),by(t),document.querySelector("#ideo-related-gene").textContent),e.stopPropagation()}))}))}(n),n.tissueTippy=Zd("._ideoGeneTissues[data-tippy-content]",ti())},showTools:!0,showAnnotLabels:!0,chrFillColor:{centromere:"#DAAAAA"}};function ky(){var t=this;if(t&&!("annotDescriptions"in t)){t.annotDescriptions={annots:{}},t.flattenAnnots().map((function(e){var n=[];"significance"in e&&"n/a"!==e.significance&&n.push(e.significance),"citations"in e&&void 0!==e.citations&&n.push(e.citations),n=n.join("<br/><br/>"),t.annotDescriptions.annots[e.name]={description:n,name:decodeURIComponent(e.fullName)}})),my(t),ry(t,-60);var e=t.config.container;if(document.querySelector(e).style.visibility="",t.config.showAnnotLabels){var n=t.flattenAnnots().sort((function(e,n){return t.annotSortFunction(e,n)}));t.fillAnnotLabels(n)}}}function Ly(t,e,n){if("all"!==n&&(n=n.map((function(t){return t.toLowerCase()}))),e.annotsInList=n,t.legendPad=t.showAnnotLabels?80:30,"onWillShowAnnotTooltip"in e){var r="onWillShowAnnotTooltip",o=e[r],i=t[r];t[r]=function(t){return t=i.bind(this)(t),o.bind(this)(t)},delete e[r]}if("onDidShowAnnotTooltip"in e){var a="onDidShowAnnotTooltip",s=e[a],c=t[a];t[a]=function(t){return t=c.bind(this)(t),s.bind(this)(t)},delete e[a]}if("onBeforeDrawAnnots"in e){var l="onBeforeDrawAnnots",u=e[l],f=t[l];t[l]=function(){f&&f.bind(this)(),u.bind(this)()},delete e[l]}if("onDrawAnnots"in e){var h="onDrawAnnots",d=e[h],p=t[h];t[h]=function(){p&&p.bind(this)(),d.bind(this)()},delete e[h]}var m,g=Object.assign(t,e),y=new Ideogram(g);return e.onFindGenes&&(y.onFindGenesCallback=e.onFindGenes),e.onPlotFoundGenes&&(y.onPlotFoundGenesCallback=e.onPlotFoundGenes),e.onHoverLegend&&(y.onHoverLegendCallback=e.onHoverLegend),y.getTooltipAnalytics=bp,y.annotSortFunction=sy,(m=y).time={rg:{t0:performance.now()}},"_didRelatedGenesFirstPlot"in m&&delete m._didRelatedGenesFirstPlot,y}function Ty(t){return Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ty(t)}function Ey(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Oy(){Oy=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:k(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(P([])));A&&A!==n&&r.call(A,a)&&(w=A);var _=b.prototype=y.prototype=Object.create(w);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ty(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=L(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?m:d,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=m,r.method="throw",r.arg=l.arg)}}}function L(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ty(e)+" is not iterable")}return v.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(_),l(_,c,"Generator"),l(_,a,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function Py(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,My(r.key),r)}}function My(t){var e=function(t){if("object"!=Ty(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ty(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ty(e)?e:e+""}var Iy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.configure=ni,this.initDrawChromosomes=Ts,this.onLoad=Os,this.handleRotateOnClick=Es,this.init=Fs,this.finishInit=Oa,this.writeContainer=As,this.onLoadAnnots=mc,this.onDrawAnnots=gc,this.processAnnotData=ll,this.restoreDefaultTracks=Zc,this.updateDisplayedTracks=tl,this.initAnnotSettings=bl,this.fetchAnnots=Al,this.drawAnnots=Rc,this.getHistogramBars=jc,this.drawHeatmaps=fc,this.deserializeAnnotsForHeatmap=dc,this.fillAnnots=_l,this.drawProcessedAnnots=Gc,this.drawSynteny=Jc,this.startHideAnnotTooltipTimeout=vc,this.showAnnotTooltip=Ac,this.onWillShowAnnotTooltip=bc,this.onDidShowAnnotTooltip=wc,this.onClickAnnot=xc,this.setOriginalTrackIndexes=el,this.afterRawAnnots=wl,this.downloadAnnotations=gl,this.addAnnotLabel=Tc,this.removeAnnotLabel=Oc,this.fillAnnotLabels=Ec,this.clearAnnotLabels=Pc,this.flattenAnnots=xl,this.highlight=kl,this.unhighlight=Ll,this.esearch=Ol,this.esummary=Pl,this.elink=jl,this.getOrganismFromEutils=Nl,this.getTaxids=Rl,this.getAssemblyAndChromosomesFromEutils=Wl,this.drawBandLabels=Zl,this.getBandColorGradients=eu,this.processBandData=su,this.setBandsToShow=Xl,this.hideUnshownBandLabels=Ul,this.drawBandLabelText=Ql,this.drawBandLabelStalk=Jl,this.onBrushMove=uu,this.onBrushEnd=fu,this.createBrush=hu,this.createClickCursor=mu,this.onCursorMove=pu,this.drawSexChromosomes=gu,this.setSexChromosomes=yu,this.convertBpToPx=bu,this.convertPxToBp=xu,this.unpackAnnots=af,this.packAnnots=sf,this.initCrossFilter=cf,this.filterAnnots=lf,this.assemblyIsAccession=Lo,this.getDataDir=Oo,this.round=Po,this.onDidRotate=jo,this.getSvg=Mo,this.fetch=Io,this.getTaxid=No,this.getCommonName=Do,this.getScientificName=Fo,this.getChromosomeModel=hf,this.getChromosomePixels=ff,this.drawChromosomeLabels=Zf,this.rotateChromosomeLabels=th,this.appendHomolog=Xf,this.drawChromosome=Kf,this.rotateAndToggleDisplay=Qf,this.setOverflowScroll=Jf,this.plotRelatedGenes=yy,this.getRelatedGenesByType=vp,this.configure(e)}return e=t,n=[{key:"version",get:function(){return c}},{key:"d3",get:function(){return ko}},{key:"fetchEnsembl",value:(r=Oy().mark((function t(e){var n,r,o,i,a,s,c=arguments;return Oy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={method:r=c.length>2&&void 0!==c[2]?c[2]:"GET"},null!==(n=c.length>1&&void 0!==c[1]?c[1]:null)&&(o.body=JSON.stringify(n)),"GET"===r?(i=e.includes("&")?"&":"?",e+=i+"content-type=application/json"):o.headers={"Content-Type":"application/json"},t.next=7,fetch("https://rest.ensembl.org".concat(e),o);case 7:return a=t.sent,t.next=10,a.json();case 10:return s=t.sent,t.abrupt("return",s);case 12:case"end":return t.stop()}}),t)})),o=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){Py(i,n,o,a,s,"next",t)}function s(t){Py(i,n,o,a,s,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"getChrSortNamesAndTypes",value:function(t,e){var n,r,o,i,a,s,c,l,u,f;return"string"==typeof t||"chr"in t&&"annots"in t?(a="MT"===(n="string"==typeof t?t:t.chr),s="MT"===(r="string"==typeof e?e:e.chr),c="AP"===n,l="AP"===r,u=!(o="CP"===n)&&!a&&!c,f=!(i="CP"===r)&&!s&&!l):(n=t.name,r=e.name,o="chloroplast"===t.type,i="chloroplast"===e.type,a="mitochondrion"===t.type,s="mitochondrion"===e.type,c="apicoplast"===t.type,l="apicoplast"===e.type,u="nuclear"===t.type,f="nuclear"===e.type),[n,r,{aIsNuclear:u,bIsNuclear:f,aIsCP:o,bIsCP:i,aIsMT:a,bIsMT:s,aIsAP:c,bIsAP:l}]}},{key:"sortChromosomes",value:function(e,n){var r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ey(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ey(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.getChrSortNamesAndTypes(e,n),3),o=r[0],i=r[1],a=r[2],s=a.aIsNuclear,c=a.bIsNuclear,l=a.aIsCP,u=a.bIsCP,f=a.aIsMT,h=a.bIsMT,d=a.aIsAP,p=a.bIsAP;return s&&c?(Go(o)&&Go(i)&&(o=Ho(o).toString(),i=Ho(i).toString()),o.localeCompare(i,"en",{numeric:!0})):!s&&c||f&&u?1:l&&h?-1:d||f||l||!(h||u||p)?void 0:-1}},{key:"initRelatedGenes",value:function(t){return function(t,e){return"leads"===t.relatedGenesMode&&(delete t.onDrawAnnots,delete t.relatedGenesMode),Ly(Object.assign({showParalogNeighborhoods:!0,isLegendInteractive:!0,relatedGenesMode:"related",useCache:!0,awaitCache:!0},Sy),t,e)}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all")}},{key:"initGeneLeads",value:function(t){return function(t,e){if(delete t.onPlotFoundGenes,t.legendName)if(t.legendContent)_y[0].name=xy(t.legendName,t.legendContent);else if(t.geneLeadsDE){var n='<span style="font-size: 14px; font-weight: bold; left: 0">Gene leads</span> from<br/>'+'<div style="margin-top: 10px; padding: 3px 6px; font-size: 14px; font-weight: bold; color: #3D629A;">'.concat(fileIcon,' <span style="margin-left: 20px; position: relative; top: -1px;">Publication</span></div>')+'<div style="margin-top: 3px; margin-bottom: -10px; font-size: 14px; padding: 3px 6px;">'.concat(deltaIcon,' <span style="margin-left: 20px;">Differential expression</span></div><br/>');_y[0].name=xy(t.legendName,n)}else _y[0].name=xy(t.legendName);var r,o;return t.legend=_y,t.geneLeadsDE?(o="leads",r="annotations/gene_leads.tsv"):(o="hints",r="cache/homo-sapiens-top-genes.tsv"),Ly(Object.assign({relatedGenesMode:o,chrMargin:-4,annotationsPath:To(r),onDrawAnnots:ky,useCache:!0},Sy),t,e)}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all")}}],n&&jy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r,o}();window.Ideogram=Iy;const Ny=Iy;return r})()));
//# sourceMappingURL=ideogram.min.js.map